<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Ryosuke]]></title><description><![CDATA[The portfolio and blog of Ryosuke]]></description><link>http://whoisryosuke.com/</link><generator>RSS for Node</generator><lastBuildDate>Thu, 02 Aug 2018 17:54:03 GMT</lastBuildDate><item><title><![CDATA[Using Airbnb's React to Sketch app to generate Sketch style guide]]></title><description><![CDATA[When I discovered Airbnb's  react-sketchapp , I was ecstatic to start ditching the clunky design version control systems for a single source…]]></description><link>http://whoisryosuke.com//blog/2018/using-airbnb-react-sketch-app-for-style-guide/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/using-airbnb-react-sketch-app-for-style-guide/</guid><pubDate>Thu, 02 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;When I discovered Airbnb&apos;s &lt;a href=&quot;https://github.com/airbnb/react-sketchapp&quot;&gt;react-sketchapp&lt;/a&gt;, I was ecstatic to start ditching the clunky design version control systems for a single source of truth: &lt;strong&gt;React&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;Everything ends up in React anyway. And despite my love for &lt;a href=&quot;https://sketchapp.com&quot;&gt;Sketch&lt;/a&gt; -- it&apos;s not available on Windows or Linux, limiting contribution. We wanted to make our design system as accessible as possible, and as exclusive as React sounded, it was ultimately the better choice.&lt;/p&gt;
&lt;h2&gt;Single source of truth: React&lt;/h2&gt;
&lt;h3&gt;Normal development process:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Design in sketch&lt;/li&gt;
&lt;li&gt;Transfer designs to React&lt;/li&gt;
&lt;li&gt;Design again in sketch&lt;/li&gt;
&lt;li&gt;Translate changes to React&lt;/li&gt;
&lt;li&gt;Commit sketch file to git repo&lt;/li&gt;
&lt;li&gt;Git pull new changes and lose small changes another artist made in another commit&lt;/li&gt;
&lt;li&gt;Or ideally version control with &lt;a href=&quot;http://plantapp.io/&quot;&gt;Plant&lt;/a&gt; or &lt;a href=&quot;http://kactus.io&quot;&gt;Kactus&lt;/a&gt; and still struggle.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;The better way:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Design in sketch (or Photoshop, or any program really)&lt;/li&gt;
&lt;li&gt;Transfer designs to React&lt;/li&gt;
&lt;li&gt;Never touch Sketch again, unless you need to, you know...sketch&lt;/li&gt;
&lt;li&gt;Transfer React designs to Sketch&lt;/li&gt;
&lt;li&gt;Update React code, generate new Sketch file&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;The problems with react-sketchapp&lt;/h2&gt;
&lt;h3&gt;React as a requirement&lt;/h3&gt;
&lt;p&gt;This is a issue for some, particularly companies that prefer to stay platform agnostic. If this is the case, then definitely base your design system in whatever format you prefer.&lt;/p&gt;
&lt;p&gt;For Kushy, all of our applications are being developed in React. Every single one of them. Maybe one or two in Preact, some in Electron (which uses React). Obviously non-app projects, like static websites, are built on basic HTML/CSS. But for the most part, 90% of the time you&apos;re using React in our ecosystem. This makes it an obvious choice for the source of truth.&lt;/p&gt;
&lt;h3&gt;Updating designs via Sketch&lt;/h3&gt;
&lt;p&gt;This system makes it easy for developers to contribute to the design system, but is it a 2-way street? Does it allow for designers to update Sketch and reflect in React? &lt;strong&gt;Spoiler alert:&lt;/strong&gt; &lt;em&gt;Nope, only React to Sketch.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Which means you need design version control using Kactus, Plant, etc. The design system would have a script that builds Sketch files from React components. Designers &lt;code class=&quot;language-text&quot;&gt;git pull&lt;/code&gt; those Sketch files and use Kactus to handle changes between designers + submitting PR to repo. A developer has to look at the Sketch file (ideally using Kactus to compare visual commit diffs), and then apply changes to React.&lt;/p&gt;
&lt;h3&gt;It&apos;s not a React Converter&lt;/h3&gt;
&lt;p&gt;One of the major issues is that you&apos;re required to use only 3 types of &lt;em&gt;universal&lt;/em&gt; components (View, Text, StyleSheet) to create all your components. It&apos;s a system of &lt;em&gt;primitives&lt;/em&gt;, similar to React Native, where you have base components that extend the client&apos;s OS or browsing software.&lt;/p&gt;
&lt;p&gt;These primitives allow you to easily create compositions that convert to Sketch styles and shapes, rather than having to interpret DOM nodes + CSS. &lt;/p&gt;
&lt;p&gt;However, if you have an existing design system in React, like Bootstrap or Material UI, &lt;strong&gt;you&apos;ll have to recode everything by hand&lt;/strong&gt; in a new API. And you&apos;ll &lt;em&gt;still&lt;/em&gt; have to manually update your old React components, unless you choose to switch over to universal rendering with &lt;a href=&quot;https://github.com/lelandrichardson/react-primitives&quot;&gt;react-primitives&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;The solutions&lt;/h2&gt;
&lt;h3&gt;Everyone doesn&apos;t use Sketch, everyone can use React&lt;/h3&gt;
&lt;p&gt;Sketch is an application that is exclusive to the Mac, so Windows and Linux users will be unable to contribute to the design system if it&apos;s basis begins at Sketch. &lt;/p&gt;
&lt;p&gt;By making the single source of truth React components, it allows anyone to make contributions on any platform. And by using the Airbnb library, we can create a bridge between React and Sketch, so we can still facilitate access to the creatives using Sketch.&lt;/p&gt;
&lt;h3&gt;More accessible components&lt;/h3&gt;
&lt;p&gt;Even if someone doesn&apos;t prefer React, we can still easily extract the HTML and CSS from rendered components. It&apos;s not exactly copy paste, but it&apos;s an easier translation than say converting a Sketch file to HTML/CSS (since those services exist, but &lt;a href=&quot;https://launchpad.animaapp.com/pricing&quot;&gt;tend to be pricey&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;And by forcing you to work in &lt;em&gt;primitives&lt;/em&gt;, your components become &lt;em&gt;universally available&lt;/em&gt; in most devices (mobile - Android + iOS, desktop, etc).&lt;/p&gt;
&lt;h2&gt;The Process&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Make list of needs for style guide (typography, colors, etc)&lt;/li&gt;
&lt;li&gt;Make a template in Sketch of how the final product will look&lt;/li&gt;
&lt;li&gt;Make Sketch of interface for app&lt;/li&gt;
&lt;li&gt;Make the app!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Using react-sketchapp&lt;/h2&gt;
&lt;p&gt;We&apos;ll be using &lt;a href=&quot;https://github.com/airbnb/react-sketchapp/tree/master/examples/styleguide&quot;&gt;the Styleguide example&lt;/a&gt; in the React-Sketch.app repo. &lt;/p&gt;
&lt;h3&gt;New projects&lt;/h3&gt;
&lt;p&gt;If you&apos;re starting a new project: &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;git clone&lt;/code&gt; the base project&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cd&lt;/code&gt; into the styleguide folder&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;npm run render&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Open Sketch, create a new document.&lt;/li&gt;
&lt;li&gt;Click on Plugins in the top menu, navigate to &lt;code class=&quot;language-text&quot;&gt;react-sketchapp: Styleguide&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Existing projects&lt;/h3&gt;
&lt;p&gt;In an existing project, install the necessary dependencies:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i react react-sketchapp react-test-renderer chroma-js
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i @skpm/builder --dev
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add the following scripts to your &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;skpm-build&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;watch&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;skpm-build --watch&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;render&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;skpm-build --watch --run&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;render:once&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;skpm-build --run&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;postinstall&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm run build &amp;amp;&amp;amp; skpm-link&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;The Results&lt;/h2&gt;

  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/airbnb-react-sketchapp-styleguide-bc5d7d234a9aa73fb0f824469b398374-f3d01.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 744px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 129.16666666666669%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAwEBAQAAAAAAAAAAAAAAAAIEAwEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAH3U1WmEI7PVkMRWOP/xAAcEAACAgIDAAAAAAAAAAAAAAABAgARAxIQMUH/2gAIAQEAAQUCqW3IIm6xjQAQM5w7wd+//8QAFhEAAwAAAAAAAAAAAAAAAAAAABAS/9oACAEDAQE/AXJ//8QAFhEAAwAAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/AXT/xAAdEAABBAIDAAAAAAAAAAAAAAABABARIQIyEkGR/9oACAEBAAY/AlqPXiRS2DZ1faPLAyxRX//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQVFxof/aAAgBAQABPyGOkLggFZnZsy0ttnQ0uNL9EUdGQnpq+xO5rLgz7xt7OT//2gAMAwEAAgADAAAAEIDZwf/EABgRAAMBAQAAAAAAAAAAAAAAAAABEXGR/9oACAEDAQE/ECocag8cP//EABcRAQEBAQAAAAAAAAAAAAAAAAARIVH/2gAIAQIBAT8QRq9P/8QAHRABAQACAgMBAAAAAAAAAAAAAREAITFBUWGR4f/aAAgBAQABPxAM3TJ++3PzjRQEbBsygokuLWCQgq9+MZDGkSJnAhei4H8lDnud4Y0eDi/cIm/OKi7hnrCSRt3n/9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;Airbnb&amp;apos;s react-sketchapp styleguide example&quot; title=&quot;&quot; src=&quot;/static/airbnb-react-sketchapp-styleguide-bc5d7d234a9aa73fb0f824469b398374-f3d01.jpg&quot; srcset=&quot;/static/airbnb-react-sketchapp-styleguide-bc5d7d234a9aa73fb0f824469b398374-0eb23.jpg 270w,
/static/airbnb-react-sketchapp-styleguide-bc5d7d234a9aa73fb0f824469b398374-9b24c.jpg 540w,
/static/airbnb-react-sketchapp-styleguide-bc5d7d234a9aa73fb0f824469b398374-f3d01.jpg 744w&quot; sizes=&quot;(max-width: 744px) 100vw, 744px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    
&lt;p&gt;Here&apos;s what you get out of the box. You get a basic style guide with typography and color definitions. &lt;/p&gt;
&lt;h3&gt;Hot reloading&lt;/h3&gt;
&lt;p&gt;Editing and saving the React components triggers Sketch to remove the old layer group, and replace with a new group. If you move anything around, you&apos;ll see it bounce back to the original position on the canvas. That also means even if you place anything inside an artboard, it&apos;ll get deleted and replaced with only what is defined in React.&lt;/p&gt;
&lt;h3&gt;Works with custom fonts&lt;/h3&gt;
&lt;p&gt;It instantly changed the text from Helvetica and Georgia to a custom font I&apos;ve installed from a 3rd party. &lt;/p&gt;
&lt;h3&gt;SVGs&lt;/h3&gt;
&lt;p&gt;Using SVGs was fairly simple. I grabbed SVG code, imported it into the project, and replaced all the SVG&apos;s DOM elements with React component equivalents (&lt;code class=&quot;language-text&quot;&gt;&amp;lt;path&amp;gt; becomes &amp;lt;Svg.path&amp;gt;&lt;/code&gt;). It was a simple process of find and replace, and I had functional (and universal) SVG components.&lt;/p&gt;
&lt;h3&gt;Artboards, Pages, Organization&lt;/h3&gt;
&lt;p&gt;You can create artboards and pages with React using the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Artboard&amp;gt;&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Page&amp;gt;&lt;/code&gt; components. It&apos;s as easy as wrapping everything in these . It also supports &lt;code class=&quot;language-text&quot;&gt;/&lt;/code&gt; based name notation, which is vital for Sketch to export into organized folders.&lt;/p&gt;
&lt;p&gt;I couldn&apos;t get multiple pages to work with the Styleguide example, and the documentation didn&apos;t help much. I kept getting an error saying something about &lt;code class=&quot;language-text&quot;&gt;document.pages&lt;/code&gt; after I wrapped everything in &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Document&amp;gt;&lt;/code&gt; components (had to rename the other Document component that gets rendered).&lt;/p&gt;
&lt;h4&gt;Generating artboards for each &lt;Component /&gt;&lt;/h4&gt;
&lt;p&gt;I was looking for examples of devs using react-sketchapp in the wild, and stumbled on this bit of code in the &lt;a href=&quot;https://github.com/ant-design/antd-sketchapp/blob/master/src/demo.js&quot;&gt;antd-sketchapp&lt;/a&gt; repo:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; render&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Artboard &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-sketchapp&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ButtonDemo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./components/Button/demo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CheckboxDemo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./components/Checkbox/demo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; PaginationDemo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./components/Pagination/demo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TableDemo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./components/Table/demo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; GridDemo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./components/Grid/demo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; IconDemo &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./components/Icon/demo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;renderDemo&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Component&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Artboard
        name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`antd-sketchapp &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          padding&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Artboard&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;currentPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Checkbox &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;renderDemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Checkbox&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; CheckboxDemo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Button &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;renderDemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ButtonDemo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Pagination &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;renderDemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Pagination&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PaginationDemo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Table &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;renderDemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Table&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TableDemo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Grid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;renderDemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Grid&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; GridDemo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Icon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;renderDemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Icon&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; IconDemo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;You create a simple functional component called &lt;code class=&quot;language-text&quot;&gt;renderDemo&lt;/code&gt; that accepts the name of the component, and the actual component itself. It returns an Artboard with the dynamic &lt;Component /&gt; nested inside. Then we run that &lt;code class=&quot;language-text&quot;&gt;renderDemo&lt;/code&gt; function on each component. Wha-la 👉 we have 6 separate artboards for our individual components.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;

  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/kushy-react-sketchapp-style-guide-0546fd74dbdacc0f56d65b4f130b72a0-89322.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 900px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 154.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAfABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAECAwQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAe8ykuAFm1KIEyz/xAAeEAABAgcBAAAAAAAAAAAAAAABABECAxASEyAhMv/aAAgBAQABBQLTHDQ8TG6X4TBAMP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EAB4QAAEBCQAAAAAAAAAAAAAAAAAQARIgISIxM0Jh/9oACAEBAAY/AoLLl2GVPdWR/8QAHxAAAgEDBQEAAAAAAAAAAAAAAREAQWFxECAhMVHh/9oACAEBAAE/IVnYK3LJ0JGSoGC1S8tDf2UIfctQCAQn/9oADAMBAAIAAwAAABBDyM3/xAAZEQEAAgMAAAAAAAAAAAAAAAABADEQESH/2gAIAQMBAT8QwOquHCf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAgEBPxAp/8QAHxABAQACAQQDAAAAAAAAAAAAAREAMSEQQVFxkaHx/9oACAEBAAE/EFVbtocCG199E8GTjYWQJ99AWB3V1ibgrhOE/eAw5r82AYKeMAVDVrx3wMQNATP/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;Airbnb&amp;apos;s react-sketchapp styleguide example with Kushy edits&quot; title=&quot;&quot; src=&quot;/static/kushy-react-sketchapp-style-guide-0546fd74dbdacc0f56d65b4f130b72a0-89322.jpg&quot; srcset=&quot;/static/kushy-react-sketchapp-style-guide-0546fd74dbdacc0f56d65b4f130b72a0-34476.jpg 270w,
/static/kushy-react-sketchapp-style-guide-0546fd74dbdacc0f56d65b4f130b72a0-0c584.jpg 540w,
/static/kushy-react-sketchapp-style-guide-0546fd74dbdacc0f56d65b4f130b72a0-89322.jpg 900w&quot; sizes=&quot;(max-width: 900px) 100vw, 900px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    
&lt;p&gt;&lt;strong&gt;If you&apos;re starting from scratch,&lt;/strong&gt; this seems like an interesting experiment to create a truly universal set of React components that work on web and mobile.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If you have an existing design system&lt;/strong&gt;, I say pass on this. It&apos;s not worth the effort in developing and maintaining a mirrored set of primitive components. Unless you plan on switching to primitives, or already use some sort of universal component setup -- then this might be a promising path for you. &lt;/p&gt;
&lt;p&gt;It was a little disappointing to find that this wasn&apos;t as robust as I wanted it to be. The process was inhibited by the limitations of primitives. I need a world where I can grab my React components defined fundamentally in HTML/CSS and convert them to Sketch.&lt;/p&gt;
&lt;p&gt;I&apos;m looking forward to trying out brainly&apos;s &lt;a href=&quot;https://github.com/brainly/html-sketchapp&quot;&gt;html-sketchapp&lt;/a&gt;, which does exactly that -- converts HTML + CSS to a Sketch file. Rather than using React native-like primitives, we simply render our React components to HTML and pull them into the converter. But I&apos;ll get into that next time!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/whoisryosuke/kushy-react-sketchapp&quot;&gt;⚡️  Download my source code here on Github 👈 &lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Hope this helps 👍
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/whoisryosuke/kushy-react-sketchapp&quot;&gt;My sample project on Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/airbnb/react-sketchapp/&quot;&gt;airbnb&apos;s react-sketchapp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[My Visual Studio Code Setup 🎨]]></title><description><![CDATA[I had to do some development on another computer recently, and after settling down in front of a desk with the default VSCode config, I…]]></description><link>http://whoisryosuke.com//blog/2018/my-visual-studio-code-setup/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/my-visual-studio-code-setup/</guid><pubDate>Fri, 27 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I had to do some development on another computer recently, and after settling down in front of a desk with the default VSCode config, I quickly realized how much of my local environment and workflow needed to be configured and installed. &lt;/p&gt;
&lt;h2&gt;Backing up your VSCode setup ⬇️&lt;/h2&gt;
&lt;p&gt;Luckily, VSCode makes it a fairly easy process to backup your settings and extensions. Your configuration is a JSON file, making it a effortless copy and paste scenario. And as for the extensions, you just install a bash script to back everything up. This generates a list of Bash commands that install each individual extension:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;code --list-extensions &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;xargs&lt;/span&gt; -L 1 &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; code --install-extension
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;To install the code Bash alias on Mac, go to Command Palette and type &quot;install command&quot; to find the shell script. Make sure to install it on both your backup, and new computer.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;My setup 🎨&lt;/h2&gt;
&lt;h3&gt;JSON Configuration 🔧&lt;/h3&gt;
&lt;p&gt;Not too much special here. Only a couple customizations of hotkeys (I used to use Sublime, so I prefer those shortcuts). I modified the Palenight Italic theme because I didn&apos;t like the contrast of some sections (like the sidebar color).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;workbench.colorTheme&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Palenight Italic&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;editor.fontFamily&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Fira Code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;editor.fontSize&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;workbench.iconTheme&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;material-icon-theme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;sublimeTextKeymap.promptV3Features&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;editor.multiCursorModifier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ctrlCmd&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;editor.snippetSuggestions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;top&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;editor.formatOnPaste&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;window.zoomLevel&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;workbench.colorCustomizations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;[Palenight Italic]&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;sideBar.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;sideBarSectionHeader.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;tab.activeBackground&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;editor.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;editorHoverWidget.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;debugExceptionWidget.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;peekViewTitle.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;panel.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;statusBar.noFolderBackground&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;notifications.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;debugToolBar.background&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#222635&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;tab.inactiveBackground&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#2d3244&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;tab.inactiveForeground&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#929ac9&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;sideBar.foreground&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#7179a1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;javascript.updateImportsOnFileMove.enabled&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;never&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;files.associations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;*.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;javascriptreact&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Extensions ⚙️&lt;/h3&gt;
&lt;p&gt;Just a few of the must-haves. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Project Manager&lt;/strong&gt; is great for keeping track of projects across your computer/drives. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ES7 / ReactJS&lt;/strong&gt; snippets are a must.Start typing &lt;code class=&quot;language-text&quot;&gt;r&lt;/code&gt;...to get premade React component structures (like functional or Redux containers)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PHP Intellisense&lt;/strong&gt; - This is a must for PHP developers working with complex application. Hover over any method/function to see it&apos;s documentation, and click the tooltip to navigate directly to the function&apos;s source file.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PHP Docblocker&lt;/strong&gt; - Makes documenting PHP code easy. Type &lt;code class=&quot;language-text&quot;&gt;/**&lt;/code&gt; to generate a docblock based on your function. It&apos;ll automatically pick up things like the return value and toss it in your docs (complete with type checking).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Todo Tree&lt;/strong&gt; - If you ever find yourself leaving &lt;code class=&quot;language-text&quot;&gt;// @todo&lt;/code&gt; comments in your code, this extension will scan your code and find all them to place in a todo list.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Polacode&lt;/strong&gt; - Great way to quickly take screenshots of your code, all styled with your editors theme.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Multi-line find and replace&lt;/strong&gt; - Ever need to copy more than one line of code without adding regex manually? Select text, open up the command palette, and choose this plugin to copy a valid regex search. This is essential for VSCode since it doesn&apos;t support this by default.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension alefragnani&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;project&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;manager
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension axlan&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;multiline&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;find&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;and&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;replace
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension cjhowe7&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;laravel&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;blade
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension dbaeumer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vscode&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;eslint
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension dsznajder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;es7&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;react&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;js&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;snippets
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension felixfbecker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;php&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;intellisense
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension Gruntfuggly&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;todo&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;tree
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension HookyQR&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;beautify
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension joelday&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;docthis
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension juanmnl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vscode&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;theme&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;hydra
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension kumar&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;harsh&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;graphql&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;vscode
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension leighlondon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eml
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension mikestead&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dotenv
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension ms&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;vscode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sublime&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;keybindings
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension neilbrayfield&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;php&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;docblocker
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension neilding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;language&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;liquid
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension octref&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;vetur
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension PKief&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;material&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;icon&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;theme
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension pnp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;polacode
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension sdras&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;night&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;owl
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension whizkydee&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;material&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;palenight&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;theme
code &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;install&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;extension zhuangtongfa&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Material&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;theme
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;What&apos;s your setup like? 💻&lt;/h2&gt;
&lt;p&gt;I&apos;m always interested in learning from other&apos;s workflows and maybe some lesser known extensions that are must-haves. Let me know what your VSCode setup looks like in the comments! 👍&lt;/p&gt;
&lt;p&gt;Cheers 🍻
Ryo&lt;/p&gt;</content:encoded></item><item><title><![CDATA[NextJS Tip: Hot reloading for dynamic servers]]></title><description><![CDATA[Have you been developing a  NextJS  app with dynamic routing (using maybe Express), and found that every time you make a change you have to…]]></description><link>http://whoisryosuke.com//blog/2018/nextjs-tip-hot-reloading-for-dynamic-servers/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/nextjs-tip-hot-reloading-for-dynamic-servers/</guid><pubDate>Wed, 25 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Have you been developing a &lt;a href=&quot;http://nextjs.org&quot;&gt;NextJS&lt;/a&gt; app with dynamic routing (using maybe Express), and found that every time you make a change you have to do the tedious process of shutting down the server (CTRL+C) and restarting it? (&lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;If you&apos;re used to working with &lt;a href=&quot;http://nodejs.org&quot;&gt;NodeJS&lt;/a&gt;, or &lt;a href=&quot;https://expressjs.com/&quot;&gt;ExpressJS&lt;/a&gt;, you&apos;ve probably come across &lt;a href=&quot;https://github.com/remy/nodemon&quot;&gt;nodemon&lt;/a&gt;. It&apos;s a utility that enables hot reloading on Node-based servers, so that whenever you make a change to a server file and save -- it instantly starts to restart without any prompt from your part.&lt;/p&gt;
&lt;p&gt;But &lt;strong&gt;nodemon doesn&apos;t work out of the box with NextJS&lt;/strong&gt; and requires a &lt;em&gt;small amount&lt;/em&gt; of configuration. If you try running nodemon without a config or the proper CLI params, you&apos;ll find that your server will start acting &lt;em&gt;real wonky&lt;/em&gt;. My server started restarting infinitely, because it was detecting changes each time NextJS compiled, triggering an infinite loop of compilations.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This guide assumes you have a NextJS project with dynamic routing setup. You can find a few in &lt;a href=&quot;https://github.com/zeit/next.js/tree/master/examples&quot;&gt;the examples section of the NextJS repo&lt;/a&gt; &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The solution?&lt;/h2&gt;
&lt;p&gt;Nodemon accepts a configuration file, which allows you have a greater degree of control over the process. By adding a few values to this file, we can solve all our issues.&lt;/p&gt;
&lt;h3&gt;Install nodemon&lt;/h3&gt;
&lt;p&gt;If you haven&apos;t already, install nodemon:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install --save-dev nodemon&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Create the config file&lt;/h3&gt;
&lt;p&gt;Create a &lt;code class=&quot;language-text&quot;&gt;nodemon.json&lt;/code&gt; file in the project root and paste the following into it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;verbose&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;ignore&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node_modules&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.next&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;watch&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;server/**/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;server.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;ext&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;js json&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This tells nodemon to ignore the &lt;code class=&quot;language-text&quot;&gt;.next&lt;/code&gt; folder, which is used as a cache for the Next compiler (and triggers the infinite reload). And we also tell it which file to watch for changes from. I keep my server file in a separate server folder, since I have stuff like routes/middleware/etc that need separate files and folders.&lt;/p&gt;
&lt;h3&gt;Update your npm dev script&lt;/h3&gt;
&lt;p&gt;Now you can modify your &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; and update the &apos;dev&apos; script value to use nodemon instead of the default &lt;code class=&quot;language-text&quot;&gt;node server.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;dev&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;nodemon -w server/server.js server/server.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;next build&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NODE_ENV=production node server.js&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now you can run &lt;code class=&quot;language-text&quot;&gt;npm run dev&lt;/code&gt; and you&apos;ll have yourself a hot-reloading server.&lt;/p&gt;
&lt;p&gt;I found this solution on &lt;a href=&quot;https://github.com/zeit/next.js/issues/791&quot;&gt;the NextJS Github issues&lt;/a&gt;, where a people were having - go figure - the same issue.&lt;/p&gt;
&lt;p&gt;Hope that helps ✌️
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/remy/nodemon&quot;&gt;nodemon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/791&quot;&gt;NextJS Github issue - hot reloading&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Express Middleware for API Requests]]></title><description><![CDATA[Recently I needed to create a NextJS app that made authenticated API calls, and couldn't reveal it's credentials to the client. The solution…]]></description><link>http://whoisryosuke.com//blog/2018/express-middleware-for-api-requests/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/express-middleware-for-api-requests/</guid><pubDate>Mon, 23 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I needed to create a NextJS app that made authenticated API calls, and couldn&apos;t reveal it&apos;s credentials to the client. The solution was simple, I had to integrate Express into the app. But how do you fetch data from the API and pass it down to a page?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This process assumes you have an environment setup with NextJS, Express, an isomorphic fetch solution, and dotenv (for ENV variables). If you follow the NextJS guide for dynamic routing you be mostly there. But it should be pretty easy to adapt to other server frameworks.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Async or bust&lt;/h2&gt;
&lt;p&gt;I tried to first fetch the data in a separate function and call it before the page was rendered in the route:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; credentials &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;get&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Basic &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;btoa&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_USER &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;:&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_VENDOR&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchApi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;endpoint&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_URL &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; endpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; credentials&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/facilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/facilities/v1/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/facilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This resulted in the page rendering and loading, and the data loading afterwards. Simple mistake, especially if you come from a background that isn&apos;t asynchronous. &lt;/p&gt;
&lt;p&gt;But how do you create an async Express route? Shockingly easily apparently:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;    server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/facilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/facilities/v1/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/facilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add an async before the function that renders your route -- *because don&apos;t stress it, it&apos;s easy to forget that you&apos;re working &lt;strong&gt;inside&lt;/strong&gt; a function*. Now you just slap an await on Promise you want to fetch before page load.&lt;/p&gt;
&lt;h2&gt;But can we make it reusable?&lt;/h2&gt;
&lt;p&gt;I needed to fetch data across many routes, with many different requests to different endpoints. Rather than repeating code in every route to make the API request, we make a &lt;strong&gt;middleware&lt;/strong&gt; that does it and dumps the data in the &lt;code class=&quot;language-text&quot;&gt;res.locals&lt;/code&gt; (which is accessible in our route).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Credentials for authenticated fetch calls to API&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; credentials &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;get&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Basic &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;btoa&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_USER &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;:&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_VENDOR&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * Facade for fetch preloaded with authentication credentials
 * to easily use in any other function
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchApi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;endpoint&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_URL &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; endpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; credentials&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * A function that returns the middleware function
 * We nest the middleware in a function so we can 
 * pass an endpoint, making the middleware more reusable
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;endpoint&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Here we create an async function so
     * we can load the data before the page renders
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetchData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;endpoint&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// We place the data in res.locals to access in the route later&lt;/span&gt;
          res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data
          &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fetchData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; server &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/facilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/facilities/v1/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/facilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The code explains it a bit, but I had to nest the middleware function inside another function in order to pass the endpoint parameter. It&apos;s the way that JS works, similar to when you use &lt;code class=&quot;language-text&quot;&gt;.map()&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;.filter()&lt;/code&gt; on an array and you want to pass a parameter but can&apos;t. It&apos;s an encapsulation issue caused by the way Express interprets it&apos;s middleware, forcing you to wrap it what the React community calls a &quot;HOC&quot;, or a function that returns another function (so you can pass additional &quot;props&quot; to the child function - or component in React&apos;s case).&lt;/p&gt;
&lt;p&gt;Now in any route we simply add the middleware &lt;code class=&quot;language-text&quot;&gt;getData(endpoint)&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You could also just do a fetch in the middleware &lt;strong&gt;without the async&lt;/strong&gt; and rely on &lt;code class=&quot;language-text&quot;&gt;next()&lt;/code&gt; function in the promise chain. It&apos;ll hold the progress until the loading is complete and then provide the &quot;next&quot; function (usually the render function). I just left everything async just in case I refactor it out of the middleware.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Super middleware&lt;/h3&gt;
&lt;p&gt;You could take this middleware and apply it to the entire application (rather than a single route), and use the &lt;code class=&quot;language-text&quot;&gt;req.params&lt;/code&gt; object to grab dynamic route variables (like a blog post ID, or in this case, a string that describes an endpoint). &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; endpoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endpoint
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Here we create an async function so
     * we can load the data before the page renders
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetchData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;endpoint&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// We place the data in res.locals to access in the route later&lt;/span&gt;
          res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data
          &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fetchData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

   &lt;span class=&quot;token comment&quot;&gt;// later in the app...&lt;/span&gt;
    server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/:endpoint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endpoint&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This allows for a completely dynamic connection to whichever API you&apos;re using, so depending on how large (and preferably simple) it is to access, you can use &lt;strong&gt;one middleware to rule them all.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;I ❤️ middleware&lt;/h2&gt;
&lt;p&gt;Middleware makes life so much easier, and makes application code so much slimmer. If you can find a way to simplify this code (without getting too deep into ES6 land), I challenge you to post it up in the comments! I&apos;m always interested in discovering and sharing the most efficient solutions to common problems.&lt;/p&gt;
&lt;p&gt;Hope that helps! ✌️
Ryo &lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://expressjs.com/en/guide/using-middleware.html&quot;&gt;ExpressJS Middleware&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function&quot;&gt;MDN: async function&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hackernoon.com/middleware-the-core-of-node-js-apps-ab01fee39200&quot;&gt;Middleware: THE core of node.js backend apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@Abazhenov/using-async-await-in-express-with-node-8-b8af872c0016&quot;&gt;Async Express routes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[How to create a PHP package for Composer]]></title><description><![CDATA[Recently, I've recently been trying my best to upload as much code to open source repositories like  Github  and  Codepen . It makes…]]></description><link>http://whoisryosuke.com//blog/2018/how-to-create-a-php-package-for-composer/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/how-to-create-a-php-package-for-composer/</guid><pubDate>Fri, 20 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently, I&apos;ve recently been trying my best to upload as much code to open source repositories like &lt;a href=&quot;http://github.com/whoisryosuke&quot;&gt;&lt;strong&gt;Github&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&quot;http://codepen.io/whoisryosuke&quot;&gt;&lt;strong&gt;Codepen&lt;/strong&gt;&lt;/a&gt;. It makes bootstrapping new projects much simpler when I can &lt;code class=&quot;language-text&quot;&gt;git clone&lt;/code&gt; a boilerplate from my Github, or &lt;em&gt;copypasta&lt;/em&gt; a CSS/JS snippet from CodePen. But what happens when I need to include a library or module into several projects? Cloning and copy paste just don&apos;t cut it at that point.&lt;/p&gt;
&lt;p&gt;Cut to &lt;a href=&quot;http://npmjs.com&quot;&gt;&lt;strong&gt;NPM&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&quot;http://getcomposer.com&quot;&gt;&lt;strong&gt;Composer&lt;/strong&gt;&lt;/a&gt; ( or really &lt;a href=&quot;http://packagist.com&quot;&gt;Packagist&lt;/a&gt;. NPM is a package manager for Javascript using Node, and Composer does the same for PHP. &lt;/p&gt;
&lt;p&gt;Today we&apos;ll be looking into submitting a PHP &quot;package&quot; to Composer through the Packagist, so we can use &lt;code class=&quot;language-text&quot;&gt;composer require&lt;/code&gt; to install our package into any project!&lt;/p&gt;
&lt;h2&gt;The simple steps&lt;/h2&gt;
&lt;p&gt;It&apos;s as easy as 4 steps (&lt;em&gt;minus the part where you code a reusable package in PHP&lt;/em&gt;) -- I was surprised too. Make sure before starting you&apos;ve created a git repository in your project and committed your code. It&apos;s also required to have an account on &lt;a href=&quot;http://github.com&quot;&gt;Github&lt;/a&gt; and &lt;a href=&quot;http://packagist&quot;&gt;Packagist&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a &lt;code class=&quot;language-text&quot;&gt;composer.json&lt;/code&gt; in your project:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;your-brand-name/your-project&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;library&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Your package description goes here&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;keywords&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;relevant&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;tags&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;go&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;here&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;homepage&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://yourcompany.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MIT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;authors&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Jordi Boggiano&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;j.boggiano@seld.be&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;homepage&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://seld.be&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;role&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Developer&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/new&quot;&gt;Create a new repository on your Github&lt;/a&gt; and push your local git (init if you haven&apos;t) to the remote Github repo.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://packagist.org/packages/submit&quot;&gt;Submit your package to the Packagist&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Done! Your package should be online and Packagist should provide a sample Composer require with your project name (e.g. &lt;code class=&quot;language-text&quot;&gt;composer require username/package-name&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;You should be able to view your package live at: &lt;code class=&quot;language-text&quot;&gt;https://packagist.org/packages/your-username/package-name&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;So easy, there&apos;s no excuse&lt;/h2&gt;
&lt;p&gt;One of the biggest principles of programming I try to apply is &lt;strong&gt;DRY&lt;/strong&gt;, &lt;em&gt;don&apos;t repeat yourself&lt;/em&gt;. When your code is probably already hosted on Github, it&apos;s only a two step process to get your code in a place where it&apos;s version controlled. &lt;/p&gt;
&lt;p&gt;Rather than relying on &lt;code class=&quot;language-text&quot;&gt;git clone&lt;/code&gt; or submodules, it&apos;s much more efficient for your codebase to use a composer dependency. &lt;/p&gt;
&lt;h2&gt;Take my code for a test run&lt;/h2&gt;
&lt;p&gt;The package I released on the Packagist is for developers working with the Metrc API to send and receive cannabis regulatory data. It&apos;s basically a wrapper for their API that uses a Guzzle client to interface with it (using your authoriation credentials).&lt;/p&gt;
&lt;p&gt;If you&apos;re a Metrc developer, or just interested in using the code, you can add it to your projects using:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;composer require kushy/metrc-php-sdk&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Kushy Frontend in NextJS]]></title><description><![CDATA[Recently I decided to start experimenting with  NextJS  as a way to implement a React frontend for  Kushy . Currently Kushy runs off Laravel…]]></description><link>http://whoisryosuke.com//blog/2018/kushy-frontend-in-nextjs/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/kushy-frontend-in-nextjs/</guid><pubDate>Tue, 17 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I decided to start experimenting with &lt;a href=&quot;https://nextjs.org/&quot;&gt;NextJS&lt;/a&gt; as a way to implement a React frontend for &lt;a href=&quot;http://kushy.net&quot;&gt;Kushy&lt;/a&gt;. Currently Kushy runs off Laravel directly, instead of being a separate app that consumes a Laravel API. I&apos;ve been looking to dive deep in React with Kushy, but it&apos;s been difficult finding a framework that scales properly, and I&apos;ve been avoiding doing it from scratch (crafting my own Webpack config, route and CSS splitting, &lt;em&gt;all that jazz&lt;/em&gt;). &lt;/p&gt;
&lt;p&gt;The goal of this experiment was to create a NextJS application for Kushy using the &lt;a href=&quot;http://kushy.net/developers/&quot;&gt;Kushy API&lt;/a&gt;, and discover what it takes to roughly create some basic functionality of Kushy (browsing individual businesses by slug).&lt;/p&gt;
&lt;h2&gt;Example&lt;/h2&gt;

  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/kushy-frontend-nextjs-screenshot-from-heroku-3e327eae8d5018fd9cc0730cbe38abd7-ca02f.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 774px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 103.87596899224806%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAADWklEQVQ4y5WV72+TVRTHn/9AE18Z35gY4xsDxuhe8E59oaJGZVkYsgy3+CNZ/JFFogMHyAYu0UQ0ShyoLIxtbAaIJMRgTMwYbeNgo6Prjy10jJU+/UXbp+3WPm3X9uO9d21d3RB2kpNznnvv+Z7vuT3nVrNvqmP8oUe48Vknhn2K2JiFmMVG9LKVqMVKTFj1LdaNiUkCP/7E3w8+zOQTm3E+vxX7k88w9fQW3K/WY99ch+bv68f3Qy+h3y9iuDzEpxwY007i1x3EHdPCd1X9xMysSGTBd7QXGRccOYN+cgD91BDBM+fQ+wfRTGBxcVFpIhgioeuk4gZxPYARDgs/juG7TTIWI53LkV5eRsZIzZTtal/LCKCcaZLPZlnO55VmhU8JJTnh5wVQXqwrK1WeL8fkzWzVzywtCYamqQKLpVLZFpV1357HNuNgI5ITyTTJJi/KkFIqg87qC9R1tPJo25tcdk+ptUKxqPbvplVAWdrX5wfoOXtSLSbTi7x8uJ2ndjfz2Af1DI39UQYsVAP/K2sAP+3/ngeaX6DvrwscGD7O4x82sPPb/WzZ+y7RVKLmSu4NKMTqua5KfK+3R9n2viNs+qSJztPH1pR7T8CMmVEfbce/YuuhdlqOHuKjE9/wbEcLQSNaZVe6X4bpzAqg706I9hNH+O7CCC92f8wll73m7ipB6zGtAay0TUUcC17mI4Gag6sD12NaW7JgeOuWj/l5Hws+P6FAWNaIvArZUvKQ1EKhUG32/2WYTqe5euUKo6OXsNpsWK1WJiavYbNZle90urCI+fV6vfdfciwWJRAIEolE0MUsG4aBTLQkRmlZNL1kpxhuBNDv96sHIpVKrTwUiQTJZFLNcE3g6h9HJKkoorWqgDIwGAwqNndri/VGbc0si+SaKdtGoFPJKEBrdBWLyr48W1xKEz13njtDvxIZHCF29jdMQUzLlu9moyLfpNDAMIGf+9CP/ULo1GlktVp44hqOz7/A2d2Do6OTuf1dePceYG5fF3Nifa7zIDe7vsQr/iJuHhR2zz5xpvvffaki5sbuPYQv/okWGB1jfMcurr7Txvi2Rjw7W3E3NOF56208jc24G3cx2/I+rje2r9j6Hcw0taq96Ve24XytHtfrDTieewl9cJh/ANkx6M6URI7CAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;A screenshot of the Kushy frontend app running on Heroku&quot; title=&quot;&quot; src=&quot;/static/kushy-frontend-nextjs-screenshot-from-heroku-3e327eae8d5018fd9cc0730cbe38abd7-ca02f.png&quot; srcset=&quot;/static/kushy-frontend-nextjs-screenshot-from-heroku-3e327eae8d5018fd9cc0730cbe38abd7-fc16d.png 270w,
/static/kushy-frontend-nextjs-screenshot-from-heroku-3e327eae8d5018fd9cc0730cbe38abd7-f3790.png 540w,
/static/kushy-frontend-nextjs-screenshot-from-heroku-3e327eae8d5018fd9cc0730cbe38abd7-ca02f.png 774w&quot; sizes=&quot;(max-width: 774px) 100vw, 774px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    
&lt;p&gt;You can check out the project deployed on &lt;strong&gt;Heroku&lt;/strong&gt;, or browse the source code on Github:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://kushy-frontend-next.herokuapp.com/shop/chronic-pain-relief-center&quot;&gt;Heroku - Live test site showing Shop Slug&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://kushy.net/shops/chronic-pain-relief-center&quot;&gt;Live page on Kushy for comparison&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/whoisryosuke/kushy-frontend-next&quot;&gt;Github repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Issues&lt;/h2&gt;
&lt;p&gt;There were a couple of issues I encountered immediately while trying to use NextJS. Luckily only a couple.&lt;/p&gt;
&lt;h3&gt;Dynamic Routing (/posts/{slug})&lt;/h3&gt;
&lt;p&gt;NextJS doesn&apos;t have this out of the box. You have to make a NodeJS server (in this case Express) with your dynamic routes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;See: &lt;a href=&quot;https://github.com/zeit/next.js/#custom-server-and-routing&quot;&gt;NextJS docs on custom server/routing&lt;/a&gt;, &lt;a href=&quot;https://medium.com/@diamondgfx/nextjs-lessons-learned-part-2-f1781237cf5c&quot;&gt;this article&lt;/a&gt;, &lt;a href=&quot;https://github.com/fridays/next-routes&quot;&gt;this plugin&lt;/a&gt;, &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ended up using plugin (&lt;a href=&quot;https://www.npmjs.com/package/next-routes&quot;&gt;https://www.npmjs.com/package/next-routes&lt;/a&gt;) to accomplish it &quot;easily&quot;. In the future though I&apos;ll just use the Express API.&lt;/p&gt;
&lt;h3&gt;Deployment&lt;/h3&gt;
&lt;p&gt;NextJS can be Jekyll or other static site generators. You run a build process everytime the code changes, then you restart the server.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt;
&lt;code class=&quot;language-text&quot;&gt;npm run start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Makes NextJS perfect for something like Heroku that handles that process. Or maybe not, if they don&apos;t have proxying/multiple instances -- since NextJS performs best when clustered. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is possible to run a static build process like GatsbyJS that can run on a CDN/host like Github Pages or Netlify. But you lose the dynamic routing and SSR that Node and Express provide. That&apos;s where GatsbyJS shines, it pulls all the content to live statically, while NextJS pulls on demand.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;User Login / Authorization&lt;/h3&gt;
&lt;p&gt;NextJS doesn&apos;t come built in with any functionality for &quot;protected&quot; routes, if you needed to lock certain pages behind a login authentication. Luckily, it wasn&apos;t too difficult with the way NextJS works on the server and client-side.&lt;/p&gt;
&lt;p&gt;To login a user, I used an API using the OAuth2.0 flow, so I redirected the user to the API&apos;s login. Once the user logged in and approved the app, they&apos;re redirected back a callback page on the app. This page makes one last request to the API (using a secret token the API sent to the callback), and the API responds one last time with an access token or JWT (JSON Web Token) for the user.&lt;/p&gt;
&lt;p&gt;Here&apos;s where the magic of NextJS comes in. We store the token in a cookie on the server-side, which allows us to grab it from anywhere (server or client). When we need the token, we parse it from the server-side headers (passed through the &lt;code class=&quot;language-text&quot;&gt;getInitialProps()&lt;/code&gt; method) -- or use a library like &lt;code class=&quot;language-text&quot;&gt;js-cookie&lt;/code&gt; to grab the cookies client-side.&lt;/p&gt;
&lt;p&gt;To create a protected route, you make a HOC that checks for the cookie in the &lt;code class=&quot;language-text&quot;&gt;getInitialProps()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;componentDidMount()&lt;/code&gt; lifecycles. If you find the token&apos;s cookie, the HOC loads the page component. But if it can&apos;t find the cookie, it&apos;ll redirect the user to a public page (usually a login). &lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Much like any good framework, once you know what you&apos;re doing -- and you figure out how it handles certain things -- it becomes effortless to create what you want. I walked away from working on NextJS with my mind buzzing with several apps I could whip out now that I could apply them. While I&apos;m not sure this will be the framework we use for the Kushy frontend, it&apos;s definitely a great contender.&lt;/p&gt;
&lt;p&gt;Kanpai 🍻
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/whoisryosuke/kushy-frontend-next&quot;&gt;kushy-frontend-next on Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://nextjs.org/learn/basics/deploying-a-nextjs-app&quot;&gt;NextJS - Deployment Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/929&quot;&gt;NextJS - How to send request parameters to page (like post slug in URL)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/next-routes&quot;&gt;next-routes - Dynamic routing for NextJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next-plugins/issues/7&quot;&gt;NextJS - How to use multiple plugins / configurations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@diamondgfx/nextjs-lessons-learned-part-2-f1781237cf5c&quot;&gt;Lessons Learned Building in Next.js pt2 - Brandon Richey&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[NextJS Tip: Relative ES6 Modules]]></title><description><![CDATA[Do your components look like this in NextJS? This kind of setup is ok for smaller projects, but the second you need to shift a component…]]></description><link>http://whoisryosuke.com//blog/2018/nextjs-tip-relative-es6-modules/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/nextjs-tip-relative-es6-modules/</guid><pubDate>Mon, 16 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Do your components look like this in NextJS?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ShopProfile &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../../layouts/ShopProfile/ShopProfile&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; KushyApi &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../../utils/KushyApi&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Menu &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../../components/Menu/Menu&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This kind of setup is ok for smaller projects, but the second you need to shift a component around folders, it&apos;s easy to get lost in a sea of relative directories (was it two or three sets of &lt;code class=&quot;language-text&quot;&gt;.../&lt;/code&gt; 🤔).&lt;/p&gt;
&lt;h2&gt;The plugin way&lt;/h2&gt;
&lt;p&gt;The babel plugin called root-import can handle this for us, and it&apos;s pretty easy to setup:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install babel-plugin-root-import --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Add a &lt;code class=&quot;language-text&quot;&gt;.babelrc&lt;/code&gt; to your project root:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;presets&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;next/babel&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;plugins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;babel-plugin-root-import&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;env&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// For React Native&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;plugins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;babel-plugin-root-import&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;That&apos;s it. You can include components by using the &lt;code class=&quot;language-text&quot;&gt;~&lt;/code&gt; symbol as the root path:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ShopProfile &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;~/layouts/ShopProfile/ShopProfile&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; KushyApi &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;~/utils/KushyApi&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Menu &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;~/components/Menu/Menu&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Since NextJS uses a custom babel setup, when we provide our own setup, it overrides the default config. Which means we lose all kinds of great functionality, like &lt;a href=&quot;https://babeljs.io/docs/en/babel-plugin-transform-object-rest-spread/&quot;&gt;object spread&lt;/a&gt;. That&apos;s why we use Next&apos;s Babel presets in the beginning of the config(&lt;code class=&quot;language-text&quot;&gt;&amp;quot;presets&amp;quot;: [ &amp;quot;next/babel&amp;quot; ],&lt;/code&gt;), and drop our plugin underneath. Now you shouldn&apos;t get any errors during compilation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The better way&lt;/h2&gt;
&lt;p&gt;I looked up how to do this in general, not specifically for NexJS, and I found a site with &lt;a href=&quot;https://moduscreate.com/blog/es6-es2015-import-no-relative-path-webpack/&quot;&gt;a pretty concise guide&lt;/a&gt;. It stated that for Webpack 2, you&apos;d add this to your &lt;code class=&quot;language-text&quot;&gt;webpack.config.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;So in NextJS, I tried doing this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; withLess &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@zeit/next-less&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; withCSS &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@zeit/next-css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// To add new modules, nest the function (like a HOC in React)&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;withCSS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withLess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;webpack&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            test&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.(png|jpg|gif|svg|eot|ttf|woff|woff2)$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            use&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                loader&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;url-loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                options&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    limit&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// Here is the magic&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// We push our config into the resolve.modules array&lt;/span&gt;
        config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This allows you to use your components and modules like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; ShopProfile &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;layouts/ShopProfile/ShopProfile&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; KushyApi &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utils/KushyApi&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Menu &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;components/Menu/Menu&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;A bit cleaner than using the &lt;code class=&quot;language-text&quot;&gt;~&lt;/code&gt; symbol, way easier than installing another dependency 👍&lt;/p&gt;
&lt;p&gt;Hope that helps 🍻
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/entwicklerstube/babel-plugin-root-import#readme&quot;&gt;babel-plugin-root-import&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://moduscreate.com/blog/es6-es2015-import-no-relative-path-webpack/&quot;&gt;ES6 Import Statement Without Relative Paths Using Webpack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/342&quot;&gt;NextJS Issues - Relative modules absolutely&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/4010&quot;&gt;How to use .babelrc in combination with next.config.js?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[NextJS Tip - Using Media (Images & Fonts) in CSS]]></title><description><![CDATA[Recently I was setting up a  NextJS  project with  LESS  and CSS, and I was having an issue where my relative media files weren't getting…]]></description><link>http://whoisryosuke.com//blog/2018/nextjs-tip-using-media-in-css/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/nextjs-tip-using-media-in-css/</guid><pubDate>Mon, 09 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Recently I was setting up a &lt;a href=&quot;http://nextjs.org&quot;&gt;NextJS&lt;/a&gt; project with &lt;a href=&quot;http://lesscss.org&quot;&gt;LESS&lt;/a&gt; and CSS, and I was having an issue where my relative media files weren&apos;t getting loaded. I was getting this odd error from webpack saying there was an unexpected character?:&lt;/p&gt;
&lt;p&gt;Scrolling past this first chunk of error code in the server&apos;s console log showed that my PNG and SVG files weren&apos;t recognized:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;These relative modules were not found:

* ../../assets/images/Brand/kushy-logo-short-white.svg in ./components/Header/Header.less
* ../../assets/images/Brand/Kushy API Logo.png in ./components/Header/Header.less&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;The first solution&lt;/h2&gt;
&lt;p&gt;I found this solution on &lt;a href=&quot;https://github.com/zeit/next.js/issues/3852&quot;&gt;the NextJS Github issues&lt;/a&gt;, where someone adds a custom Webpack config to parse media files using &lt;code class=&quot;language-text&quot;&gt;url-loader&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;next.config.js:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;withCSS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withSass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;webpack&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      test&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.(png|jpg|gif|svg|eot|ttf|woff|woff2)$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      use&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        loader&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;url-loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        options&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          limit&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This didn&apos;t work for me, and I started getting an error about &lt;code class=&quot;language-text&quot;&gt;url-loader&lt;/code&gt; not being loaded (ironically). I installed it, and got errors that &lt;code class=&quot;language-text&quot;&gt;file-loader&lt;/code&gt; wasn&apos;t installed? I installed that and....it worked!&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install url-loader file-loader --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Another solution&lt;/h2&gt;
&lt;p&gt;Copy your images to the &lt;code class=&quot;language-text&quot;&gt;static&lt;/code&gt; folder in your app&apos;s root. This allows you to access them in your CSS (&lt;code class=&quot;language-text&quot;&gt;background:url(&amp;#39;/static/image.png&amp;#39;)&lt;/code&gt;). That easy 👌&lt;/p&gt;
&lt;p&gt;The reason you can&apos;t do this with NextJS is their webpack setup. &lt;a href=&quot;https://github.com/zeit/next.js/issues/1935&quot;&gt;They don&apos;t run webpack on the server level&lt;/a&gt;, which doesn&apos;t allow for syncing up of files like you get with other webpack setups. You have to extend their Webpack config with your own config options (like above), or use the simple system they put in place (static files served from a single folder). &lt;/p&gt;
&lt;h2&gt;Isn&apos;t there a plugin?&lt;/h2&gt;
&lt;p&gt;There&apos;s a library called &lt;a href=&quot;https://github.com/arefaslani/next-images&quot;&gt;next-images&lt;/a&gt; which tries to solve this problem by calling a &lt;code class=&quot;language-text&quot;&gt;require()&lt;/code&gt; function on any media you want to import on the fly. The issue with this is adding opinionated API code to CSS. It &lt;em&gt;requires&lt;/em&gt; (see what I did there?) that you add the &lt;code class=&quot;language-text&quot;&gt;require()&lt;/code&gt; function on every relative image URL. If I were to import my CSS from NPM to keep it consistent with my team, I&apos;d have issues overriding any image definitions with the necessary import function.&lt;/p&gt;
&lt;h2&gt;Real world example&lt;/h2&gt;
&lt;p&gt;I had an issue using the Semantic UI design system where it used relative font files for icons, and I was forced either setup a custom webpack config -- or manually copy them into my static folder and override the CSS definitions (&lt;code class=&quot;language-text&quot;&gt;@fontPath  : &amp;#39;/static/assets/fonts&amp;#39;;&lt;/code&gt;). Both worked fine, and I stuck with the custom webpack setup.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I did have a problem importing files because of bad URLs in the LESS variables (it was importing from &lt;code class=&quot;language-text&quot;&gt;../../themes/themes/&lt;/code&gt; instead of just &lt;code class=&quot;language-text&quot;&gt;../../themes/&lt;/code&gt;). This was solved with a quick variable override: &lt;code class=&quot;language-text&quot;&gt;@fontPath  : &amp;#39;../../default/assets/fonts&amp;#39;;&lt;/code&gt;. Not a NextJS issue, but thought I&apos;d document it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/&quot;&gt;NextJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/arefaslani/next-images&quot;&gt;next-images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/1935&quot;&gt;NextJS Issue #1935 - Importing images in CSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/3852&quot;&gt;NextJS Issue #3852 - Importing images in CSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/webpack-contrib/file-loader&quot;&gt;file-loader&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/webpack-contrib/url-loader&quot;&gt;url-loader&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Lorem Ipsum Generator plugin for Sketch]]></title><description><![CDATA[I was recently working on a quick project in  Sketch  and I needed to insert some Lorem Ipsum text into a few fields. I did a quick search…]]></description><link>http://whoisryosuke.com//blog/2018/lorem-ipsum-generator-for-sketch/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/lorem-ipsum-generator-for-sketch/</guid><pubDate>Mon, 09 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I was recently working on a quick project in &lt;a href=&quot;http://sketchapp.com&quot;&gt;Sketch&lt;/a&gt; and I needed to insert some Lorem Ipsum text into a few fields. I did a quick search for a plugin on Google and came across &lt;a href=&quot;https://github.com/richgong/sketch-lorem-ipsum-2017&quot;&gt;this one by @RichardGong on Github&lt;/a&gt;. It worked great, but only added a single line of Lorem to each text field, and the same Lorem text. This solution only goes so far if you work on any project with more than a single text field.&lt;/p&gt;
&lt;p&gt;So I forked his project and added &lt;strong&gt;more&lt;/strong&gt; Lipsum, cause &lt;em&gt;you know&lt;/em&gt;, the more Lipsum the better. &lt;/p&gt;
&lt;h2&gt;How it works&lt;/h2&gt;
&lt;p&gt;I generated 10 paragraphs on &lt;a href=&quot;http://lipsum.com&quot;&gt;Lipsum.com&lt;/a&gt; and added them to an array. The plugin grabs the current selection, loops through each layer, and if it&apos;s a text field -- adds a paragraph of Lorem Ipsum. I use a variable to keep count of each loop, and once it reaches 10, I reset the count to grab from the top of the list (so you can select 30 fields and it&apos;ll still fill them all, just repeated 3x).&lt;/p&gt;
&lt;h2&gt;But it over-fills my text fields!&lt;/h2&gt;
&lt;p&gt;Yeah that&apos;s a thing. I was looking into a way to calculate the length of characters the current text field allows, but the Sketch API doesn&apos;t make it that simple, making it more than 20-30 lines of code to accomplish. It looks like the &lt;a href=&quot;https://github.com/matt-curtis/Sketch-Highlighter/blob/master/Sketch-Highlighter.sketchplugin/Contents/Sketch/script.js&quot;&gt;sketch-highlighter&lt;/a&gt; plugin has a snippet that I can break down and use as a base. That feature will have to come later when I have the time to add it. &lt;/p&gt;
&lt;h2&gt;Download the plugin&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/whoisryosuke/sketch-lorem-ipsum-2017&quot;&gt;Head over to Github and click the &quot;Clone or download&quot; button&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Let me know if you have any questions!
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/whoisryosuke/sketch-lorem-ipsum-2017&quot;&gt;Lorem Ipsum Generator Sketch Plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.sketchapp.com/guides/plugin-scripts/&quot;&gt;Sketch Plugin docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/richgong/sketch-lorem-ipsum-2017&quot;&gt;Original plugin by @RichardGong on Github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - Make yourself Wordpress admin using SQL 🔑⚡️]]></title><description><![CDATA[I recently ran into an issue where I wasn't the admin in a Wordpress install, and after running this bit of SQL, I was quickly back in…]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-make-yourself-wordpress-admin-using-sql/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-make-yourself-wordpress-admin-using-sql/</guid><pubDate>Sun, 08 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently ran into an issue where I wasn&apos;t the admin in a Wordpress install, and after running this bit of SQL, I was quickly back in command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;wp_users&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_login&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_pass&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_nicename&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_email&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_status&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ryo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MD5&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;easy123&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;firstname lastname&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ryo@example.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;wp_usermeta&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;umeta_id&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_id&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;meta_key&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;meta_value&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;Select&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; wp_users&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;wp_capabilities&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;a:1:{s:13:&quot;administrator&quot;;s:1:&quot;1&quot;;}&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;wp_usermeta&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;umeta_id&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;user_id&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;meta_key&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;meta_value&lt;span class=&quot;token punctuation&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;Select&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; wp_users&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;wp_user_level&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;10&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;❓ Oh I&amp;#39;m not the admin on this &lt;a href=&quot;https://twitter.com/hashtag/Wordpress?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Wordpress&lt;/a&gt; install? Let me just do a little &lt;a href=&quot;https://twitter.com/hashtag/SQL?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#SQL&lt;/a&gt; here... 🔑⚡️&lt;a href=&quot;https://t.co/NZYCKV2xBV&quot;&gt;https://t.co/NZYCKV2xBV&lt;/a&gt; &lt;a href=&quot;https://t.co/c63UawZLqe&quot;&gt;pic.twitter.com/c63UawZLqe&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ryosuke (@whoisryosuke) &lt;a href=&quot;https://twitter.com/whoisryosuke/status/1013615808948285441?ref_src=twsrc%5Etfw&quot;&gt;July 2, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1013615808948285441&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/9c49aed1a0b759731f0bc019ec903975&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.inmotionhosting.com/support/edu/wordpress/333-add-admin-via-mysql&quot;&gt;Add admin via SQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[NextJS and Authentication using OAuth2 and JWT]]></title><description><![CDATA[We'll be using the OAuth2 process to authenticate our NextJS app users with our Laravel API (thanks to Passport). If you aren't using…]]></description><link>http://whoisryosuke.com//blog/2018/nextjs-authentication-using-oauth2-jwt/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/nextjs-authentication-using-oauth2-jwt/</guid><pubDate>Thu, 05 Jul 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;We&apos;ll be using the OAuth2 process to authenticate our NextJS app users with our Laravel API (thanks to Passport). If you aren&apos;t using Laravel, the process should be fairly similar in concept to 3rd party API&apos;s like Twitter.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;This guide assumes you know a bit of React, what a HOC is and how to use it, and the basics of things like NextJS, Express, or OAuth2.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;How it works&lt;/h2&gt;
&lt;p&gt;Say you need an app where a user can login and access private pages only for registered users. You could create a login form that accepts a username and password, and send that to the API. But that&apos;s a lot of code to write for every small app you want authenticated. That&apos;s where OAuth2 comes in.&lt;/p&gt;
&lt;p&gt;With OAuth2, we can have the user click on a login link, like a &quot;Sign in with Twitter&quot; button. This redirects the user to Twitter, where they login with their Twitter account, and accept your app. Twitter then sends you a special &quot;access token&quot; that lets you use the Twitter API on the user&apos;s behalf. &lt;/p&gt;
&lt;p&gt;Now instead of Twitter, imagine that it&apos;s your own API. The user gets sent to a login server you create, and you get an access token that works for your own API. That way, you can allow developers to create apps that use your API as a user, as opposed to direct access. This way you can limit API access based on user permissions you set.&lt;/p&gt;
&lt;h2&gt;The Authentication API&lt;/h2&gt;
&lt;p&gt;First and foremost, we need an authentication API to use so we can use it in our frontend NextJS app. The API will using the OAuth2 protocol, and return a JSON Web Token (or JWT) for each authorized user.&lt;/p&gt;
&lt;h3&gt;The OAuth2 Process&lt;/h3&gt;
&lt;p&gt;OAuth2 might seem daunting at first, but since every major platform (Twitter, Facebook, Google, and countless more) use it for accessing authenticated sections of their API, you&apos;ll get to know it quick. The process to login a user through your app is very simple:&lt;/p&gt;

  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-9563f.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 59.561206681625535%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAADHElEQVQoz2NgoCJ4siYGSEbf0RNMv7+DN+XeNoG0+9ukcx9skch+cJAv9V4lSJFg/FlPsbjDCSKxh+P5Y08FMYj/Z+JJuVcN1HNQKP3+Ftm8B1vEsu4fZI2/lwUxNuJOsET57//6TT/+2/X8+u895ed/k57//7mT7x1kMFsnKpTx4J985bf/ajVf/4vmvfnPGH7eijPx7lG15v//bbu//3ef8P2/Ttv//xwJdzZDDIy+o88QeWc70HVb+VPv7pTKubedOfb2EYbwm7VmQeWsPEm3kkXSbxeKZ94u4E+5na2TvpOfIepmLUvc7SOiGXd3AvFuhqjbxxkirpXFBdpwQAy1fMrBYLxOlMF8uSSD+gpxBqe14g7xndwqQZN4GIQyuBgYtNkZGMyAOICDwXaNGIPNajEGx7USDCZzhRhU4zlcI4s4HUPzuTQCOzkZGMJu24lm3n8pk/vghVTugydKRY8eAsPwC1Dclyn2jqtY1oMvqiWPnkvmPHghmfPwhWzew6fKxY8eSeU+fMeXen89ZtRE3wmWqfr733Xin//OE/4Aw/DXf73u//8Zgq/nAL2RqNzw/79lx/f/hs3f/1t3/QSq+/XfdcKP//YTwOF8Ny6vhW/e4pVMDFpnGMwi2hkYgK6QBcZQqXD6nWqR1BsNomk36rgTrncwhRxTZo84pc0ed30Gb9KNHr6kG72CKTd7RdJu9gqn3uwRSr05mTn6WnZXZwf/wkVLmUBu6580DUiG3xJhiLobBZRMYQi9ksIQcT2RIep6IkvMjSyOsCMihNJeeFYzM5ihEsIQkN0PZITc9lcAJguT5s//zVo//zcG0qatX/7Lln74zxB4xYYh+KK1YuGjDyrFj94Aw+01MJzfyBc8fKlV/vgbT8r9TSCzHr78zMAYdx9qRdQdF8XCh991Kx99Nqx+/Fmr7NEno5rHX+TyH35hCL1pCHSxJjBCTkjlPDgCpI8AE/ERoNwh9ZJHZ4GZYTLIiIuPfoLigiG3dhIDA0vcXTYG1xtqDPbX1Rmsr6kxOF5XY7C9ps7gcUNVLPcZC3GZbj+cBQCY2VuoNhWx8wAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;OAuth 2.0 Authentication Process with NextJS App&quot; title=&quot;&quot; src=&quot;/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-e2462.png&quot; srcset=&quot;/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-f6591.png 270w,
/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-cce5f.png 540w,
/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-e2462.png 1080w,
/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-b1cf7.png 1620w,
/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-781d5.png 2160w,
/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-73cc4.png 3240w,
/static/OAuth2-Process.min-cad1af9f2e2fcbae4bb95cd96a966a6f-9563f.png 4011w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    
&lt;ol&gt;
&lt;li&gt;You login to the API you want to use for authentication and create a new &lt;strong&gt;&quot;client&quot;&lt;/strong&gt; with a callback URL. This callback URL is the page on your app the API redirects the user after they login. On Twitter, is this the &quot;Apps&quot; page.&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Creating the &lt;strong&gt;&quot;client&quot;&lt;/strong&gt; generates a API client ID and secret, which you use to authenticate your own app with the API. Save them for later. The ID is public (anyone can see it), while the secret is well, secret. You never let the user see your secret or access it, it stays in server-side code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;You create a button in your app, or redirect your user, to a specific URL that contains query parameters with your client ID, callback URL, and a response type (&quot;code&quot; by default). It should something like this: &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;http://127.0.0.1/oauth/authorize/?**client_id**=2&amp;#x26;**redirect_uri**=http://127.0.0.1:3000/token&amp;#x26;**response_type**=code&amp;#x26;**scope**=access-user-account&quot;&gt;http://127.0.0.1/oauth/authorize/?&lt;strong&gt;client_id&lt;/strong&gt;=2&amp;#x26;&lt;strong&gt;redirect_uri&lt;/strong&gt;=http://127.0.0.1:3000/token&amp;#x26;&lt;strong&gt;response_type&lt;/strong&gt;=code&amp;#x26;&lt;strong&gt;scope&lt;/strong&gt;=access-user-account&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Sometimes scope is added to the URL&apos;s query parameters, which are key strings that give you extra API privileges - like accessing user email.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;
&lt;p&gt;The user gets redirected to the API where they see a login screen if they&apos;re not logged in. Once they login, they see an authorization request for your app. The request is a window that shows the app name you entered earlier, and asking the user if they approve it to access the API on their behalf. If you&apos;ve ever logged in on a website using Twitter/Facebook/etc, you&apos;ve seen something like this.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the user approves, they&apos;re redirected back to the callback URL you used earlier when creating the app. When the user is redirected, they&apos;re sent with a special code. On the callback page in your app, you take this code and make another request to the API that includes the code, as well as your secret.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If the API approves your request, it sends back a JSON response with the user&apos;s token, and other data about it. Normally you&apos;d grab the token from the response and store it in a session or cookie to use later (because you&apos;ll be using it a lot!).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Creating the API&lt;/h2&gt;
&lt;p&gt;Now that you understand what kind of API we&apos;re creating, we can actually make it. &lt;/p&gt;
&lt;p&gt;I have &lt;a href=&quot;http://stayregular.net/blog/deploy-laravel-on-heroku-to-create-oauth2-0-api&quot;&gt;a guide on creating a quick authentication API using Laravel and the Passport package&lt;/a&gt;. Try spinning up that project and using it alongside this one. It&apos;ll create a separate server with an API you can access to login users and get tokens back.&lt;/p&gt;
&lt;p&gt;Once the API server is up and running, run the following command to create a new app:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;php artisan passport:client&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you&apos;re inside a Docker container (like my project uses), make sure to use the docker-compose &lt;code class=&quot;language-text&quot;&gt;exec&lt;/code&gt; command: &lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The CLI will ask for an app name and generate a client ID and secret for you, store these for later.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ideally you&apos;d create a frontend UI to generate these API credentials, and Laravel does offer a sample version in Vue if you need it. But for testing or simpler purposes, the CLI works just fine.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Alternatives to Laravel&lt;/h3&gt;
&lt;p&gt;I know PHP or Laravel isn&apos;t everyone&apos;s bag, or you don&apos;t have time to spin up a server and host it on Heroku -- &lt;strong&gt;you just want an API that works.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can leverage free platforms like Twitter or Slack and use their &quot;Sign in with...&quot; services. However, if you want to ingest your own API, you&apos;ll probably still need to use your own authentication server. Otherwise the only reason to use Sign in with Twitter is to access the Twitter API on behalf of the user through your app.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rather than creating your own, or using social media platforms, you can also use a 3rd party service like &lt;a href=&quot;http://auth0.com&quot;&gt;Auth0&lt;/a&gt; to leverage their cloud-based authentication API. Platforms like &lt;a href=&quot;http://netlify.com&quot;&gt;Netlify&lt;/a&gt; also offer JWT support for your projects.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The NextJS App&lt;/h2&gt;
&lt;p&gt;Nothing special here, just &lt;code class=&quot;language-text&quot;&gt;npm init&lt;/code&gt; a new project and lets &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; a few modules. I&apos;ll explain each more in depth as we use them:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install react react-dom next express cookie-parser csurf dotenv isomorphic-unfetch js-cookie --save&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;App structure&lt;/h3&gt;
&lt;p&gt;The app structure is very simple, and I&apos;ll show you a couple different techniques to authorize your app (server-side and client-side).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Login link or page that redirects user to API login.&lt;/li&gt;
&lt;li&gt;Callback page that accepts the API&apos;s response code, sends a request with our secret, receives the access token (JWT), and stores it in our app.&lt;/li&gt;
&lt;li&gt;A React page wrapper (or HOC) for private pages that will check for the token in the cookies, and if it doesn&apos;t check out, they get redirected to a public page (usually a login).&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;The login link&lt;/h3&gt;
&lt;p&gt;We need to make a link, anywhere in the app, that&apos;ll serve as a &quot;Login&quot; button for the app. It&apos;ll be a simple &lt;code class=&quot;language-text&quot;&gt;&amp;lt;a&amp;gt;&lt;/code&gt; element, with a link to our Laravel API and the /oauth/authorize/ endpoint (assuming localhost):&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;http://localhost/oauth/authorize/?client_id=4&amp;amp;redirect_uri=http://localhost:3000/token&amp;amp;response_type=code&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This link contains our &lt;strong&gt;client_id&lt;/strong&gt;, &lt;strong&gt;redirect_uri&lt;/strong&gt; or callback URL, and a &lt;strong&gt;response_type&lt;/strong&gt; which should be set to &apos;code&apos;. The &lt;strong&gt;client id&lt;/strong&gt; and &lt;strong&gt;redirect_uri&lt;/strong&gt; are given to us when we create a new OAuth application using the Laravel API. Usually you&apos;d setup a frontend form, like Twitter&apos;s Developer section and their form to create new &quot;apps&quot; in exchange for API keys.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you&apos;d like to create an app using JS, or even the PHP Artisan CLI, check out the Laravel Passport docs for more info.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Create callback URL&lt;/h3&gt;
&lt;p&gt;Using Express, or a custom server setup for NextJS, we need to setup a callback route that the API can query to verify our credentials. It&apos;s a fairly simple process:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a GET route and name it whatever you want.&lt;/li&gt;
&lt;li&gt;Make a &lt;code class=&quot;language-text&quot;&gt;fetch()&lt;/code&gt; request to the API with our credentials, and the request code sent by the API server.&lt;/li&gt;
&lt;li&gt;Store the token in the cookies using cookie-parser and Express (&lt;code class=&quot;language-text&quot;&gt;res.cookies&lt;/code&gt;).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Here&apos;s the final code in &lt;code class=&quot;language-text&quot;&gt;server.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Callback for OAuth2 API&lt;/span&gt;
server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    grant_type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;authorization_code&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    client_id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_CLIENT_ID&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    client_secret&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_CLIENT_SECRET&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    redirect_uri&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;API_REDIRECT_URI&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    code&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Query API for token&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http://localhost/oauth/token&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;post&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; JSON&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;jsonErrorCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Store JWT from response in cookies&lt;/span&gt;
        res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cookie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kushyFToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;access_token&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        maxAge&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;900000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        httpOnly&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// store object in session (with express-session)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// req.session.token = data.access_token&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;redirect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/dashboard&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Don&apos;t forget to use an isomorphic version of &lt;code class=&quot;language-text&quot;&gt;fetch()&lt;/code&gt;, since Node doesn&apos;t come installed with it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Protecting routes + Grabbing our token from cookies&lt;/h3&gt;
&lt;p&gt;To access the token in each route, we&apos;ll create a multi-purpose HOC. This HOC will wrap our components and only return them when we have a token, otherwise it&apos;ll redirect the user. The HOC works by grabbing our token from the cookies (either server or browser cookies), and if a token is retrieved, the component we wrapped gets to load.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In a production setting you should verify tokens any time you need to authorize a page. You never know if a user faked their cookie, so just accepting a token isn&apos;t sufficient -- the token needs to work. Making a quick &lt;code class=&quot;language-text&quot;&gt;fetch()&lt;/code&gt; request to our API with the token (usually on the user profile endpoint, so we don&apos;t waste the API call and grab relevant data). If the request worked, the user is approved. After the check, you can set a server-side cookie (encrypted hash of user ID + current time + an app secret) that lets the app know the user was authorized recently.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We&apos;ll also be utilizing React&apos;s Context API to wrap our authorized page component with a Provider that contains our token. That way, you can wrap any component that needs to access authenticated API routes with a Consumer. This Consumer passes the token down to your component in it&apos;s props.&lt;/p&gt;
&lt;h4&gt;But what about production?&lt;/h4&gt;
&lt;p&gt;In production, best practice is to never show anyone the access token (JWT). But because of the fairly secure nature of OAuth2, and the need to run authenticated client-side requests, developers often throw an unencrypted JWT in the cookies, or worse, &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;Ideally, you should store the JWT in a server-side session, where an encrypted ID is kept in a cookie, and the JWT is stored in a server-side data store (like Redis or Memcached). Whenever you need the token, you&apos;d send a POST request to your app&apos;s Express server with the encrypted cookie ID and a CSRF token (generated by the server to ensure it came from a &lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&amp;gt;&lt;/code&gt; created by the server -- not a random POST request). The Express server checks data store for the cookie&apos;s ID, grabs the token, and uses it to make an API request, then returns the API&apos;s response. &lt;/p&gt;
&lt;p&gt;You can see that your app&apos;s server acts as a &quot;middleman&quot; to ensure secure transmissions between the client and the API. This way no one can do something like trying to login by creating fake cookies with tokens. The tokens have to be stored server-side, and they&apos;d need the appropriate key to access any currently in the data store. I cover this method below if you&apos;re interested.&lt;/p&gt;
&lt;h3&gt;Authorization HOC&lt;/h3&gt;
&lt;p&gt;For the HOC, we load our props containing our token in &lt;code class=&quot;language-text&quot;&gt;getInitialProps()&lt;/code&gt;, which is grabbed from cookies. Then when the component mounts (&lt;code class=&quot;language-text&quot;&gt;componentDidMount()&lt;/code&gt;), we run a check to see if the token is in the props. If not, we redirect to the login page using Next&apos;s &lt;code class=&quot;language-text&quot;&gt;Router&lt;/code&gt;. If we have a token, we set the loading state to false, which activates the component of the protected route (the component we wrap the auth HOC around).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Feel free to replace the &quot;LOADING&quot; text with a real loading component, or a page with a loader.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now we&apos;d normally grab the token using cookies, but I&apos;ll show you how to do it server-side as well so you can see why it&apos;s &lt;em&gt;not&lt;/em&gt; the best option.&lt;/p&gt;
&lt;h4&gt;Server side&lt;/h4&gt;
&lt;p&gt;Create a middleware to grab the cookie and store it in &lt;code class=&quot;language-text&quot;&gt;res.local.cookies&lt;/code&gt;, and then pass it into app when rendering each route: &lt;code class=&quot;language-text&quot;&gt;return app.render(req, res, &amp;#39;/dashboard&amp;#39;, { token: res.locals.token })&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;server.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// A JSON error checking function since fetch()&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// won&apos;t let us know if it failed or not&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;jsonErrorCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;error&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; error
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; data
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// The middleware&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookies&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kushyFToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; credentials &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;get&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Bearer &apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookies&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kushyFToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/x-www-form-urlencoded&apos;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fetchUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http://localhost/api/user/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; credentials&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;jsonErrorCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;token &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookies&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kushyFToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
          res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data
          &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;fetchUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// .... some other code&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Apply middleware to your route&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// You basically stack middleware after the page string&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// and before your page render &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// otherwise the middleware would never get called&lt;/span&gt;
server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/dashboard&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getUser&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/dashboard&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;token&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locals&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;user &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Component&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Router &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;next/router&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;withAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Authenticated&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Check if Page has a `getInitialProps`; if so, call it.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getInitialProps &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Return props.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
          &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;pageProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;token
          user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;user
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          isLoading&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Console logs for convenience&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// console.log(&apos;protected page, did we get token?:&apos;);&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// console.log(this.props.token);&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          Router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isLoading&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isLoading &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;LOADING&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;// We don&apos;t need to explicitly pass token or user as props here&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;// because {...this.props} includes them (ES6 destructuring ftw)&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;AuthComponent &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  auth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Auth&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is tedious since it requires you to place the token in every request. And if a page loads client-side, without making a server request, we have no way to access the &lt;code class=&quot;language-text&quot;&gt;ctx&lt;/code&gt; variable that contains our token. &lt;/p&gt;
&lt;p&gt;So &lt;strong&gt;we&apos;re forced to use a client-side data store&lt;/strong&gt;, preferably a secure one like &lt;strong&gt;cookies&lt;/strong&gt; or IndexDB.&lt;/p&gt;
&lt;h4&gt;Using Cookies&lt;/h4&gt;
&lt;p&gt;Since we use &lt;a href=&quot;https://www.npmjs.com/package/cookie-parser&quot;&gt;cookie-parser&lt;/a&gt; middleware for Express, we can access the cookies server-side using the &lt;code class=&quot;language-text&quot;&gt;req&lt;/code&gt; variable in the &lt;code class=&quot;language-text&quot;&gt;getInitialProps&lt;/code&gt; state: &lt;code class=&quot;language-text&quot;&gt;ctx.req.headers.cookie&lt;/code&gt;. This returns a giant string of all the cookies separated by &amp;#x26; symbols (like query parameters). If we parse the string and find the cookie by key name, we&apos;ll have our cookie. &lt;/p&gt;
&lt;p&gt;Or if we&apos;re in the browser (like if a user clicks an internal &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link /&amp;gt;&lt;/code&gt; in the app), we can use the &lt;a href=&quot;https://github.com/js-cookie/js-cookie&quot;&gt;js-cookie&lt;/a&gt; library to grab cookies from the client-side (&lt;code class=&quot;language-text&quot;&gt;cookie.get(&amp;#39;token&amp;#39;)&lt;/code&gt;).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I use helper functions to make accessing cookies easier (&lt;a href=&quot;https://github.com/carlos-peru/next-with-api/blob/master/lib/session.js&quot;&gt;stolen from @carlos-peru on Github&lt;/a&gt;). It&apos;s basically a wrapper for js-cookie, and checks if the user is server or client-side. If they&apos;re server-side, it searches the &lt;code class=&quot;language-text&quot;&gt;req&lt;/code&gt; variable for our cookie name. If it&apos;s client-side, it uses js-cookie.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;utils/Cookies.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; cookie &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;js-cookie&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;setCookie&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        cookie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            expires&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;removeCookie&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        cookie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            expires&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getCookie&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;browser &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;getCookieFromBrowser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;getCookieFromServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getCookieFromBrowser&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grabbing key from browser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; cookie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getCookieFromServer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grabbing key from server&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookie&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rawCookie &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookie
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startsWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;=`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;rawCookie&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; rawCookie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;withAuth.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Component&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Router &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;next/router&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; TokenContext &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../context/TokenContext&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getCookie &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../utils/Cookies&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;withAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Authenticated&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; token &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCookie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;kushyFToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Check if Page has a `getInitialProps`; if so, call it.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getInitialProps &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Return props.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;pageProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; token &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          isLoading&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;checking auth&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          Router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isLoading&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isLoading &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;LOADING&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TokenContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;token&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;AuthComponent &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;TokenContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This is a better approach, since you get the safety of cookies for both the server and client.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Protip: You might want to take advantage of the Context API and wrap the Authorized component in a Provider with the token data, so any part of the app can easily access the token without doing any prop-drilling! Your other option is to use the Cookies helper/utility functions and grab the cookie again inside any component you need it in like above. &lt;em&gt;Or you know, Redux.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Secret 3rd Option: API Endpoints&lt;/h3&gt;
&lt;p&gt;Since we&apos;re using Express to create routes, and we have access to the server to run Javascript, there&apos;s no reason we can&apos;t create a dynamic route to act as a middleman for our external API. You&apos;d grab the API endpoint from the dynamic route (&lt;code class=&quot;language-text&quot;&gt;app.render(&amp;#39;/api/:endpoint&amp;#39;, callback)&lt;/code&gt;) and use it (&lt;code class=&quot;language-text&quot;&gt;req.params.endpoint&lt;/code&gt;) to send an authenticated API request with the cookies we got earlier (&lt;code class=&quot;language-text&quot;&gt;req.cookies[&amp;#39;seshToken&amp;#39;]&lt;/code&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Route for sending POST requests&lt;/span&gt;
server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/api/:endpoint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Query protected API endpoint with token&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`http://localhost/api/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endpoint&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;POST&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`Bearer &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookies&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;seshToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Grabs request body (ideally Form data), converts to JSON, and sends it as POST&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; JSON&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Route for sending authenticated GET requests&lt;/span&gt;
server&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/api/:endpoint&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Query protected API endpoint with token&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`http://localhost/api/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;params&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;endpoint&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;GET&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Content-Type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`Bearer &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cookies&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;seshToken&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;This way, the client is never exposed to the token in the source code (only if they check their cookies). This is the &lt;strong&gt;best case scenario&lt;/strong&gt; when paired with sessions (e.g. express-session). Although it limits you to using NextJS on the server-side, and &lt;strong&gt;requires you to have a data store in production (like Redis)&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;HOC vs Functional Programming&lt;/h2&gt;
&lt;p&gt;Does a HOC look like overkill? Do you want something thats more functional? Rather than wrapping your component in an auth HOC like we did earlier, you could add a kind of &quot;middleware&quot; to the page&apos;s &lt;code class=&quot;language-text&quot;&gt;getInitialProps()&lt;/code&gt; that would check the cookies for a token, and redirect on false.&lt;/p&gt;
&lt;p&gt;Your page component:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;token comment&quot;&gt;// If it does not exist session, it gets redirected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;redirectIfNotAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And the magic behind the &quot;middleware&quot;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getJwt&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCookie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;jwt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;isAuthenticated&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getJwt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;redirectIfAuthenticated&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;redirect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;It&apos;s basically what we do in our HOC, but broken down into separate functions. More of a functional approach to the same solution.&lt;/p&gt;
&lt;h2&gt;To Redux or Not?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;You don&apos;t technically need Redux&lt;/strong&gt;, since you can access cookies from the client-side using js-cookie, or wrap your app in a token Provider. But I found that I started to reach for Redux when I needed to start managing more complex state in my app, and particularly &lt;strong&gt;persisting state&lt;/strong&gt;. You can use the Context API all day, but if you don&apos;t write a fallback and retrieval system from &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;, your app&apos;s state will get wiped on every refresh. Which requires dynamic data requests to run again, &lt;em&gt;and again&lt;/em&gt;, &lt;strong&gt;&lt;em&gt;and again&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;h3&gt;Data Peristence&lt;/h3&gt;
&lt;p&gt;Fetching data using Redux and storing the results in the application&apos;s state allowed for more data persistence, especially in an universal app like NextJS which runs frequent server and client-side requests. If your app was just client-side (like a SPA), Redux would be a probably be trivial, since your user would rarely ever &quot;hard&quot; reload the page. But since some NextJS routes load server-side, it refreshes your app&apos;s state, requiring your Context Providers to reach for the API again.&lt;/p&gt;
&lt;p&gt;But like I said, you can always use Context Providers to persist your state to &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;, or another local data store, and use Consumers to grab it when you need it again.&lt;/p&gt;
&lt;h3&gt;Complex Data Management&lt;/h3&gt;
&lt;p&gt;Imagine an app where you have components that needs to access 3 (or more) different values from Providers. Each time you create a component, you&apos;ll need to wrap 3+ Consumers around the component and drill down props appropriately (or &lt;a href=&quot;https://www.npmjs.com/package/react-context-consumer-hoc&quot;&gt;create a HOC to combine them into props&lt;/a&gt;).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Impractical code that doesn&apos;t work&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;SomeComponent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ThemeContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; theme &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; 
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;TokenContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer theme&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;theme&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; token &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; 
                    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;etc
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;TokenContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;ThemeContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Consumer&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;With Redux, you&apos;d create a container component for your component. The container connects the component to the Redux store, and sends down any state values you need as props. Once it&apos;s connected, the component has access to anything in the store you define.&lt;/p&gt;
&lt;h3&gt;So...Redux?&lt;/h3&gt;
&lt;p&gt;You&apos;d be surprised how far you can get &lt;em&gt;without&lt;/em&gt; Redux, &lt;em&gt;then again,&lt;/em&gt; it&apos;s all about making the ride &lt;em&gt;smoother&lt;/em&gt;. Do whatever &lt;strong&gt;you&lt;/strong&gt; think is best for your app. &lt;a href=&quot;https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367&quot;&gt;&lt;em&gt;Obligatory link to the creator of Redux saying you might not need it&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Simple as that&lt;/h2&gt;
&lt;p&gt;Since NextJS is capable of server-side tasks - and even utilizing other frameworks like Express - it makes it very simple to extend a frontend application with the necessary routes to authenticate users via OAuth2. This tutorial used the Laravel API as an example, but the code for implementing other OAuth2-based APIs (like Twitter) is very similar. &lt;/p&gt;
&lt;p&gt;If my guide was confusing at all, I&apos;d recommend checking out &lt;a href=&quot;https://www.youtube.com/watch?v=bo4BbGwZsWo&quot;&gt;this video from the NextJS conference&lt;/a&gt; that explains the NextJS user auth process in under 15 minutes. &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/whoisryosuke/nextjs-oauth2-cookie-auth&quot;&gt;Download the project on Github here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kanpai 🍻
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=bo4BbGwZsWo&quot;&gt;Prosper Otemuyiwa: Authentication and Authorization in Next.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.teamtreehouse.com/encrypting-cookies-in-the-browser&quot;&gt;Encrypt your cookies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/js-cookie/js-cookie&quot;&gt;js-cookie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/carlos-peru/next-with-api/blob/master/lib/session.js&quot;&gt;Cookies helper functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@positivecarlos/authentication-on-universal-react-with-next-js-b441ef458046&quot;&gt;Creating authentication middleware for getInitialProps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://oauth.net/2/&quot;&gt;OAuth 2.0 - Official&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - Protect NextJS pages with a authorization HOC 🔐]]></title><description><![CDATA[Need to protect your NextJS pages behind a login? Use a HOC (higher-order component) to wrap your page components, check the #API token, and…]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-nextjs-auth-hoc/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-nextjs-auth-hoc/</guid><pubDate>Tue, 26 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Need to protect your NextJS pages behind a login? Use a HOC (higher-order component) to wrap your page components, check the #API token, and redirect users if it fails 🙅‍♂️ &lt;/p&gt;
&lt;p&gt;Bonus: You can grab things from SSR like cookies or session data using the child&apos;s getInitialProps in the HOC 🙌 &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Component&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Router &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;next/router&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; AuthService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./AuthService&apos;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;withAuth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Auth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http://localhost&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Authenticated&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Check if Page has a `getInitialProps`; if so, call it.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pageProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getInitialProps &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; AuthComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInitialProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Return props.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;pageProps &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          isLoading&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Auth&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;loggedIn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          Router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isLoading&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isLoading &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;LOADING&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;AuthComponent &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  auth&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Auth&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;🔐 Need to protect your &lt;a href=&quot;https://twitter.com/hashtag/NextJS?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#NextJS&lt;/a&gt; pages behind a login? Use a &lt;a href=&quot;https://twitter.com/hashtag/HOC?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#HOC&lt;/a&gt; to wrap your page components, check the &lt;a href=&quot;https://twitter.com/hashtag/API?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#API&lt;/a&gt; token, and redirect users if it fails 🙅‍♂️ Bonus: &lt;a href=&quot;https://twitter.com/hashtag/SSR?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#SSR&lt;/a&gt; data fetching using the child&amp;#39;s getInitialProps in the HOC 🙌 &lt;a href=&quot;https://t.co/EEaNPRXTIx&quot;&gt;https://t.co/EEaNPRXTIx&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/ReactJS?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#ReactJS&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/javascript?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#javascript&lt;/a&gt; &lt;a href=&quot;https://t.co/naJR9mNBo4&quot;&gt;pic.twitter.com/naJR9mNBo4&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ryosuke (@whoisryosuke) &lt;a href=&quot;https://twitter.com/whoisryosuke/status/1011738754355089408?ref_src=twsrc%5Etfw&quot;&gt;June 26, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1011738754355089408&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/d034d3eaa0556e86349fb2634788a7a1&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - 🐋 Docker for Wordpress made easy]]></title><description><![CDATA[Just copy this into a   in your project root, and then run   🚀  Hope that helps,
Ryo References Original tweet See the code gist]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-docker-for-wordpress-made-easy/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-docker-for-wordpress-made-easy/</guid><pubDate>Mon, 11 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Just copy this into a &lt;code class=&quot;language-text&quot;&gt;docker-compose.yml&lt;/code&gt; in your project root, and then run &lt;code class=&quot;language-text&quot;&gt;docker-compose up -d&lt;/code&gt; 🚀 &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;version: &amp;quot;2&amp;quot;
services:
  my-wpdb:
    image: mariadb
    ports:
      - &amp;quot;8081:3306&amp;quot;
    environment:
      MYSQL_ROOT_PASSWORD: root
  my-wp:
    image: wordpress
    volumes:
      - ./:/var/www/html
    ports:
      - &amp;quot;8080:80&amp;quot;
    links:
      - my-wpdb:mysql
    environment:
      WORDPRESS_DB_PASSWORD: root&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1006325273900380160&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/77da2fbe1c5ce782a0908cb1e8d17fe7&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - Reorder content with CSS Flexbox]]></title><description><![CDATA[Ever had a situation where you have elements side by side on desktop, but they stack in the wrong order on mobile? Maybe the image should be…]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-reorder-content-with-css-flexbox/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-reorder-content-with-css-flexbox/</guid><pubDate>Tue, 05 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ever had a situation where you have elements side by side on desktop, but they stack in the wrong order on mobile? Maybe the image should be above the title, or vice versa. Move the image (or any element) under content if it&apos;s hardcoded above it in HTML using this bit of CSS Flexbox magic:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token style language-css&quot;&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 800px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -webkit-box&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -moz-box&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -ms-flexbox&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -webkit-flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-box-orient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; vertical&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-moz-box-orient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; vertical&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-ms-flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-box-ordinal-group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-moz-box-ordinal-group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-ms-flex-order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.sidebar&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-box-ordinal-group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-moz-box-ordinal-group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-ms-flex-order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;-webkit-order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 2&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sidebar&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The code works by hard-coding the &quot;order&quot; property, which flexbox uses to determine the order the elements should be displayed. We only hard-code it on mobile, using CSS Media Queries.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;📲 Need to put your sidebar under your content on mobile? Use &lt;a href=&quot;https://twitter.com/hashtag/CSS?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#CSS&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/Flexbox?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Flexbox&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/hashtag/MediaQueries?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#MediaQueries&lt;/a&gt; to reorder the elements on smaller viewports: &lt;a href=&quot;https://t.co/SKdeseL2JB&quot;&gt;https://t.co/SKdeseL2JB&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/HTML?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#HTML&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/CodeSnippets?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#CodeSnippets&lt;/a&gt; &lt;a href=&quot;https://t.co/0vXjAfBEyW&quot;&gt;pic.twitter.com/0vXjAfBEyW&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ryosuke (@whoisryosuke) &lt;a href=&quot;https://twitter.com/whoisryosuke/status/1004117307411427329?ref_src=twsrc%5Etfw&quot;&gt;June 5, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1004117307411427329&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/b8b67331d115b772c4dae99fea16fe79&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Creating an event ticketing service (Laravel API + ReactJS + NextJS + Material UI)]]></title><description><![CDATA[Laravel makes it incredibly easy to quickly create powerful backend application and APIs. Today we'll be creating an API for an event…]]></description><link>http://whoisryosuke.com//blog/2018/create-ticketing-service-using-laravel-nextjs-part-1/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/create-ticketing-service-using-laravel-nextjs-part-1/</guid><pubDate>Sat, 02 Jun 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Laravel makes it incredibly easy to quickly create powerful backend application and APIs. Today we&apos;ll be creating an API for an event directory and ticketing platform (like Eventbrite). This API could be used by any frontend or backend application, and in the next part of the tutorial, we&apos;ll be creating a ReactJS based admin dashboard that uses this API to browse, create, edit, and delete posts.&lt;/p&gt;
&lt;p&gt;This project will be based off a brand I work, &lt;a href=&quot;http://seshsource.com&quot;&gt;SeshSource&lt;/a&gt;, which is an event ticketing platform for specifically cannabis-centric events. We&apos;ll be creating essentially a mirror of the current architecture of SeshSource, just in Laravel, instead of Wordpress + plugins.&lt;/p&gt;
&lt;h2&gt;Necessary Features (MVP)&lt;/h2&gt;
&lt;p&gt;I started by outlining features we&apos;d want for the MVP - or minimum viable product, like browsing events to purchasing tickets:&lt;/p&gt;
&lt;h3&gt;Directory&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Events searchable by date&lt;/li&gt;
&lt;li&gt;Events shown by location or category&lt;/li&gt;
&lt;li&gt;User profiles for event organizers&lt;/li&gt;
&lt;li&gt;Calendar view with events&lt;/li&gt;
&lt;li&gt;List/card view&lt;/li&gt;
&lt;li&gt;List of all cities, states, etc + archive pages&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;E-Commerce&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Buy free or paid tickets&lt;/li&gt;
&lt;li&gt;Generate PDF of ticket&lt;/li&gt;
&lt;li&gt;Email PDF to user&lt;/li&gt;
&lt;li&gt;Email business about new purchase&lt;/li&gt;
&lt;li&gt;Mobile-friendly web-app to scan tickets at event&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Organizer Tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dashboard for managing events&lt;/li&gt;
&lt;li&gt;Create events&lt;/li&gt;
&lt;li&gt;Edit event&lt;/li&gt;
&lt;li&gt;Delete event&lt;/li&gt;
&lt;li&gt;Create ticket types for specific events (free, VIP, etc)&lt;/li&gt;
&lt;li&gt;See (+ print) list of event attendeees&lt;/li&gt;
&lt;li&gt;See (+ print) list of orders&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now that we know what we want out of our API, let&apos;s start coding it!&lt;/p&gt;
&lt;h2&gt;Setup a Laravel project with Docker&lt;/h2&gt;
&lt;p&gt;Here&apos;s how I spin up a new Laravel project and use Docker for local development -- &lt;em&gt;without pulling all my hair out&lt;/em&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;composer create-project --prefer-dist laravel/laravel seshsource-api&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/Laradock/laradock.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cd laradock&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Copy the example environment file into a real one: &lt;code class=&quot;language-text&quot;&gt;cp env-example .env&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change the Laravel root ENV to use Laradock as host (&lt;em&gt;Laravel uses localhost, but Laradock accesses each service inside the Docker container using the service name&lt;/em&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;DB_HOST=mysql
DB_DATABASE=default
DB_USERNAME=default
REDIS_HOST=redis
QUEUE_HOST=beanstalkd&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose up -d nginx mysql phpmyadmin redis workspace&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You should have your Laravel project deployed locally on a Docker development server! &lt;em&gt;Pretty simple right? 😁&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;OAuth2.0 Server in 4 steps or less&lt;/h2&gt;
&lt;p&gt;Let&apos;s setup Laravel with authentication and add OAuth2.0 support using the Passport package:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;composer require laravel/passport&lt;/code&gt; inside the project root&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan migrate&lt;/code&gt; inside the laradock folder (&lt;code class=&quot;language-text&quot;&gt;cd laradock&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan passport:install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Follow &lt;a href=&quot;https://laravel.com/docs/5.6/passport&quot;&gt;the guide in Laravel docs for adding traits to User class&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan make:auth&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan app:name SeshSource&lt;/code&gt; - Here is where you&apos;d set your application&apos;s name. It&apos;ll be used across the entire app&apos;s &apos;namespace&apos;, so referencing models will look like: &lt;code class=&quot;language-text&quot;&gt;use SeshSource\Events&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;UUIDs&lt;/h2&gt;
&lt;p&gt;I like using UUIDs as opposed to direct IDs. If you&apos;re using anything before Laravel 5.6, install this library. Otherwise, Laravel 5.6 and beyond come pre-installed with a &lt;code class=&quot;language-text&quot;&gt;uuid()&lt;/code&gt; &lt;a href=&quot;https://laravel.com/docs/5.6/helpers#method-str-uuid&quot;&gt;helper method&lt;/a&gt;. You&apos;ll still need to create a trait, but you won&apos;t need the dependency.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;composer require webpatser/laravel-uuid&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add this to config/app.php file where the aliases array resides: &lt;code class=&quot;language-text&quot;&gt;&amp;#39;Uuid&amp;#39; =&amp;gt; Webpatser\Uuid\Uuid::class,&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now we just use &lt;code class=&quot;language-text&quot;&gt;$table-&amp;gt;uuid(&amp;#39;id&amp;#39;); $table-&amp;gt;primary(&amp;#39;id&amp;#39;);&lt;/code&gt; in the migrations instead of &lt;code class=&quot;language-text&quot;&gt;$table-&amp;gt;increments(&amp;#39;id&amp;#39;);&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Make sure to remove auto-increment from any model using UUIDs:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * Indicates if the IDs are auto-incrementing.
 *
 * @var bool
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$incrementing&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Create a new Trait to handle generating the UUID when we need to create new posts (app/Traits/Uuid.php):&lt;/p&gt;
&lt;h3&gt;Dependency version&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;SeshSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Webpatser&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Uuid&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Uuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uuids&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Boot function from laravel.
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;creating&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getKeyName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Uuid&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Laravel 5.6 UUID&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;SeshSource&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Traits&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Support&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uuids&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Boot function from laravel.
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;boot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;creating&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$model&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getKeyName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Str&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token delimiter important&quot;&gt;?&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Inside all UUID models add the trait:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;SeshSource&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Traits&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Uuids&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Authenticatable&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Uuids&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Migrations and Models&lt;/h2&gt;
&lt;p&gt;Laravel makes it simple in a single command to create &lt;strong&gt;models&lt;/strong&gt;, which help us interact with data, as well as the &lt;strong&gt;migrations&lt;/strong&gt; - PHP statements that create the database tables for us (no SQL required!). We&apos;ll create 10 models and DB tables that will store all our website&apos;s data.&lt;/p&gt;
&lt;p&gt;I won&apos;t go into too much detail about the decision making of the structure, but it&apos;s essentially based off the Wordpress DB structure -- combined with the WooCommerce and Tickera plugin&apos;s DB structure. Events are stored in a table, and any extra &quot;meta&quot; data is stored in a pivot table. It&apos;s similar with the shopping cart &quot;orders&quot;. We have a table dedicated to Orders, and a pivot table for each individual line item (with price and quantities). We use the a pivot table instead of storing an entire shopping cart in a single column (serialized in JSON, comma separated IDs, etc) - this allows us to leverage Laravel&apos;s relationships to efficiently eager load any related data.&lt;/p&gt;
&lt;p&gt;Run these commands in your project root to create the models and migrations:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;php artisan make:model Events -m
php artisan make:model EventMeta -m
php artisan make:model TicketTypes -m
php artisan make:model TicketTemplates -m
php artisan make:model Tickets -m
php artisan make:model UserMeta -m
php artisan make:model Orders -m
php artisan make:model OrderItems -m
php artisan make:model CheckIns -m
php artisan make:model Reviews -m&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Add the UUIDs to all the models and migrations. You can opt out for the meta tables, but things like Orders and Events should have UUIDs for security purposes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example model:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;SeshSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;SeshSource&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Traits&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Uuids&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Database&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Eloquent&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventMeta&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Uuids&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Indicates if the IDs are auto-incrementing.
     *
     * @var bool
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$incrementing&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Example migration:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CreateEventMetaTable&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Migration&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Run the migrations.
     *
     * @return void
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Schema&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;event_meta&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Blueprint &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;primary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;timestamps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Reset the database and migrate the new structure:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan migrate:fresh&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you have any issues with &quot;foreign IDs&quot;, it probably means a migration with relationships was run before the related table was created. Rename your migrations to make sure any tables that are related are created before any pivot tables.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Authentication using the User Model&lt;/h2&gt;
&lt;p&gt;If you noticed in the migrations we added a &apos;type&apos; to the user table (&lt;code class=&quot;language-text&quot;&gt;database/migrations/2014_10_12_000000_create_users_table.php&lt;/code&gt;). That&apos;s where we can tell if a logged in user is a customer, event organizer, or admin. To make it easier to determine if the user has access to admin or organizer-level features, we add a check to the User model for each:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;   &lt;span class=&quot;token comment&quot;&gt;/**
     * Determines if user is admin or not (true or false)
     *
     * @return boolean
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isAdmin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;admin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Determines if user is organizer or not (true or false)
     *
     * @return boolean
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isOrganizer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;organizer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Creating API controllers&lt;/h2&gt;
&lt;p&gt;Now that we have our models in place, we can handle the controller part of our application. For now we&apos;ll need 5 controllers, and we&apos;ll use Laravel&apos;s artisan CLI to make &lt;a href=&quot;https://laravel.com/docs/5.6/controllers#resource-controllers&quot;&gt;API resource controllers&lt;/a&gt;. This bootstraps a controller for us with all the necessary methods we need for an standard API (index, store, update, delete).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;php artisan make:controller &amp;#39;Api/EventsController&amp;#39; --api
php artisan make:controller &amp;#39;Api/UsersController&amp;#39; --api
php artisan make:controller &amp;#39;Api/ReviewsController&amp;#39; --api
php artisan make:controller &amp;#39;Api/OrdersController&amp;#39; --api
php artisan make:controller &amp;#39;Api/CheckInsController&amp;#39; --api&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;For the index methods, we just use the appropriate model and use the paginate method (&lt;code class=&quot;language-text&quot;&gt;Events::paginate(10)&lt;/code&gt;). Later we&apos;ll add filtering using query params (changing order, specifying categories, etc).&lt;/p&gt;
&lt;p&gt;For the show methods, we use the appropriate model again, and use the &lt;code class=&quot;language-text&quot;&gt;findOrFail()&lt;/code&gt; method to grab the &lt;code class=&quot;language-text&quot;&gt;$id&lt;/code&gt;: &lt;code class=&quot;language-text&quot;&gt;$event = Events::findOrFail($id);&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To &lt;a href=&quot;https://laravel.com/docs/5.6/responses#json-responses&quot;&gt;return a JSON response using Laravel&lt;/a&gt;, just use the &lt;code class=&quot;language-text&quot;&gt;json()&lt;/code&gt; method on the &lt;code class=&quot;language-text&quot;&gt;response()&lt;/code&gt; object: &lt;code class=&quot;language-text&quot;&gt;return response()-&amp;gt;json($events);&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For the &lt;code class=&quot;language-text&quot;&gt;store()&lt;/code&gt; methods, we create a validator for each one (&lt;code class=&quot;language-text&quot;&gt;php artisan make:request StoreEvents&lt;/code&gt;). The validator checks the POST request, and also authenticates the user in the &lt;code class=&quot;language-text&quot;&gt;authorize()&lt;/code&gt; method using the &lt;code class=&quot;language-text&quot;&gt;isAdmin()&lt;/code&gt; method on the User model.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;SeshSource&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Http&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Requests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Foundation&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Http&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;FormRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StoreEvents&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FormRequest&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Determine if the user is authorized to make this request.
     *
     * @return bool
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;authorize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAdmin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Get the validation rules that apply to the request.
     *
     * @return array
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rules&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;title&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;required|unique:events|max:255&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;start_date&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;required|date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;end_date&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;required|date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;street_address&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;required&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;city&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;required&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;state&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;required&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;email&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;email&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;event_logo&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;image&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;featured_img&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;image&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Passport doesn&apos;t support UUID user IDs&lt;/h2&gt;
&lt;p&gt;Here&apos;s a quick fix if you have any issues with creating Client IDs for OAuth2.0 authenticated apps using Passport. &lt;/p&gt;
&lt;p&gt;Since we swapped the user ID for a UUID instead of incrementing integer, Passport creates a table called &lt;code class=&quot;language-text&quot;&gt;oauth_access_tokens&lt;/code&gt; that references an incrementing ID, instead of UUID. To get it working, we have to create a new migration that drops the column and creates a new column.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Normally we&apos;d just update the column, but the &lt;code class=&quot;language-text&quot;&gt;doctrine\dbal&lt;/code&gt; library used by Laravel doesn&apos;t support UUIDs. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Drop the user id column (since Laravel&apos;s dbal dependency doesn&apos;t support changing columns to uuid) &lt;code class=&quot;language-text&quot;&gt;php artisan make:migration drop_user_id_on_oauth_access_tokens&lt;/code&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Support&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Facades&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Database&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Schema&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Blueprint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Database&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Migrations&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Migration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DropUserIdOnOauthAccessTokens&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Migration&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Run the migrations.
     *
     * @return void
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Schema&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;oauth_access_tokens&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Blueprint &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dropColumn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;user_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Reverse the migrations.
     *
     * @return void
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;down&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Schema&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;oauth_access_tokens&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Blueprint &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dropColumn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;user_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;Add migration to insert the user ID column as UUID &lt;code class=&quot;language-text&quot;&gt;php artisan make:migration update_oauth_access_tokens_with_uuids&lt;/code&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Support&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Facades&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Schema&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Database&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Schema&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Blueprint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Illuminate&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Database&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Migrations&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Migration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UpdateOauthAccessTokensWithUuids&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Migration&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * Run the migrations.
     *
     * @return void
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;up&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Schema&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;oauth_access_tokens&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Blueprint &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;user_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;primary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;user_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/**
     * Reverse the migrations.
     *
     * @return void
     */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;down&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        Schema&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;oauth_access_tokens&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Blueprint &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token variable&quot;&gt;$table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;user_id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Reset the database (again) and migrate the new structure:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose exec workspace php artisan migrate:fresh&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;https://github.com/barryvdh/laravel-cors&quot;&gt;Enable CORS&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Install CORS dependency and add to Kernel.php. This will allow you to create an app on the same server and enable communication to the API. When we run this API, it&apos;ll deploy to &lt;code class=&quot;language-text&quot;&gt;http://localhost/&lt;/code&gt;. And when we create a React app for the frontend (to display data), it&apos;ll deploy to &lt;code class=&quot;language-text&quot;&gt;http://localhost:3000&lt;/code&gt;. Since it&apos;s on the same server, but different ports, you&apos;ll receive a cross-domain reference error. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Enabling CORS on the API endpoints allows us anyone to access the API on any server. So if you&apos;re going to deploy to production, make sure to limit the hosts to servers you trust (unless your API is public).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;API in a day&lt;/h2&gt;
&lt;p&gt;And that&apos;s about it, your API is ready for consumption by another application! &lt;/p&gt;
&lt;p&gt;In the next part of this series we&apos;ll explore how to create a server-side rendered ReactJS admin dashboard using NextJS, styled with Material UI, and authenticated using our OAuth2 API. That&apos;s a lot of words and tech in one sentence, and the article itself be more than a mouthful to swallow, but I&apos;ll try my best to make it as simple as possible! 👍&lt;/p&gt;
&lt;p&gt;Stay tuned! 🙈
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://laravel.com/docs/5.6/installation&quot;&gt;Laravel installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://laradock.io/documentation/&quot;&gt;http://laradock.io/documentation/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/@steveazz/setting-up-uuids-in-laravel-5-552412db2088&quot;&gt;https://medium.com/@steveazz/setting-up-uuids-in-laravel-5-552412db2088&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/webpatser/laravel-uuid&quot;&gt;https://github.com/webpatser/laravel-uuid&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://laravel.com/docs/5.0/configuration#after-installation&quot;&gt;Naming your Laravel application&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/41376928/laravel-5-3-passport-jwt-authentication&quot;&gt;Quickly creating JWT tokens using Laravel Passport&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://laracasts.com/discuss/channels/eloquent/uuid-type-change-to-nullable-through-migrations-not-working&quot;&gt;Doctrine doesn&apos;t support changing MySQL columns to UUID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/barryvdh/laravel-cors&quot;&gt;Enable CORS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zeit/next.js/issues/153#issuecomment-257924301&quot;&gt;NextJS login with protected routes example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - Apply middleware to Laravel controller methods]]></title><description><![CDATA[Ever needed to apply middleware to specific controller methods? Just use the   method in the controller's constructor and feed it a…]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-laravel-apply-middleware-in-controller/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-laravel-apply-middleware-in-controller/</guid><pubDate>Wed, 30 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ever needed to apply middleware to specific controller methods? Just use the &lt;code class=&quot;language-text&quot;&gt;middleware()&lt;/code&gt; method in the controller&apos;s constructor and feed it a middleware and array of method names.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Protip: You can stack middleware as much as you want (just don&apos;t lock yourself out!). If you need to apply different middleware, or complex &apos;only&apos; and &apos;except&apos; situations, call the middleware method as much as you need.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//... the class&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Apply middleware to only certain routes&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;auth&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;only&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;create&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;store&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;edit&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;delete&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Or apply middleware to all routes except these&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;auth&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;except&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;index&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;✅ &lt;a href=&quot;https://twitter.com/hashtag/Laravel?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Laravel&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/ProTip?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#ProTip&lt;/a&gt; You can apply your middleware to specific routes in the controller&amp;#39;s construct method 👌 &lt;a href=&quot;https://t.co/BU7taP0ksv&quot;&gt;https://t.co/BU7taP0ksv&lt;/a&gt; &lt;a href=&quot;https://t.co/6UQc2gYMU4&quot;&gt;pic.twitter.com/6UQc2gYMU4&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ryosuke (@whoisryosuke) &lt;a href=&quot;https://twitter.com/whoisryosuke/status/1001976417826017280?ref_src=twsrc%5Etfw&quot;&gt;May 30, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Before writing this post, this wasn&apos;t in the Laravel docs. I could have swore I&apos;ve seen it since, but just in case, I&apos;ve archived it here.&lt;/p&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1001976417826017280&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/902f2ebd3b1e0c232b85b0c6ac255105&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://laravel.com/docs/5.6/eloquent-resources#concept-overview&quot;&gt;Laravel docs - Resource Collections&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://laracasts.com/discuss/channels/general-discussion/apply-middleware-for-certain-methods?page=0&quot;&gt;Laracasts middleware thread&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - Change fields in a Laravel API Resource via transform]]></title><description><![CDATA[Laravel makes forming data for an API response easier using API Resources, which take data (usually queried from Models), and return…]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-laravel-change-api-resource-fields/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-laravel-change-api-resource-fields/</guid><pubDate>Wed, 30 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Laravel makes forming data for an API response easier using API Resources, which take data (usually queried from Models), and return specific fields and structure you define. Resource Collections are what they sound like, they&apos;re collections of resources. Collections would be used for pages like an archive, where you have more than one item to display from your model.&lt;/p&gt;
&lt;p&gt;The only issue you may encounter with Resource Collections is that they&apos;ll display all the item data, and won&apos;t allow you to exclude fields manually. Usually you don&apos;t need &lt;em&gt;every&lt;/em&gt; field when you query an archive, just the vital info (title, slug, maybe tags) -- and let the user query the individual item for the rest of the fields.&lt;/p&gt;
&lt;p&gt;This code snippet leverages the &lt;code class=&quot;language-text&quot;&gt;transform()&lt;/code&gt; method from Laravel&apos;s &lt;a href=&quot;https://laravel.com/docs/5.6/collections&quot;&gt;Collection wrapper&lt;/a&gt; (different from Resource Collections) to limit the response to set fields:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageResourceCollection&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResourceCollection&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;data&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                    &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;id&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$page&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;title&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$page&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token single-quoted-string string&quot;&gt;&apos;slug&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$page&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;🔥 Change the fields in a &lt;a href=&quot;https://twitter.com/hashtag/Laravel?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Laravel&lt;/a&gt; Collection &lt;a href=&quot;https://twitter.com/hashtag/API?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#API&lt;/a&gt; Resource using the transform method, since the collection may contain more fields than you want on an archive loop 👌 &lt;a href=&quot;https://twitter.com/hashtag/PHP?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#PHP&lt;/a&gt; &lt;a href=&quot;https://twitter.com/laravelphp?ref_src=twsrc%5Etfw&quot;&gt;@laravelphp&lt;/a&gt; &lt;a href=&quot;https://t.co/3UH5vpsc58&quot;&gt;https://t.co/3UH5vpsc58&lt;/a&gt; &lt;a href=&quot;https://t.co/u2mr48lqUy&quot;&gt;pic.twitter.com/u2mr48lqUy&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ryosuke (@whoisryosuke) &lt;a href=&quot;https://twitter.com/whoisryosuke/status/1002002173906038784?ref_src=twsrc%5Etfw&quot;&gt;May 31, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1002002173906038784&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/97d6bb9e4f22c2ab02bd867b56a4f6c7&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://laravel.com/docs/5.6/eloquent-resources#concept-overview&quot;&gt;Laravel docs - Resource Collections&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[shortcode - Lightbox using Semantic UI + JQuery 🖼🔍]]></title><description><![CDATA[Using just a few lines of jQuery, combined with the Semantic UI Modal component, you can create a pretty simple and effective Lightbox: Hope…]]></description><link>http://whoisryosuke.com//blog/2018/shortcode-semantic-ui-lightbox/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/shortcode-semantic-ui-lightbox/</guid><pubDate>Wed, 16 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Using just a few lines of jQuery, combined with the Semantic UI Modal component, you can create a pretty simple and effective Lightbox:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdn.jsdelivr.net/npm/semantic-ui@2.3.1/dist/semantic.min.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;section&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;photos&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui basic segment show&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui header&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Semantic UI Lightbox Example&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Click any of the cards below to activate the modal-based lightbox. It&apos;s based off the &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://semantic-ui.com/modules/modal.html#basic&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&quot;basic modal&quot;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; in Semantic UI.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;section&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui four stackable cards&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;article&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;PhotoCard ui card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://via.placeholder.com/300x250&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui fluid image&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
				Cool pics
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;article&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;PhotoCard ui card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://via.placeholder.com/300x250&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui fluid image&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
				Cool pics
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;article&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;PhotoCard ui card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://via.placeholder.com/300x250&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui fluid image&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
				Cool pics
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;article&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;PhotoCard ui card&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;http://via.placeholder.com/300x250&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ui fluid image&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
				Cool pics
			&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;section&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://cdn.jsdelivr.net/npm/semantic-ui@2.3.1/dist/semantic.min.js&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Lightbox for photos using Semantic UI&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.PhotoCard&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;img&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;div class=&quot;ui basic modal&quot;&gt;&amp;lt;div class=&quot;content&quot;&gt;&amp;lt;img src=&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;image&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&quot; width=&quot;100%&quot; /&gt;&amp;lt;/div&gt;&amp;lt;/div&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;        
		&lt;span class=&quot;token function&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.ui.basic.modal&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;modal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;show&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p data-height=&quot;265&quot; data-theme-id=&quot;light&quot; data-slug-hash=&quot;NMEYPO&quot; data-default-tab=&quot;html,result&quot; data-user=&quot;whoisryosuke&quot; data-embed-version=&quot;2&quot; data-pen-title=&quot;Semantic UI Lightbox Example&quot; id=&quot;codepen&quot; class=&quot;codepen&quot;&gt;See the Pen &lt;a href=&quot;https://codepen.io/whoisryosuke/pen/NMEYPO/&quot;&gt;Semantic UI Lightbox Example&lt;/a&gt; by Ryosuke (&lt;a href=&quot;https://codepen.io/whoisryosuke&quot;&gt;@whoisryosuke&lt;/a&gt;) on &lt;a href=&quot;https://codepen.io&quot;&gt;CodePen&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;🖼🔍 Using &lt;a href=&quot;https://twitter.com/semanticui?ref_src=twsrc%5Etfw&quot;&gt;@semanticui&lt;/a&gt; to create a simple image &amp;quot;Lightbox&amp;quot; popup using their basic modal and a little &lt;a href=&quot;https://twitter.com/hashtag/jQuery?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#jQuery&lt;/a&gt; &lt;a href=&quot;https://t.co/Fd5dvMmIkS&quot;&gt;https://t.co/Fd5dvMmIkS&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/SemanticUI?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#SemanticUI&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/CSS?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#CSS&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/Javascript?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#Javascript&lt;/a&gt; &lt;a href=&quot;https://twitter.com/hashtag/CodeSnippets?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#CodeSnippets&lt;/a&gt; &lt;a href=&quot;https://t.co/OIdLWSidzN&quot;&gt;pic.twitter.com/OIdLWSidzN&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ryosuke (@whoisryosuke) &lt;a href=&quot;https://twitter.com/whoisryosuke/status/997245663195742208?ref_src=twsrc%5Etfw&quot;&gt;May 17, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;p&gt;Hope that helps,
Ryo&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://twitter.com/whoisryosuke/status/1013615808948285441&quot;&gt;Original tweet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/whoisryosuke/9c49aed1a0b759731f0bc019ec903975&quot;&gt;See the code gist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.inmotionhosting.com/support/edu/wordpress/333-add-admin-via-mysql&quot;&gt;Add admin via SQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Deploy a Static React Blog using GatsbyJS and Github]]></title><description><![CDATA[We'll be creating a blog using  GatsbyJS , a static site generator for  React . GatsbyJS takes your content, either static files or external…]]></description><link>http://whoisryosuke.com//blog/2018/deploy-a-static-react-blog-using-gatsbyjs-and-github/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/deploy-a-static-react-blog-using-gatsbyjs-and-github/</guid><pubDate>Mon, 16 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;We&apos;ll be creating a blog using &lt;a href=&quot;https://www.gatsbyjs.org&quot;&gt;GatsbyJS&lt;/a&gt;, a static site generator for &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt;. GatsbyJS takes your content, either static files or external data from an API, and generates pages that are hardcoded with the data. Rather than calling the API for your latest blog posts for each request, all your posts are pre-cached into separate HTML files. This allows you to serve your entire website over a CDN. And without any external API calls or even server-side rendering, the website loads lightning fast -- and is offline-friendly.&lt;/p&gt;
&lt;p&gt;Today we&apos;ll be developing a static blog generated by GatsbyJS, written in Markdown, and we&apos;ll deploy on Github Pages to host the blog. &lt;/p&gt;
&lt;h2&gt;But first, what is GatsbyJS?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;GatsbyJS&lt;/strong&gt; is a generator that allows you to code React apps that get compiled into static assets (HTML + JS). Each &lt;strong&gt;page&lt;/strong&gt; is a technically React &lt;strong&gt;component&lt;/strong&gt; that gets converted into an HTML and JS file when it&apos;s time to build the production site. If you&apos;ve ever worked with a generator like &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt;, which converts code like &lt;em&gt;Liquid&lt;/em&gt; and &lt;em&gt;Markdown&lt;/em&gt; into HTML, you&apos;ll be familiar with this kind of concept.&lt;/p&gt;
&lt;p&gt;What makes GatsbyJS special is it&apos;s implementation of &lt;strong&gt;&lt;a href=&quot;https://graphql.org/&quot;&gt;GraphQL&lt;/a&gt;&lt;/strong&gt;. All of your content is served through a GraphQL server on the development side. When it comes time to compile the static assets, GatsbyJS queries the GraphQL server for the data and inserts it into your HTML files. &lt;/p&gt;
&lt;h2&gt;And what the heck is a JAMstack?&lt;/h2&gt;
&lt;p&gt;Static websites are growing in popularity with the &lt;a href=&quot;jamstack.org&quot;&gt;JAMstack revolution&lt;/a&gt;. JAM stands for Javascript, API, and Markup. What it basically means is your site is only comprised of:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Javascript&lt;/strong&gt; (usually a framework like React)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;API&lt;/strong&gt; (like an RSS feed, or JSON API endpoint) &lt;em&gt;optional&lt;/em&gt; &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Markup&lt;/strong&gt; (HTML, CSS, any media like images)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The goal is to create a website is comprised of only client-side HTML + CSS + JS. No need to install &lt;strong&gt;Node&lt;/strong&gt;, &lt;strong&gt;Ruby&lt;/strong&gt;, &lt;strong&gt;PHP&lt;/strong&gt;, or any other server-side language. This means we could even deploy this directly on a CDN like &lt;strong&gt;S3&lt;/strong&gt; on &lt;em&gt;AWS&lt;/em&gt; or &lt;a href=&quot;http://netlify.com&quot;&gt;&lt;strong&gt;Netlify&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When a website is made this simple, you can deploy it nearly anywhere, since most servers support HTML, CSS, and JS. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are plenty of benefits to making your website static, from &lt;strong&gt;lighting fast load times&lt;/strong&gt; to &lt;strong&gt;decreased server load&lt;/strong&gt;, and Gatsby makes it &lt;em&gt;fairly&lt;/em&gt; easy to pump out your own. You can find a great &lt;a href=&quot;https://www.gatsbyjs.org/tutorial/&quot;&gt;&lt;em&gt;&apos;Getting Started&apos;&lt;/em&gt; guide&lt;/a&gt; on the official GatsbyJS site, as well as many of the concepts we convey in this tutorial. If you get lost, I&apos;d poke around there and see if it helps paint a clearer picture.&lt;/p&gt;
&lt;p&gt;Let&apos;s build and deploy a static blog!&lt;/p&gt;
&lt;h2&gt;Installing Gatsby&lt;/h2&gt;
&lt;h3&gt;Using the CLI&lt;/h3&gt;
&lt;p&gt;You can either install Gatsby using their CLI, which is recommended:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install --global gatsby-cli&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then run this command in the folder where you want the project:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby new gatsby-blog&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Classic Git Way&lt;/h3&gt;
&lt;p&gt;Or you can &lt;a href=&quot;https://github.com/gatsbyjs/gatsby&quot;&gt;clone the repo from Github&lt;/a&gt; and run an NPM install:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/gatsbyjs/gatsby.git gatsby-blog &amp;amp;&amp;amp; cd gatsby-blog &amp;amp;&amp;amp; npm install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note if you opt against installing the CLI, you&apos;ll have to run NPM scripts instead of &lt;code class=&quot;language-text&quot;&gt;gatsby&lt;/code&gt; commands when building for development or production.&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;Spin up the server&lt;/h2&gt;
&lt;p&gt;Run the following command to start up your GatsbyJS blog locally:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This command runs the build process, compiling the code into static assets, and gives you access to your GatsbyJS site at &lt;a href=&quot;http://localhost:8000/&quot;&gt;http://localhost:8000/&lt;/a&gt;. And to make development easier, when you update your code while this is running, it&apos;ll re-compile -- allowing you to refresh and see changes instantly.&lt;/p&gt;
&lt;h2&gt;Creating the content&lt;/h2&gt;
&lt;p&gt;Our blog will use Markdown files to contain and display our posts. We&apos;ll be using the standard Markdown format with a top header. Make a new file in &lt;code class=&quot;language-text&quot;&gt;src/blog/first-blog-post.md&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-markdown&quot;&gt;&lt;code class=&quot;language-markdown&quot;&gt;&lt;span class=&quot;token hr punctuation&quot;&gt;---&lt;/span&gt;
title: My first blog post
&lt;span class=&quot;token title important&quot;&gt;date: &quot;2018-04-20&quot;
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;/span&gt;

Do you enjoy Gabe the Dog? He is the immortal lead singer of Bork, a European band that does covers of popular pop songs from the 80s, 90s, and today.

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;iframe&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;560&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;315&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;https://www.youtube.com/embed/c--etqIJcow?ecver=1&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;frameborder&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;allowfullscreen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;iframe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Now that we have some content, let&apos;s display it on the website.&lt;/p&gt;
&lt;h2&gt;Grabbing our Markdown files&lt;/h2&gt;
&lt;p&gt;GatsbyJS uses components to create pages, so we could literally just create new JS files for each blog post. But that&apos;s messy and inefficient. So what do we do instead? Gatsby offers the ability to create &lt;em&gt;source&lt;/em&gt; plugins that pull data from certain endpoints, like RSS, Medium, or Github. We&apos;re going to make Markdown in the same folder as the Gatsby project, so we&apos;ll be using the Filesystem source plugin to grab files locally.&lt;/p&gt;
&lt;p&gt;We&apos;ll also install a &lt;em&gt;transformer&lt;/em&gt; plugin, which takes GraphQL data and processes it. In our particular case, we want to take our data and process the Markdown into HTML. Run the following command to install that plugin:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install --save gatsby-source-filesystem gatsby-transformer-remark&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And add the following JSON to your config to enable both plugins. If you look close at the &lt;code class=&quot;language-text&quot;&gt;path&lt;/code&gt; property of the filesystem plugin, we load our blog articles from the blog folder:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    // react-helmet is included by default with gatsby
    `gatsby-plugin-react-helmet`&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    `gatsby-transformer-remark`&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      resolve&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; `gatsby-source-filesystem`&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      options&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; `src`&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        path&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; `$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;/src/blog/`&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Restart your development server to commit the changes (hit CTRL + C to terminate the server and then run &lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt; again). Now run this GraphQL query on your local &lt;a href=&quot;http://localhost:8000/___graphql&quot;&gt;GraphiQL development panel&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-graphql&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 allFile &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  edges &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    node &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      name
      extension
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Enter the query and hit CMD + Enter. You should see a JSON object on the right side with the blog post we just made.&lt;/p&gt;
&lt;h2&gt;Making pages dynamically&lt;/h2&gt;
&lt;p&gt;We could easily start querying this data on our pages and displaying our posts. If you paste this into &lt;code class=&quot;language-text&quot;&gt;src/pages/index.js&lt;/code&gt; you&apos;ll see all your files printed out in your console:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// displays an object of the query data in console&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// simply access what you need using a map function&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// data.allFile.edges.map()&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;Hello world&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  query MyFilesQuery {
    allFile {
      edges {
        node {
          relativePath
          prettySize
          extension
          birthTime(fromNow: true)
        }
      }
    }
  }
`&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Which makes for a great frontpage with a list of all of our posts, but we end up at the same dilemma as before. If we want separate pages for each blog post, we have to make new components to query each page individually. That&apos;s where the GatsbyJS API comes into play.&lt;/p&gt;
&lt;p&gt;GatsbyJS is capable of taking a GraphQL query and creating pages for every object based off a template. For every Markdown file we create, when we build our GatsbyJS website, it&apos;ll get run through a template to create a page. We end up with HTML files for each page with the Markdown parsed into readable text.&lt;/p&gt;
&lt;p&gt;Paste this into your &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt; file.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`path`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createFilePath &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`gatsby-source-filesystem`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onCreateNode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createNodeField &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boundActionCreators
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;internal&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`MarkdownRemark`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; slug &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createFilePath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; basePath&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`pages`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;createNodeField&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`slug`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; slug&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createPage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boundActionCreators
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;graphql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      {
        allMarkdownRemark {
          edges {
            node {
              fields {
                slug
              }
            }
          }
        }
      }
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token function&quot;&gt;createPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`./src/templates/blog-post.js`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token comment&quot;&gt;// Data passed to context is available in page queries as GraphQL variables.&lt;/span&gt;
                            slug&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;First, we&apos;ll create slugs based off our Markdown file names, and add them to the GraphQL query results. Then we&apos;ll use the &lt;code class=&quot;language-text&quot;&gt;createPages&lt;/code&gt; API to make new pages based off a GraphQL query for the Markdown posts. Then we&apos;ll use the &lt;code class=&quot;language-text&quot;&gt;createPage&lt;/code&gt; function to actually generate the page based off the new file path and component that&apos;ll act as the template.&lt;/p&gt;
&lt;p&gt;When Gatsby runs the build process, it&apos;ll run this script as well, which will trigger the creation of pages.&lt;/p&gt;
&lt;p&gt;There&apos;s not much to explain here since this is just very API specific code. It&apos;s simple enough to be self-explanatory, and anything that&apos;s unclear is probably opinionated decisions from the API.&lt;/p&gt;
&lt;h2&gt;The Blog Template&lt;/h2&gt;
&lt;p&gt;Now that our blog posts are ready to get converted into static pages, let&apos;s actually create the template we referenced above &lt;code class=&quot;language-text&quot;&gt;./src/templates/blog-post.js&lt;/code&gt;. Make a new file there and paste this into it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; post &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;markdownRemark&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; post&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;html &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  query BlogPostQuery($slug: String!) {
    markdownRemark(fields: { slug: { eq: $slug } }) {
      html
      frontmatter {
        title
      }
    }
  }
`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;Show me the posts!&lt;/h2&gt;
&lt;p&gt;We&apos;ve got our blog posts as Markdown ready to get converted, we have the React template, the only thing left is linking to the posts.&lt;/p&gt;
&lt;p&gt;Head over to your &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt; file and paste the following:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Link &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby-link&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h1 style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; display&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;inline-block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; borderBottom&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;1px solid&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        Amazing Pandas Eating Things
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h1&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h4&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;totalCount&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; Posts&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h4&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Link
            to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            css&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; textDecoration&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`none`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`inherit`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;h3 style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; marginBottom&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;4px&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#BBB&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;— &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;h3&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;Link&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;excerpt&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  query IndexQuery {
        allMarkdownRemark(sort: {fields: [frontmatter___date], order: DESC}) {
        totalCount
      edges {
        node {
      id
          frontmatter {
        title
            date(formatString: &quot;DD MMMM, YYYY&quot;)
    }
          fields {
        slug
      }
      excerpt
    }
  }
}
}
`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;We query using the MarkdownRemark endpoint and grab the titles, slugs, and excerpts of our latest blog posts. Then we loop through the data to show the data, while using the &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Link&amp;gt;&lt;/code&gt; component to link directly to the blog post (using the slug). &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dont forget, you can always test out the query in the GraphiQL dev panel to make sure you have the right properties.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you restart your dev server at this point, you should see a list of the Markdown files you created. And if you click them, they&apos;ll take you to another page with the complete blog post. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Congratulations!&lt;/strong&gt; You&apos;ve built your first static blog. You can stop here and just run &lt;code class=&quot;language-text&quot;&gt;gatsby build&lt;/code&gt; to make a production-ready version of your blog available in the &lt;code class=&quot;language-text&quot;&gt;public&lt;/code&gt; folder. Upload that directly to your FTP or web host and you&apos;re good to go. &lt;/p&gt;
&lt;p&gt;(image: gatsby-first-blog-gabe-the-dog.png)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;But why stop there?&lt;/strong&gt; One of the principles of the JAMstack is using &lt;strong&gt;Git&lt;/strong&gt; for version control. This allows you, or any dev on your team, to easily clone the website&apos;s repository and create an exact replica of the entire website. It also allows you to quickly push new changes to the server, rather than uploading files individually through an FTP. &lt;/p&gt;
&lt;h2&gt;Let&apos;s git started&lt;/h2&gt;
&lt;p&gt;If you haven&apos;t already installed Git on your computer, head over to the official website and download it. Then open up Terminal, &lt;code class=&quot;language-text&quot;&gt;cd&lt;/code&gt; to your project&apos;s root, and run the following command:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This creates a new Git repository in your folder. Now let&apos;s commit all the changes we&apos;ve made to the new repository:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git add -A &amp;amp;&amp;amp; git commit -m &amp;quot;Your Message&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This takes all the files in the folder and adds them to the Git repo. When you make changes, you&apos;ll be able to track the differences between previous versions before each commit (&lt;code class=&quot;language-text&quot;&gt;git diff&lt;/code&gt;). The message you leave usually hints at what kind of changes were made to the code. In this case, something like &quot;Initial commit&quot; or &quot;1.0&quot; is appropriate.&lt;/p&gt;
&lt;h2&gt;Connect with Github&lt;/h2&gt;
&lt;p&gt;Connecting with Github allows you to promote the highest accessibility for developers looking to access the website&apos;s source code, and to take advantage of Github&apos;s free hosting](&lt;a href=&quot;https://pages.github.com/&quot;&gt;https://pages.github.com/&lt;/a&gt;). You&apos;ll sign up for a Github account if you don&apos;t already have one, create a public repo, and push (or upload) the project files to Github through Git commands.&lt;/p&gt;
&lt;h3&gt;Sign up on Github&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Create a new account on &lt;a href=&quot;http://github.com&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Login to your account.&lt;/li&gt;
&lt;li&gt;Click the plus sign in the top menu and click &quot;New repository&quot; from the dropdown.&lt;/li&gt;
&lt;li&gt;Name your repo anything you&apos;d like, then click the big green &quot;Create repository&quot; button.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Sync up your repo with Github&lt;/h3&gt;
&lt;p&gt;To make syncing up to Github a single click we&apos;ll install &lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt;. This is a Github Pages package that pushes changes to Github and updates the page. Run the following command to install the package:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm install gh-pages --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You&apos;ll also need to modify the &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; with a new script. This script runs the &lt;code class=&quot;language-text&quot;&gt;gatsby build&lt;/code&gt; process, then runs the &lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt; command to deploy to Github. Add the following line into the scripts section:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        scripts&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            // ...you&apos;ll see build&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; develop&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; format&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; etc above this....
            &lt;span class=&quot;token property&quot;&gt;&quot;deploy&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gatsby build --prefix-paths &amp;amp;&amp;amp; gh-pages -d public&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;And since Github Pages hosts the blog in a subdirectory (e.g. &lt;code class=&quot;language-text&quot;&gt;yourname.github.io/this-subdirectory/&lt;/code&gt;), we have to add a path prefix to the configuration &lt;code class=&quot;language-text&quot;&gt;gatsby-config.js&lt;/code&gt; to let GatsbyJS know it&apos;s not in the root:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteMetadata&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; `Your site Name`&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  pathPrefix&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/your-repo-name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h3&gt;Deploy!&lt;/h3&gt;
&lt;p&gt;Go to your new repo on Github, click the Clone button, and copy the URL (ending in .git). Then run the following command to add a &quot;remote&quot; repo to your local git repo:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git remote add origin http://github.com/username/repo-name.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now we can build the site and push it to Github. Type in the following command, enter in your Github password when prompted, and profit!:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npm run deploy&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;public&lt;/code&gt; folder of your blog will be uploaded to the &lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt; branch of your repo. If you click the dropdown labeled &lt;strong&gt;Branch: master&lt;/strong&gt; you should see the gh-pages branch.&lt;/p&gt;
&lt;h3&gt;Browse your blog&lt;/h3&gt;
&lt;p&gt;Head back over to your repository on Github and see if you successfully pushed (or uploaded) your files. If it worked, head over to the project settings page. Here, you&apos;ll want to make sure Github Pages is enabled and that it&apos;s set to the &lt;code class=&quot;language-text&quot;&gt;gh-pages&lt;/code&gt; branch.&lt;/p&gt;
&lt;p&gt;You should be able to access the blog by going to &lt;a href=&quot;http://yourusername.github.io/repo-name/&quot;&gt;http://yourusername.github.io/repo-name/&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Maybe not the Wordpress 5-minute install&lt;/h2&gt;
&lt;p&gt;It might not be the most lightning fast blog creation out there, between the time it takes to install &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; packages and the time you waste fussing with &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;. Though you have to admit that in a fairly short time span we were able to create a static blog ecosystem that deploys instantly. It&apos;s incredible to see the potential of GatsbyJS, and the different kind of experiences you can create compared to standard CMS platforms like Wordpress or Drupal.&lt;/p&gt;
&lt;p&gt;If you&apos;ve ever been thinking about taking the leap into a progressive web application (PWA), you want to try static, or you&apos;ve just been interested in migrating off Wordpress -- I hope this guide helped you discover an alternative to the mainstream blogging experience.&lt;/p&gt;
&lt;h2&gt;The potential is endless&lt;/h2&gt;
&lt;p&gt;This is the first part in a series of articles we&apos;ll be writing featuring GatsbyJS. We&apos;ve just dipped our toe in the water here, there&apos;s a wealth of plugins and potential we&apos;ve yet to explore with this framework. We&apos;ll be looking into creating projects that explore or push the limitations of the JAMstack, from a portfolio site using the Behance API, to a static e-commerce store using Stripe, to building a true JAM app on a CDN with automatic and atomic builds.&lt;/p&gt;
&lt;p&gt;Keep an eye on the &lt;a href=&quot;http://stayregular.net/blog/tag:gatsbyjs&quot;&gt;#GatsbyJS&lt;/a&gt; tag to see our next post!&lt;/p&gt;
&lt;p&gt;Find the (link: &lt;a href=&quot;https://whoisryosuke.github.io/gatsby-blog-tutorial/&quot;&gt;https://whoisryosuke.github.io/gatsby-blog-tutorial/&lt;/a&gt; text: &lt;strong&gt;example site here&lt;/strong&gt;), and the (link: &lt;a href=&quot;https://github.com/whoisryosuke/gatsby-blog-tutorial&quot;&gt;https://github.com/whoisryosuke/gatsby-blog-tutorial&lt;/a&gt; text: &lt;strong&gt;final example repo here&lt;/strong&gt;).&lt;/p&gt;
&lt;p&gt;Stay regular,
Oscar&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Keep Reading:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://kbroman.org/github_tutorial/pages/init.html&quot;&gt;Git guide - Start a new git repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://jamstack.org/best-practices/&quot;&gt;JAMstack.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org&quot;&gt;GatsbyJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org/tutorial/&quot;&gt;GatsbyJS Tutorials&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org/packages/&quot;&gt;GatsbyJS Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/&quot;&gt;How GatsbyJS Works with Github Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org/packages/gatsby-source-filesystem/?=filesy&quot;&gt;gatsby-source-filesystem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org/packages/gatsby-transformer-remark/?=remark&quot;&gt;gatsby-transformer-remark&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[New blog, new brand, new stack]]></title><description><![CDATA[My new personal blog and portfolio is now online. And it's a static ReactJS progressive web application made with GatsbyJS! Let me break it…]]></description><link>http://whoisryosuke.com//blog/2018/new-brand/</link><guid isPermaLink="false">http://whoisryosuke.com//blog/2018/new-brand/</guid><pubDate>Thu, 05 Apr 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;My new personal blog and portfolio is now online. And it&apos;s a static ReactJS progressive web application made with GatsbyJS! Let me break it down for you.&lt;/p&gt;
&lt;h2&gt;But wait, who are you?&lt;/h2&gt;
&lt;p&gt;I&apos;m Ryosuke, or some of you might recognize me as Oscar, the owner of WeedPornDaily, Stay Regular, and Kushy. &lt;/p&gt;
&lt;p&gt;I&apos;ve been developing websites for over 15 years now, and I&apos;ve been alive on this planet for nearly 28 now. I&apos;ve created dozens of &lt;a href=&quot;http://be.net/oscardiaz&quot;&gt;brands and products from scratch&lt;/a&gt;, but the one brand I&apos;ve never been fully happy with is my own. Designers and developers are expected to create a personal brand to promote themselves, and I&apos;ve never cared to stand by my name. I&apos;ve always tried operating under a studio or agency, or working with another brand, never really promoting my own name. I never liked my name, never liked hearing it, and never understood why I was called it. My parents would tell you that it was my great grandfathers name, who was no one of particular note, and that&apos;s the reason. And I&apos;d say that&apos;s &lt;strong&gt;some weak branding.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;So for years I&apos;ve wrestled with the mission of discovering my own personal brand. I know what I like, and I know what I don&apos;t. But one of the most difficult things to do is branding. For companies and products, it can be nearly &lt;em&gt;disposable&lt;/em&gt;, with certain brands having short lifespans. But this brand was of the more literal sense, like a veritable tattoo on my existence, or a mark of ink I had to make sure I was confident with. I&apos;ll dig into the entire process of personal branding &lt;em&gt;another time&lt;/em&gt;, but I wanted to preface this blog with some pretext on the present. &lt;/p&gt;
&lt;p&gt;From now on, Ryosuke was Oscar, Oscar became Ryosuke, and now only &lt;strong&gt;Ryosuke&lt;/strong&gt; is all that&apos;s left looking forward.&lt;/p&gt;
&lt;h2&gt;But why design a new website?&lt;/h2&gt;
&lt;p&gt;New personal brand = new website showing it off.&lt;/p&gt;
&lt;p&gt;And I wanted to wrap my head around the GatsbyJS framework. I had minimal experience with it a few months ago when I was looking for static solutions for my &lt;a href=&quot;http://stayregular.net&quot;&gt;Stay Regular&lt;/a&gt; studio and &lt;a href=&quot;http://weedporndaily.com&quot;&gt;WeedPornDaily&lt;/a&gt; blog. I ended up using it for the &lt;a href=&quot;http://kushy.net&quot;&gt;Kushy&lt;/a&gt; documentation before switching to Slate (although I may switch back, as I prefer the JS backend over Ruby). They&apos;ve come a long way since I first used it -- from much improved documentation to a trove of plugins I was dying to explore.&lt;/p&gt;
&lt;h2&gt;PWA or Bust&lt;/h2&gt;
&lt;p&gt;My goal was to create a website that was &lt;em&gt;(mostly)&lt;/em&gt; &lt;strong&gt;static&lt;/strong&gt;, classified as a &lt;a href=&quot;https://developers.google.com/web/progressive-web-apps/&quot;&gt;&lt;strong&gt;progressive web app&lt;/strong&gt; or PWA&lt;/a&gt;, deployed from a &lt;a href=&quot;https://github.com/whoisryosuke/ryosuke-gatsby-blog/&quot;&gt;Git repository&lt;/a&gt;, and &lt;strong&gt;served only by CDN&lt;/strong&gt;. All of my content is preloaded from the API during the build process, and hard-coded into the HTML. Only things like comments are loaded from remote APIs, since the system would require a server-side application to handle authenticated requests (and I&apos;m saving my cycles on Heroku).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When compiled, this website is purely HTML, CSS, and JS. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I&apos;m able to accomplish all of this thanks to the magic of the GatsbyJS framework. It acts as a sort of &lt;strong&gt;static site generator&lt;/strong&gt; that builds static sites from &lt;a href=&quot;http://reactjs.org&quot;&gt;ReactJS&lt;/a&gt; components and a &lt;a href=&quot;http://graphql.org/&quot;&gt;GraphQL&lt;/a&gt; API. Rather than fuss with something like &lt;a href=&quot;https://github.com/zeit/next.js/&quot;&gt;next.js&lt;/a&gt; to handle SSR &lt;em&gt;(and still not have route splitting or Webpack setup)&lt;/em&gt;, GatsbyJS makes it simple to package a complete server-side rendered static React application.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The GatsbyJS framework handles everything from webpack bundling, to route splitting, to server-side rendering. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The Featured&lt;/h2&gt;
&lt;p&gt;I come from the world of &lt;a href=&quot;http://wordpress.org&quot;&gt;Wordpress&lt;/a&gt;, so I tried to make this blog as full featured as possible. The GatsbyJS framework provides you with a boilerplate &lt;em&gt;Hello World&lt;/em&gt; style app with 2 pages, and that&apos;s it. Everything else requires a plugin or custom code. All these features are added on top of the base GatsbyJS features:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;One-click deploy&lt;/strong&gt; - I simply run &lt;code class=&quot;language-text&quot;&gt;npm run deploy&lt;/code&gt; and the website is built and uploaded to Github Pages from my local machine.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Markdown&lt;/strong&gt; - All my content is written in Markdown with small bits of HTML sprinkled in when necessary. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Syntax Highlighting&lt;/strong&gt; - Code is colored by PrismJS, and integrated using a Gatsby Prism plugin.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Responsive Images&lt;/strong&gt; - All the images on the website respond the user&apos;s browser size, serving smaller files for smaller viewports, making the site super data efficient.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tags&lt;/strong&gt; - I have a &lt;a href=&quot;http://whoisryosuke.com/tags&quot;&gt;tag page&lt;/a&gt; where you can browse all the tags from every post, and clicking each tag takes you to the tag archive (more SEO points!).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Paginated Archives&lt;/strong&gt; - You can&apos;t have proper SEO without a way for users and robots to browse your entire content library. I was able to pull this off with a plugin and some magic.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Comments&lt;/strong&gt; - These are handled by Disqus and their React component.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RSS Feed&lt;/strong&gt; - You can&apos;t have a blog without an RSS feed for someone to feed directly into their brain as opposed to using the interface you toiled over for weeks. This was made dead simple with a plugin too.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SEO Optimized&lt;/strong&gt; - From being server-side rendered, to pumping out Structured Data using &lt;code class=&quot;language-text&quot;&gt;react-helmet&lt;/code&gt;, to a sitemap I installed -- this website is ready for Google.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;The only thing missing is a CMS&lt;/strong&gt;, but I wouldn&apos;t be able to use Github Pages, I&apos;d have to use a service like &lt;a href=&quot;http://netlify.com&quot;&gt;Netlify&lt;/a&gt; to handle automated builds.&lt;/p&gt;
&lt;h2&gt;The Design&lt;/h2&gt;
&lt;p&gt;I set stylistic standards for the brand by picking things like font and colors. I wanted something light, modern, and graphic -- with inspiration from Japanese design. Blue was the most dominant color, since it represented me. I then experimented with creating components to exemplify the direction of the design system. Heavy use of white space, rounded edges, and subtle gradients to create a soft space. And bold graphic images and colors would break up the monotony of a white wall.&lt;/p&gt;
&lt;p&gt;Here&apos;s what I ended up with after a few rounds in Sketch:&lt;/p&gt;

  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-85bfa.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 72.894280762565%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADPElEQVQ4y3VUSU9TURS+OBDnAZQgCjUIBBkUFDAOCAoOkSgR48DGITHqhoUsjP/ApYkLExN3rkx0ZaILFZAWikxBCJoIHWxLJ8rQ1r5OvPt5zi1UN97ky73vvfO++93vnHPF5rs2vajTDu98RCYTMWjRKKL/IBaLIR6PI5lMQl9aAqQED13X8e/g7xwn1t2x6IbOGUQSkPjPYNKfFitGxsZhNA9ibGJSPXebzDAODKLL2IfA3DwkbSJEu1Xf1G7Chy6j7O0fUEE9fWZ86RvA514Txie/I5lIYHB0TKFvcFh9H/k2AfPQCN5/6sLbd+/RT2veWIhbbn314Q5k7syRa/OKsTq3EGsImXlFEFtycaatXREywcceI0xfh2AiVUzaberHKL23O5y08Q+EwuEU4SoizCkqloW1jdhz4AgKa+qx/1gTRFY+TrVeQyIew7TNjmE68s9pK6asNoyOT6DX/BUzHm/amgRtnCbMLyuX5fXnUFzXgKK6kzjRcgXZJVVovHQVcToKm75iPGOJEsRJ4sQFgyH8jkT+EmYc6oCholJW1J9H2fEmQjNyyw5jVc5eNF++oQidM26lzmL7pdQypigx06SW1z7/rNqQCD16RvUD5eEGQzk2GvZj275KiB0FEGu2or6lTRFyFh1OF9xerzqm2+uD1+eHy+3BbGBOKVVlI2669MyGJ6hpOC1rmy+ipqmFcAFHz7eiquEs7j98hBgFMxF7x7D+cqRUWu1qzapdbvcyYfu0vv2eBd7ZoNQiYYRCIYTDBJpT67AKZBUeUsReRaOpBohomlK20gxpwqz7Niz8TlBhS+oASc3A0NXMHcEJ0DT6kQhUMuhdGunnpeWkLBMGFjXp9/uUJ+yRx+dbnv0KHMxYDAYVOLNqDvEcwsLiolIpxPUpfdu9FKHD6VBF6nDNKNjIH/bIPxtQaufmF1B96gLyKmpRUHVUgevWUH0Mu8pr8Or1G4jM2xZ9d4cd/gVNOl1O2IjQancoQla7Ai4J9jG75CBySg8psp2l1Sg5kmoGsT4bT5+/gCAyveKxk24bTQYCflUObjoqq0ndODFEKBHsHRPurqxLK+T1Puoq7iyRnY9nL17iD2+HpJUJJt6TAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;Ryosuke page mockup in Sketch&quot; title=&quot;&quot; src=&quot;/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-e2462.png&quot; srcset=&quot;/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-f6591.png 270w,
/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-cce5f.png 540w,
/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-e2462.png 1080w,
/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-b1cf7.png 1620w,
/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-781d5.png 2160w,
/static/ryosuke-blog-page-ca5145bfbcbec15697acf28e70b9d2e6-85bfa.png 2885w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    

  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-85bfa.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 72.894280762565%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADVUlEQVQ4y12Ua2xUVRCAL69CsaFY+EFMiEgimCrS+kDWR9BorMZETSUEhUggDWKlaYBUxVdMGlLRgv7REKKiku32xQ+EhP8aa6Dd7YMWomkrjRJKt93HvXdfd7v7OXPatchJJmd2zpxv5s7MWSuTyeBls6RTKS6fPU/Q304o0EGwpZ2L/jZ+8bfyqz9Al+y/i3SLvadlxicU6CTU2il32hg8f4FMOo2Vy+XI5fMk4nGa7rmfBusO3i8q4/CC5bw7fxn755Ww2ypmj7WEvfOKqZtfwkGxNyxczuFFd/LBkpVyp4Qvyh8hlUhg5QVWAB57cBMfLVvFJytW01B6Fw1LV/KOgHZZi6ixiqgV/W1rMXUSoN5aykEJ/t7CUg6J/fhGH+lkcg7oxuIcufs+cVrMoaJSgVh86tvCb+0ddLW0cjHQZj6zXz6xt7XD6H2qB9rp/qkF/xt7sMOTBWCOpONyprae76tf58S2nXz94qtc+vYHdI2NT3BDAobdhNlvxGJMij4mgCwzK9TWiT05C5yenkabc+vKG5Ezz2N8/CZTU1MkBJKQOrkiSfk8R5Lw5DwvffCEofr/gDGJHIlGiUoW0WicSCRmdNt2zLlOgiM+Wu+E2HV35bcdiRi7+higSjxu82zNl5RvO0XFy99QWdXM5heO8lL1Vzz35A5CvX/Q+/M56let4eN1G2i8dyOfra+kufxRmtZu4JSUSgMaoORMzEmyuuoIxU9/R9kTHZQ9cJKHnjnBU76j+Nbuoj84TNfp02yXZtVK4/ZL1+u0gdLpA9YCjlc8PgfMK9B2eeWtRh5+fh9bqk/yWk0XNfv87N3ZxJtVHzLYf53gubPUr1lHY+VjNFdsFoiPYyKfr6/gx6075oCFGsZtm0s93fSEQoxc+5vh0Wv8OTxCKpUx4mXSjI7+xcDgEAOXh+jrG2BkZJTwxARZrbG+FAVm5ellpUNxx6F38Ar9Q1e5GQ4Tk7ra0kld6qyBx/65Tp/4hAQYFAlPRcjIXZ1lA1TnQoYpMXhe9r+xyeXyM3puxll9NICKIyPkuK5MRcxMgSZkgArTDM1YiLiJJPq+b19pE8wjIuOic1h4Yaaps0kZYERmSIfU/OvIBYXrfqtkZuuju/ompfi3+xTO/wWuvsC6zLSW1QAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;Ryosuke blog mockup in Sketch&quot; title=&quot;&quot; src=&quot;/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-e2462.png&quot; srcset=&quot;/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-f6591.png 270w,
/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-cce5f.png 540w,
/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-e2462.png 1080w,
/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-b1cf7.png 1620w,
/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-781d5.png 2160w,
/static/ryosuke-blog-posts-a45ebde64edf44705893ca61f9537904-85bfa.png 2885w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    
&lt;h2&gt;The Development&lt;/h2&gt;
&lt;p&gt;The GatsbyJS docs are fantastic. Most of what I was able to do was outlined pretty well in there. Although there were a few techniques that I had to really search to find in Github issues or StackOverflow answers.&lt;/p&gt;
&lt;p&gt;I couldn&apos;t find it anywhere in the docs how to accomplish multiple GraphQL queries on a page. GatsbyJS only allows for GraphQL queries in main layout templates, not inside individual components. Everyone kept pointing to the GraphQL docs and saying to use fragments, but the GraphQL docs only describe fragments as a way to fetch fields for queries -- not entire queries. Finally I found someone on Github having a similar issue, and someone showed how to define multiple GraphQL queries on a single page:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; query &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  query IndexQuery {
    blog: allMarkdownRemark(
      sort: {fields: [frontmatter___date], order: DESC}, 
      limit: 3
      filter:{frontmatter:{section:{eq: &quot;blog&quot;}}}
    ) {
      totalCount
      edges {
        node {
          id
          frontmatter {
            title
            date(formatString: &quot;DD MMMM, YYYY&quot;)
            cover_image {
              publicURL
              childImageSharp {
                sizes(maxWidth: 1240 ) {
                  srcSet
                }
              }
            }
            section
          }
          fields {
            slug
          }
          excerpt
        }
      }
    },
    projects: allMarkdownRemark(
      sort: {fields: [frontmatter___date], order: DESC}, 
      limit: 3
      filter:{frontmatter:{section:{eq: &quot;project&quot;}}}
    ) {
      totalCount
      edges {
        node {
          id
          frontmatter {
            title
            date(formatString: &quot;DD MMMM, YYYY&quot;)
            cover_image {
              publicURL
              childImageSharp {
                sizes(maxWidth: 1240 ) {
                  srcSet
                }
              }
            }
            section
          }
          fields {
            slug
          }
        }
      }
    }
  }
`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;I also had an issue figuring out the GatsbyJS &lt;code class=&quot;language-text&quot;&gt;createPage&lt;/code&gt; method for generating static pages for nodes in the &lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt; file. In the docs, they describe using the function by calling a promise that queries the GraphQL for data, that then gets converted into static pages (like individual blog posts). However, I needed to run multiple queries on different endpoints, such as blogs AND projects. I figured this one out by observing someone&apos;s GatsbyJS website on Github. I ended up using callback functions inside the &lt;code class=&quot;language-text&quot;&gt;createPage&lt;/code&gt; method and passed the callbacks the necessary variables to query GraphQL:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 *  Pagination for /blog/ page
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBlogPagination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;graphql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      {
        allMarkdownRemark(
        filter:{frontmatter:{section:{eq: &quot;blog&quot;}}}
        ) {
            totalCount
            edges {
                node {
                id
                }
            }
        }
      }
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

                &lt;span class=&quot;token function&quot;&gt;createPaginatedPages&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    edges&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    createPage&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; createPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    pageTemplate&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src/templates/blog-archive.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    pageLength&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blog&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    buildPath&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pathPrefix&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;index&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;pathPrefix&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// This is optional and this is the default&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 *  Create slug pages for markdown files
 *  Create pages for each tag
 */&lt;/span&gt;
exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createPages&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; boundActionCreators &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createPage &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boundActionCreators
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;graphql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
      {
        allMarkdownRemark {
          edges {
            node {
                excerpt
                }
          }
        }
      }
    `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/**
                 * Create blog posts based on slugs
                 */&lt;/span&gt;
                result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; node &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

                    &lt;span class=&quot;token comment&quot;&gt;// Grab random tag to do related posts&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; tag &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tags&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tags&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                    
                    &lt;span class=&quot;token function&quot;&gt;createPage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`./src/templates/blog-post.js`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                            &lt;span class=&quot;token comment&quot;&gt;// Data passed to context is available in page queries as GraphQL variables.&lt;/span&gt;
                            tag&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; tag&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            slug&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fields&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slug&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                
                &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;createBlogPagination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;createProjectsPagination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graphql&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createPage&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;h2&gt;JAMstacks are the future&lt;/h2&gt;
&lt;p&gt;As I observe trends in full-stack web development, I&apos;m finding &lt;a href=&quot;https://www.youtube.com/watch?v=9-VuJTiVsCo&quot;&gt;more companies talking about switching to a microservice based architecture&lt;/a&gt; where the client-side application talks to several different APIs for different functions. And depending on the application, it becomes easier to push more data into the CDN, preloaded from the APIs, allowing for a more efficient global stream of content. And it&apos;s even been proven by companies like &lt;a href=&quot;http://smashingmagazine.com&quot;&gt;Smashing Magazine&lt;/a&gt; that &lt;a href=&quot;https://www.youtube.com/watch?v=_3zYAMkaMf8&quot;&gt;it&apos;s possible to create static websites with authentication, or e-commerce shopping carts.&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&apos;m excited to explore the world of JAMstacks and push the capabilities of frameworks like GatsbyJS.&lt;/p&gt;
&lt;h2&gt;Thanks for all the fish&lt;/h2&gt;
&lt;p&gt;Thanks to GatsbyJS for creating awesome framework, and thanks for Github for hosting my repo and website for free (including a custom domain!). &lt;/p&gt;
&lt;p&gt;Cheers,
Oscar&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Keep Reading:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://gatsbyjs.org&quot;&gt;GatsbyJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=_3zYAMkaMf8&quot;&gt;The JAM Stack: The New Front-End Stack For Web Development&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gatsbyjs.org&quot;&gt;GatsbyJS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Stay Regular v3]]></title><description><![CDATA[As my design studio Stay Regular approached it's yearly anniversary, it became time for the regularly refreshing of the website's theme…]]></description><link>http://whoisryosuke.com//projects/stayregular-v3/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/stayregular-v3/</guid><pubDate>Thu, 01 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As my design studio Stay Regular approached it&apos;s yearly anniversary, it became time for the regularly refreshing of the website&apos;s theme. This would be the third major revision of the site since it&apos;s (semi) static inception using the Kirby CMS. &lt;/p&gt;
&lt;h2&gt;The Goals&lt;/h2&gt;
&lt;p&gt;We set clear goals in the beginning to define the direction of our design:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mobile friendly&lt;/li&gt;
&lt;li&gt;Animation&lt;/li&gt;
&lt;li&gt;WOW factor&lt;/li&gt;
&lt;li&gt;Better understanding of brand/services&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href=&quot;http://stayregular.net&quot;&gt;The Result&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/stayregular-v3-frontpage-a1716e5bbded3e82d6b57e6e87a6b996-c1564.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 359.8879103282626%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCABIABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB8S5iRB0zNGEL01npZyEZqLAWhkH/xAAbEAABBQEBAAAAAAAAAAAAAAARAAECEBIhE//aAAgBAQABBQJurMaw4CCLg0U3XWeecjKLxfXNdlLT2LN//8QAFREBAQAAAAAAAAAAAAAAAAAAETD/2gAIAQMBAT8BZf/EABURAQEAAAAAAAAAAAAAAAAAACAh/9oACAECAQE/ARF//8QAGxAAAgIDAQAAAAAAAAAAAAAAABEBIBIhMTD/2gAIAQEABj8C3J2vDVWIUiQ8fP8A/8QAHhAAAgMAAwADAAAAAAAAAAAAAAERITEQQVFhgaH/2gAIAQEAAT8hZLdQ0KbfZL9NkrJH5obIg8PS3Zjc6ZxDg9JNUX6KJSX8nagWITSVJFwITqOJRJfGMJ4//9oADAMBAAIAAwAAABD41rxz0QCAD//EABkRAAMBAQEAAAAAAAAAAAAAAAABESEQIP/aAAgBAwEBPxCDCLjorN8//8QAGBEAAgMAAAAAAAAAAAAAAAAAEBEBIDH/2gAIAQIBAT8QQcjFv//EACAQAQADAQACAQUAAAAAAAAAAAEAESExQVFhEHGBoeH/2gAIAQEAAT8Qq5lZaBGttPALY36sh4P4XsXKPtb/ACOgppc7pKV19opAErlR1jTIMp+apkuY8lBVyLAB5XqUdTmHwmVcXjLhcTyGsbyWHjWxMdZVTyIAFf0q2Kr3BIhdPxETpDApnq4nwfti32f/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;stayregular v3 frontpage&quot; title=&quot;&quot; src=&quot;/static/stayregular-v3-frontpage-a1716e5bbded3e82d6b57e6e87a6b996-918ac.jpg&quot; srcset=&quot;/static/stayregular-v3-frontpage-a1716e5bbded3e82d6b57e6e87a6b996-2ceef.jpg 270w,
/static/stayregular-v3-frontpage-a1716e5bbded3e82d6b57e6e87a6b996-b59aa.jpg 540w,
/static/stayregular-v3-frontpage-a1716e5bbded3e82d6b57e6e87a6b996-918ac.jpg 1080w,
/static/stayregular-v3-frontpage-a1716e5bbded3e82d6b57e6e87a6b996-c1564.jpg 1249w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-8c92e.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 108.42245989304813%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2qc+Qm+F5hCwD//EABwQAAICAgMAAAAAAAAAAAAAAAECAAMEERIUM//aAAgBAQABBQJ24JTlLc8v8MTfYhAISmtGn//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EAB4QAAIBAwUAAAAAAAAAAAAAAAECABARcRIhMUFR/9oACAEBAAY/Aix6mkKwzR8QX8pY8GXVd6f/xAAaEAEBAAMBAQAAAAAAAAAAAAARAQAQITGh/9oACAEBAAE/IYJLJeYxoLp9/LsJ1qzkwLM4qeF1/9oADAMBAAIAAwAAABAjzzz/xAAWEQEBAQAAAAAAAAAAAAAAAAABESD/2gAIAQMBAT8QWIY//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHhABAAICAQUAAAAAAAAAAAAAARExABBBIVFxocH/2gAIAQEAAT8QGJKyyHbFExSBDEdPeuDfzyWkc8XBoVTCKRykaQkwPnX/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;stayregular v3 iphone 8 mockup blog&quot; title=&quot;&quot; src=&quot;/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-918ac.jpg&quot; srcset=&quot;/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-2ceef.jpg 270w,
/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-b59aa.jpg 540w,
/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-918ac.jpg 1080w,
/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-419dc.jpg 1620w,
/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-6e912.jpg 2160w,
/static/stayregular-v3-iphone-8-mockup-blog-cb66ee60fb2d29e8b09e91bd721f39fd-8c92e.jpg 2992w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p class=&quot;centered mt2 pb2&quot;&gt;&lt;a href=&quot;http://stayregular.net&quot; class=&quot;btn&quot;&gt;Visit the live site&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Animations &amp;#x26; Microinteractions&lt;/h2&gt;
&lt;h3&gt;Parallax&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/Stay Regular v3 - About Page - Hero Parallax-b3177bf38b25e1a282aa685d3aca2572.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;We wanted to bring our page to life with microinteractions and animated elements that enhanced the user experience beyond a static interface. Parallax was a quick, effective, and &lt;em&gt;mobile friendly&lt;/em&gt; method to create a bold masthead for the frontpage. Combined with our vector illustrations and the Anime.JS animation library we were using before to create the randomized drawing effect, the parallax took everything to another level.&lt;/p&gt;
&lt;section class=&quot;row&quot;&gt;
    &lt;div class=&quot;col padded&quot;&gt;
        &lt;div&gt;
            &lt;h4&gt;Accordion&lt;/h4&gt;
            &lt;p&gt;&lt;img src=&quot;/Stay Regular v3 - Frontpage - Accordion-e9a7f5b76eb671380e29bd45981ea32d.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
            &lt;p&gt;Don&amp;apos;t make them work for it, make them &lt;em&gt;play&lt;/em&gt; for it. Accordions became an effective way to take the wall of text we had before for services and transform it into an elegant interface.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;col padded&quot;&gt;
        &lt;div&gt;
            &lt;h4&gt;&amp;quot;Pop Out&amp;quot; Hovers&lt;/h4&gt;
            &lt;p&gt;&lt;img src=&quot;/Stay Regular v3 - Projects Hover-a46a1c84ea88bc04a2daf36defdf2be5.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
            &lt;p&gt;This animation was important to take our projects and literally lift them off the page as the user interacts with them, bringing them closer to the user.&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/section&gt;
&lt;h2&gt;Newsletter&lt;/h2&gt;
&lt;p&gt;To announce the release of the new website changes, I designed and coded a newsletter to transmit through MailChimp. A mockup was created in Sketch, and it was coded using the &lt;strong&gt;Foundation for Emails&lt;/strong&gt; framework by ZURB. The result was a perfect email in a majority of popular email clients.&lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/stayregular-v3-newsletter-aa7158eae679caddf327357266508795-1d46c.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 686px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 388.7755102040816%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAABOCAIAAACv/qHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAI5UlEQVRYw7VXWW8byRGeu+fouQ/eM8P7JkVSJEVTpC5TokUdvmTFku2F13a8QYAARoJ9yUuAAPkDQf5vijMSJVK0Vw+7hUKjh+zq6q7jq2qCIAjyHlEU5ft+Pp/P5XLZgGBSDIhhmMViYkELSZiLori7u/vq1avnz59fXl5eXV1dXFzA52w243l+ZfGSMKiFFeVyuRpQo9Go1+utVmtjYwNGhBAsgPVMQHfKaZqGP2DkOI4PCCZsQIIgwCdzS6AD/iLWEmyxdCVi9XYgH2q6Uzsej9vtdiwWA/MMBgMY4ailUikXEJzf8zwwnuM4IAbyd8IwOz4+/vjxY7/fPzs7+/z585s3bz59+vTt2zew1tevXy8DggnsCOvhLnenA+FGQIeHh7DL04DAYfA5nU4xxqEtYSXYLDw20I0wmOT99fXx0fR0Njs/OX1xdg6T4WAwnRx+uH6X9jyaIMGAFEEKHAJR2OJOGExBMPSqfRBL8BxBU4ws8YYm2aaga5Jl8pIIxr93Z56PjwfDk9n45fP24UHv+GhrdiT7ruQlJS8hJGN8IhpwRC5nlayLaOZOMyUI8b3hYPZs+/lZbXfcmuwDC6m46MbF1JwlNwFzyY1rjZKS8zkIiEWQzO3BskRoP4qcG5BjeVlGMgbmZSxpKtY1YE4SOYSW70zMBamASeJmk3BCk7APC6fkwLe37lkKEvI7FIY66AHHhpG3mhVrhcPfQWYpAR5JcDA1IAgBESFwr8BxsijCiGAiy3fHXol+GCGqIIFHo+18oXBwfrZ3dnJ69afp65ejZ0eb/d6TwWDJYCt0c0lIXdCTS8v5tFrIiOmUmE5ykkAR5HclQXk6kwUYaLc7kGHdjVa1WOq1Ok+6vY1qvdftQRYwP9AMlEgmC4UCQFe90cjl89VavVKtFEslwBnITYqkiD+EqFuiA2y67+Q/QNsi4w3D2B6NwGA74zEA52g47Pd660H7fniHfwA4xqJR07KS/U5mNCgfjLKjPicKxL3IX9ULiQXQRt73AXW3cn51lg2ZXAkv+BZ0FWkyVpWE68ZTyUg8ZjpO0nVTnpf0XElRYHeaYTlVYQ3tBn9uhUnJ1Hhd1XQd3JvJZKBcpVwXvFquVGCAOCeCnGWxxFr6sjBN85aBLJ3C4hy6gAU0Z44hOBZGShIYVaaxiCLmA2GS4DVFKWdUWa7XalCjbMuap1fg4vtFhBaFdZodEzQDVhIiT0oCKfIAoHAQRsELDjRbDzWTYDDsJySMM9ksID5UmUq1qml6EHB0oD4okdLDO1OkYOk4nUCyFE0lIok4sJ/PYl0lOYbmuZApjuF09aEwJcKxDU2Am1umaluyaSi2KWoqLfCMKIRMA6KZ+qrwvCeApW5MVZRKqQzOKRWL1UrFMowFvNwajF9jMCFi8o5BKxgMFrBASAJ8spqyYLAZitlrXCUaKvbiuq61Go1aubLZbofeWsmEda6iSDHuiF6Mtw0cc6SoDSN4jjXUJdaUuWZDXb4z9Au6wugqY2m0qTJmMFoaKFllUyMo6vdGgxAQ7ic9HbQ/K2u+C/cAl3t7e9B1TSaTzc1N6FJ2dnZgPhqN0un0b6hHPA+5obrJ2KBrt2usJMoYA6pAiYHS86MzrznSfeAhw+pN3keY7y5+rKkoPU45RcrIU2qektO0mmeUFMnI8lbGeNXST5rGrGNM28akZTzt6NtNKPkLdGPozIhrXrGFSzZ1zvnnQu614E44NR/58yj932v/P29Tv+67/9hP//M6/et7729XtIoXIcfSiTbj7zD+Szbxls9fCv5EiOwguer8tB3/ZWK+GekvCurEj76f2odj7+tbGjBjcW6+2MHVTVzeVXu/aIOfte4Lo30hWkN1u8QmrWS93NgfVvrtZKtGy4pzfHADoOGdabso+jWtcaKU/qo1PuvtD2r2DDsd3PAIlk65qdnp6fHJiRu42twe3uRGkBUciboUl2aVIqv0kTlC2iYSNxg2YUy7UimHkgmxVBbdrN7cxG41fnbOaMrCYDwtTxnzNWu8QM6JYD4TrafYmCC2Enm5r/WaSr1q9PtKsW492VdzXf/i3Tztb1VzjPITSvxF9L5g94OSuNTj54Yzw6gWuZw2//ev6r//7n5651299a6uvZdX6aufaVW+KzbI8/himovG+UQGOSkO25xkMxwGoEdunIPcjgTsOHwkypkmSS+aOJayvlTNL3m+aBqTgXNxqO9uUbq62J6EnhgYBOZMggnvBRhHG+8L+qyCN4pap+HMDpRWg0+6KBGZG0QUlEKuOXzSPdjr7I17+7t61qcWQQKalZ24ddQ3dodCxsNQdJoN5+BAbvg32BhzrGzayvohC1GbvAtPklSaeWPcwcUCYznmsKs2ms7eUznnPyo11I28sdUQc1k4rbN/gPMlvdkSE4nbFphc37WGJOc9c9AR0xnOjugbdZwpauU6b0eIR7Q/pJx2zc2WlM6zZlRvtJRCw6x1eCPyqHzmoMG1LVbVaQFzmslplmBHGUF6CHK/dwc2t5mmwYtsd29vazDodDZrtdqT0Wg4Hp+en7c6ncmz6dHxs92DfVES17eMAJE4IGhfYIxu1KPddnKrY7fqiV473m1FIJ/F72Ao8xDiIRIZkoDXHBvMEQudBaQUufKIgwY9Co2faYL+EEahoHIRk7McGkcYOcZggxYQvIFp6NgyySVh6BoVRYFn/wLc592MLtOqSTAOiRyClsOYgYQRisvVA15BoDmUv8FFLALcQK1kHJVNmGwM2KJ1GYrpqjA0l/C2htGyrLD9BYhkDJXWFQqaKE2GCTCJWCjGS8KhnaBZ7vV60DhCQ3Wj2QFtNm3rtKkxts6mIlQoXEqv8Ra417Zt3TDgPQYtY2hbCtQayrytC+suPIrz/vrnmB3Q/CGpSHzW5XMuyqVQzuW8GBu3QT9f8MR64TdiDqoQ8hMonUReHPlxPpPkcyk+mxSKPhO2JQ9JkkRF0wSMRSxK8JyURdpU4AqPjHXKxiiOBZvRhKjH6A6taABVdzX8x+mFWVJHDCZFBmskkkgGrV32f68zFA5Yc+h9AAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;stayregular v3 newsletter&quot; title=&quot;&quot; src=&quot;/static/stayregular-v3-newsletter-aa7158eae679caddf327357266508795-1d46c.png&quot; srcset=&quot;/static/stayregular-v3-newsletter-aa7158eae679caddf327357266508795-59df8.png 270w,
/static/stayregular-v3-newsletter-aa7158eae679caddf327357266508795-c8aa4.png 540w,
/static/stayregular-v3-newsletter-aa7158eae679caddf327357266508795-1d46c.png 686w&quot; sizes=&quot;(max-width: 686px) 100vw, 686px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Doja Landing Page]]></title><description><![CDATA[Doja reached out to me to create a landing page for their new cannabis product review app for iOS and Android, as well as a page for their…]]></description><link>http://whoisryosuke.com//projects/doja-website/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/doja-website/</guid><pubDate>Tue, 21 Nov 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Doja reached out to me to create a landing page for their new cannabis product review app for iOS and Android, as well as a page for their Ambassador program. I provided the client with two primary landing pages and additional text-based pages. &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/doja_landing-9f676bdf70cb3331289250c182ab4a9b-1953c.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 71.95723684210526%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAC/ElEQVQ4y32U309TZxjH/WN2tcW7JbszizEx2W6WGLObLVGjZDOS2tKes6KFbUSBgVDacqBAxTK1qWRLiA6DdKII25RMOwRUIjgzkmVeGDVWyuG8/ezbUiIx0ZN88z7n1yff532e591m0iG8MxZmUOvpEGv9QdwBxQM2Xr+F1ycl9b43hOmRHMXdUkLfxKWuICZu6/lxTGeIbWWgEdATkEELsg2ge3p9kl8/+/SxH88J4CWkuOKuo1JAoCqwS4yY/RronREsbfEiGcD5YhdXmo6wMpzg8bkOXl3sY22oCTOWxkyNYEaSmOmLmPPteLE6ObUrUC8qbQLXy+6GbPJttdiRRm7ezuMC/z19XlmfLc5hfo5jRgcxl1KYaz9hhprlOizVC1RXVbAKrDqc7fAxfinD7G+T3JseZ+GPq8zfvcnKzJhS1w9xpdojRwm5SWibUt9rj79V/I3AEUzU2gRaFWC+vZapG5NMX88xmk2TGxnmyugw9yZGKGV+wMuewmQ78C5E8dIn5bIFk27RlkmDzW8CQ8x1+llafkSxuMa6Zyixca2uLFcqTSoCA8c31BuGnrLqJd3H5LhDKXtbUv7rlI9z2RSzC3kWHy7jFlcpCvx8aYFX0VoaDu6h5tOdfL7jI+5EDpHx76fms0/Yt/tjMjV7IRGuAqtFudN+hGMnLH7NXebW1BSFQoGXRZeni3dxuwNMHztAztrH5cCXPGnzMf/d1+Tsg4wH93O/4SvosrZU+UebP1sPE2kMkL99i3//+ZvNq/B4Ub0YUKrhqpSmGhzHfp26mrtS5bJDtww8G2ay8QDvffA+TSdP0NraguP00BlLMJZJQ58tl5oiVdiNq8rSekyxetBVD64LVmnsrSk/aDvM7g+3c7bP4f78HL9fn2BmZoaliV8oOWobjZ7nSN2hyuiVJ8XEQhuTEt0C3Bw9o1l2++sopMKsZloonm9mLdOqGVePOcENYBkmeW8Dvnk4mNMWJR0OpaRf0mjpcDBK1/SHtdZjkuF3OvwfxThYwWJ54YwAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;doja landing&quot; title=&quot;&quot; src=&quot;/static/doja_landing-9f676bdf70cb3331289250c182ab4a9b-e2462.png&quot; srcset=&quot;/static/doja_landing-9f676bdf70cb3331289250c182ab4a9b-f6591.png 270w,
/static/doja_landing-9f676bdf70cb3331289250c182ab4a9b-cce5f.png 540w,
/static/doja_landing-9f676bdf70cb3331289250c182ab4a9b-e2462.png 1080w,
/static/doja_landing-9f676bdf70cb3331289250c182ab4a9b-1953c.png 1216w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/doja_website_iphone-07a8dfd16ae6c699565cdb13d5862f11-da772.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 71.87780772686433%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/0lEQVQ4y3WTa0hTYRjHT1ifCqQI0URLCIq+BRoUaIRISYUpVt6mVprbzmZaSS1XeVveyrx/CNNKI61MoXkhp5uImkY5nbNtzfsFisC+1KLg+feeuS0NO/Dnfc9z3ud3/s9znsNJPo0RE5xKMemRumBBUH4ufEKP4WjlfSQN9SJt4RPkLJ5iGoHYMorVOavFOYHsEAniJ8cpYeQtXYg6TqG7tpP7po3Ebd5CW/39KezRA0r7PEP8lNF+1pHL9He/FmjWQzZvRkRTPUZUSUBLHuaLeaj5SJzftxP7w07grLYT0doOSKfG7U6dWtehhAGTZ804fy8H38p5/K5TAI8yoUmPwQE/H3h6bIen2wYcDD6MFAfEDvsfkLeOIW78Awqy5UCDEr+aS4HGYhRFh6IwOQK6OzLM12WjJodHZHc75LMfIVS1vkOznuSzJkS+UaMzVwy8zMfPBhXwRIWurFQsW/X4tmiEaViNV41VEHW0QjqzDtDRXLBySTxngai2CgslUkBdxnpYDry4D80NMXpaW7A0pEVLUyMeFtxFQkMtxAwoWQ8oBKRsTbQacV2VgR9VcmhuJ8FclAY8zkNXugj1lRWwDPfjmboXmdeycLowB5I581+HDigncQDl00Y6PdAL9R0pZkp4xJ0MgSgkEF/zZahKOYusimpMT1oxZjBgdOgdFHU1SJx4D95qWPnSaxzax8VC4ayM1tRwfK9VQK0Uo14WCyq+hHNpF6FsqAcIsH1ZgnA19/fhTL+GGZlY61AACtMvX7RScLaSNnEcBfh6UG5YIA0oztHo1Xg6UVZEV54/ox/Ly6TT6aj9tZoUt25SVHcbyWZNzNCoa9BdPZRMjiNO14lDGenwDgqCm4cnOI6Dn6834vu7caq6FLt3eMPTywub3d2xbe8eJA5q2YAb7X38d2xW3mA12PfJI4MU29ZMwaosOlKossdietop4HIqu8+l8Ke1lNDXJVTmyl3t0CaI3dhce6vBxn4tto7ZJKueSx1xfnrCxipy5QirU38Ao1gbXrYIe2UAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;doja website iphone&quot; title=&quot;&quot; src=&quot;/static/doja_website_iphone-07a8dfd16ae6c699565cdb13d5862f11-e2462.png&quot; srcset=&quot;/static/doja_website_iphone-07a8dfd16ae6c699565cdb13d5862f11-f6591.png 270w,
/static/doja_website_iphone-07a8dfd16ae6c699565cdb13d5862f11-cce5f.png 540w,
/static/doja_website_iphone-07a8dfd16ae6c699565cdb13d5862f11-e2462.png 1080w,
/static/doja_website_iphone-07a8dfd16ae6c699565cdb13d5862f11-da772.png 1113w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/doja_corp-9019f9d0498c2fd3cf28bd000c0879c8-17854.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 414px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 1019.8067632850242%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAADMCAYAAABz5INPAAAACXBIWXMAAAsSAAALEgHS3X78AAAYlElEQVR42q1bB5QVRdZ+CmJAUJKgGBBQV0FZdTkiCEhQEMUAuIueVVc94EoUJgcGhpwn58zMkEEFFV1EdGXdPf6w6qqAguQchjjhMd3v+79b1f2m35v3ZkblnfNNdVd3f32r7q17q6vuuIyiMJhFEUQUzIJwmPnhMHJZl0NkE1kWMokMIp1II1LDYKSwTCaSeJwYCjMhDC6jYDLMtfNgblkJc3MJzKXxMHJCYOaG10+YxGfzZ/KZBBgJIRahLWFxDMySKb9SQkqVwhenRNRIaBaRoJAX80Nh5IUQvJmERj2EBgnNFJEyVJMl8jgh1JKwMNzbfyYJf1cfml5ClvlhitBsIKHpIDT9CY1ghNm+hEYAQsOfUPpQJNT96NeHedGsi9FkloRGAAlrzMYpodii9GFOqDIbI4svKJwKcwlNKSNUSWek0jzSwpWGjWRRSIjVZEspomVFmDsJ5vuJMD/O1ViXCnP1IpifFPKcWJfF65kEy9L5tL2FMJcthrkiRdmgkPnaoShm6TSYK+fQ0HnjUjHYWXxgAetIvIIEpXNpr7MpPaUu5PUclrnT2Xy2LCXKknAJydYlUJJsmB9Rgo0FMNdTupWUYi0l3lQKc0O+lnB9DkHpl/Ilq1JgrsngPaz/qJj3p8FYHGJpuThKjxTpw1JKuZoPrF6om7yKWM0Xrk7U0pWwBUtYFhF58ezPSCqKz6ZFW00ujYHBJotSjBz241oS/INSriXJunSY71GSD3J0P0ofrkzU/SgSFs2hkvhsZhw1H2M1uTSWUk3REhZG6rEsWs6ntEVxSsOmaLqQkufGahsUZPB6jtTxek687sPFoZaEJbHKMRhFPFaE1JqYTUEsz1mXF6uRSWlSJ7Pkwzm8P4t1WXypwGs20n8l0myWK9gvK6nJEr65hG8tpSZLqemSWbrv8tiSAmq1aJbuw1L2c8EsviTSaTbhilC5LrHDDeyf95JZUpvvp+p+/IAW8H5GjabXsu5dnq/PoxDJyn2p0aK8TWGo1vIHfHh9sjaZDzK0UkQha/iSNUk8Z/27aSzTtGGvYH3JAk24LMnqwxCLcO18TSgSfihvTtPSrRdiPvAuj5eLGfH4PWp6FQmW0hpW8oUlUk+JC+ZYShE7FKUskz6jNpeyj0qJEmIZ++l9kq/P0tK9l6GlK5hBx8EuyqYyMqVkn3vNRnls7RyM/DCt5fxIpWWzkDevIMEyKmr5Am3YOdRsOrWdHqltkCFAPI2OKSLhEtqegFpWmi6MwiUSunOJnAi46QvdmeEaGTyn/bkzo3Epk4rMFFPiSzNitYRJEdZYVs4hUkGkA7sAK6YDy6cBHIoosTFdo5jIn0qyGE1mEZpJkZb7Us2OQDWbi6JofB3/JgpeG4wlo4Zh5YS/YPU7L2P1xJex9O8jUDzqBRSxfkvUm0BGtG52crjlsUPtEBCm+tBN54qSKAx7ZjCuDhmDtrddhT90fRC3d74b7Tt0xBVXX4sWbdrC5XKh332dSRjliHqOMKoJwzVhcSReGDoYD70yHve0a4JOXbqh1+P98MwLw9H3iSfRo3cf9HnqGTz1UFcgTaSzY0pY7SBVLYRFkdgS+xoyRg5E+qvPIH/UcygcPQzLxo1E0ejhyHplCHLeeB6fTv4rCcO1hIGinmmZjYf9WJY+GTtmj8be+WOwf+F4lmOxZ84Y/DL7bRyYPwF754zDqUWT4JHYHCjq2RK6c0Oo3al4/uF72LS+ePSRR3DzzTfjtttuw9133417770X7W+5Gc1btsbTD90HiC0qCUPrIFwVjx4d2qJw1XuIjI1D61tuxbPDX8Qfuz+Ch3r0RL8nBuH2P3RBz3vu1H1YF+GlvFBqOQYprw7GW0P6YPJz/fHWE49i4ZhXETHiKUx8ph9iRw7FmKf6IuGlpxyEQfpQZg4S6LEkGiiIoPESBVHwZEwGsmmj2TR6BnvQ0SIrSk+W6pqKiFIkBFRz1qDAmUM1h56RxToSVTPQV9P9V6eGoloCffCpiMM55IbqEJAdomcOmSwziHQiLUTNHIwUIpmhIDnEq+UAsy+Ssg/NUrqxpTN0CCimW1pG11/M8yJx/VIyLOTH6xDAQK8UEsiwFWG+eO84TSpkRVMtsngd9egQzPxpeuaQzxdkTXEQOmKKbrIF1WQi24LdZDVZCrWaHWo1N9TRZIkpYTXOQWs51G9+GGrNDVmS0CShmUakytyaSBbpQr2exlQhgAHKWGJBnCwdrEFTMRjojTwiV2IwkU3QVIxMjo6MSO2xBWmROoymEMn0hxUnj6BenKgHx2vgKq9y43LCVVFeDhvl5RdRftGCnHuPHXDWWaWTw1VRUQGBEFRWVsLtditInZxXVVWp0gm7zi7lWZvHZZNJWVZWhgMHDuDo0aOq7tSpUzhx4gTOnTunrp0/fx7Hjx9X18+ePYtjx46pe5ykXkKR6vDhw1izZg2+/PJLbN++HVu3bsUXX3yBf/3rX9i4cSO++uor7Ny5E59++ik++eQTVX/69OnahE6oviPOnDnjPb7Ivrpw4YIq5VyOT5486e2mWk12EtnncqOzb+1zG9J/zu6q1WQnqRNSLxJJ/wW6x1+YWk32f0F1dbXqx02bNuHSpUu1yPwRlFAgBHv37sXnn3+ulLB//34f0oCEgZprn0s/iXK+/fZbbNu2TR1LXV3P+PShU0J5UGzsp59+UrYpku7evdtrJsG6ySuhmIQTUieKsI1XDFyOxchtU7LhI6FtFjIS5CF5WCAjQmxNJJJSEKxeuqLOJgu8D8hLWJaRTM7lxQKnrQZsciD7qpSbxYCrDQ3LmOuyx4AjxXujHJ8/h6r/bELVVxvVcXmAe+u1QwXxd5eqUbVvF4zSJBhLk1C1f7eqk2vBnnPVNewE58+ewYUDe3CBZOfpssrrGKK1lOJ0AlKK2eygu9qxazd+3rMXP+/apca18x6nE/GRUOxLnKaUAiETqHqaheCcdd1bz3OB03F4CeWCmIptFuKVBWLMTkid2KLca98v5LWa7B83nBLYkIfFiEUi0zS9jsLHY9elFOfQMgwD9k/OZYyLtFIfNEjZ7l0gzsH+yUPiGFauWIlxY8fiT3/6E1q2aKHm3Z/84x/weDzqGZ8+tB2E/ZP++uyzzxA/bRoG9B+ANq1bqw8eJ1q2aIlp8dNxkWQ+SrGbJ/2yft06vDjiRXTq2LEWwZVXXIHGjRrhqsaN1Xmb1m0wffpM1b92P7psNyW/kuJiH4JGjRqj2fXX44bmNygi/xfceOONmDV7jlKgl9CWTmJHnz591I3XXnMNmjS5Go2ubOxDcIVcu/Ya9t1dGDFiODp37ozpM2YqgXwIbX/YtUsX3yYSrVu3Qtf77kXHOzuga9f72J+P47nnnsHEieOVcqZOjadC/AhFo0L4x27dVOc/3rc3ejzSHa/89WXET52CCWPfwl2dOuCxXj0weNAAPP/8UEyPn4ruJJw2LQChPQ0ZO+ZtJCUlYd7MSXjtleEYP24MQidNwGM9uuOlF59FHxIOeeoJvDRyBJYvK0Gvnr0QOyXOO75rEY4bOwZRURGYN28mVq8oxcS338KfX3gO4ZPGYPb0cLz52kgMGTwQo0e9hp92/oiejz6KqOhYH6frsuPvoUOH8M7ECfj44w/x7y1f4PtffkB6QQZmRIdjSX4yFs+PQ1riHPz1z8MQGjIBGz5chw533IG4qdNrE4qG9+3dh5SUJJw8dRSnjxxG0aerMGNZCgpSEpCeMhupibOwvCgb0yJDEU6F5GSk4lFLQjtK+hDuob/LyUzDsaMHkJubhdLiQpSfO42NH63H9CmhKMlPx8KZUzE7LhaJ6Ql4/e+vo89jvSnhtNpKUU1mH4aOH4eFC+Ziy5bPceLYQRw/ehCH6alz0hKQtngOUhMWYNPHH6Hwo1UY/sZLaM2hJ4Z93t+wFeHBQwgPD8Oun7fjwvky/LJ7B/bv/hHz132Pv701HqmLZtEPHsHxY4dVsDp96gQe4Qd6XNzU2lpWfbhvH6Wbh8OH9uLokf0oO30CF86exLtf/ogNm77EqRPH1PCUB48cOaLG76AnByE6JjYIIZWSlJhIaSX2lqtZxH7OaXb88D/88P3/vF5IhpnMwsTRDhwwMDjhnj17UFBQgB85t9648VN8/fXXaj4tyhKXLz5R/J79k27q378/YuokzC/gMHQr/+b/8/idC0F/+smYmCnBCQsLCrWHth4S/yiSGSw9FXSitLdTp3RwqqqqxAA2OTwisra3qSEs0ESnOIU7dhRuNsv7O/QLzpw4jrIzZ3WcoSEPGDAAkVHRdRAWWhKePIqLtC0hdLsv8WYqimWVdVzJbjlD4po+DEKYn5fHY0YxPnihnLH63HlctBywfNPZoVQeluP+/fpbWg5GmJ+Pcl7Yvv1HfP/tNziwdw/clXpaJ5JdvFju/TKQl0jwio4ORsg5dEFONlBFD37mNNznzsAovwCzshymn8nIT1ye9GFwQkspp0/SoPfvg+lBgJ/HSyxeXhPG1EVYSPd1CgcOHuT094TqL0Xj8Xhhmk7CgZowmJaLLC2LYqrF/qym+hKatSUMRLjXMhsZo/JdYj+omujoP/8mR5HwfF2EMm4lHDg/G+RYSWuNHmeTgxKqJhcVWU2uVgYtzTalmRZqN5mEUcEkFLOhHZadKVMSijfxjmULcm5a07qqykrdZDX0zgWQ8Jc9WLZsmTqWfpTSOSf0/5mmgYEDB1pjOUAIOEhTiY+Px+o1a1TTMzMzsXjxYixcuBAzZ87k1GMiRo8ejZEjR2L48OGcXfTF7bffrmYOPrMv59zmoYcfRtsbrudk6Wq0v/VWNGvWDG3btlWLuU2aNFHltddei46c6rVr1w6tW7XmdG6GalHtuc3pMhV02rRsgXYkkdXh1pzn3Erizp0644YbbkCrVq1U2bJlS1zPaV6bNm0CE8qJVHa7/349L7zySu8M7KrGTTiNu1JN5QLNYOPiptVB+MADPoQijUw4r2p8Fa7mfNGexV5pXW97U1s1JS4rO+390vedcPbubUmlJ5rXN22KVi1bKUmuY9/Zk04hleP27dtTYbP4/AXf75QLVlBasXy5ksSeS8vDzZo1x42cSzdifWO+qDGnyaokHuj2R2zevDnwV4A9af/nP/9Jc0nAggULsIAmM3/uXMyPicCiqbGcCCzAIprSokWLObFKxbZt/1Vk9mTJ58PHJvU6UhlqUp48AmwoBT5cAkYun6Bqe27nh5PL//PU/vBR3x4SlE4ew6V/b8SlLRtQdeo4KjkIvPf4kQVcc3B2gYzvgxzXBw8fwZFjx9Wx1DmJGrzmIA+pL1JOjA4ePMAvq6PKacgQrfMD3LZD8XkyQbKXU+zlExmSck3q7GP7Hvv+epdZ5FxuFGdrr9PYBFIKab0rS4GaYK8T2q0ItOBW7zKLE3ZXyNRux44dXvJga4c+hIG0LHYmH9qyFitLfnZT61y3CdZkkUZmB1Lu2rUL3333nfrqlJf4S1rncp9NJl9WQiRmIseiHAlk8mUvdQ1a7nOuBIs2ZXJua9dev5ZSvvbt9QjbKQRc7rPNw7Y12/6cy312vX1NIDGlzibbEjqJ5IV2aS/3NcgOgy6uBVn49Rem3sW0hqLWqsjlgks+FS4nXOXVJn43jBq4Kr/bDIVvLXzjwH8tbHNgq4X/c+DrGrjM3PEwc4hsIovIJDKIdCKNSCVSiGQiiUggFo+DuYhYSCwg5hPziLnjJM8hQifwFEoSj4V8Io/IJXKIbCIrQqfHZEToxAnZClaJEzqLwEjSqJ1IptLdwnV2X45k+BFZ4Y7MtHCVpmWmhvtsBxu1E8n03qiRM5nSvENIog6RzuO0d2p2b1MmUZKJxCS1lWkG3aPPD4G5cjbMD9Nhrkvh8TyY7ybr5BNJj1nK82ULYJayXCPZLYt1FkveDBgJkwOnJZglcbx5IUlItGIuzFUkWJukc78kK0i2g0ukntdL5qkkKDMtypsuWLvJebJjO6mmyRmTdJMzJuvdW/8mJ07ybgcbgbP7wgMqxUglQcoEP6XUkd0XLP/QyA5T+8vmxwVEkbW/HOqTIRk0/7AWodhgGqX6zwfwMI543FU83sCmTdBS/mpCMWyOFM+hn+Hhx7eHn7qeQ7tpKhN/I6EkklEh5kc58Fw8S8LzMDcUKIX8JkKVIZljkS6ZTtDeUt4JmiHZcKUIZKSkTNRKqS8p1PDZ9A/zzeHM0TmcKi2hmIadF6elcxA6UzsCpmnZebDepND8WN3kktk+hIYjD9Y3E0OyqiRdUJLJiuVhAc8LWRbEaAlziexISizHvJYlKVrRKk1LZVSphEYiMdzOqpI0rQhHtm6EskM1UkRCyT+UzL7s6JqR4nVhhGRV0Rd6+9CwsqoMqw8NRx8a6ZNqkk84jpWWJRNDYKeuWplVPmmrAe2Q/tBcPg+eAzuJn1RCnpE8KYgdhjVgpDCeePb9CM/+XfCcOaVIf//Q2/5veM6WwVNRDs/Orb+DUKX+hiileBhePd98ps0mdfJv8zbeoSfpMQyhCnSw9Q493wTvAOnTDKPKBjPD68nHDnOOFKfZhFpJPGEqgccsZJxZPp9xJEElNIqDDWgyPhKK6SyJsnIQJZ2fyOdxXpQeKZKPnRerR0om6xnszXRJ+eX1VJYpkX457XbWfZE4AsnYJQqi9dCTxNrMMBWkzByeZwlplDX0YlTUU5CZQ0OarPyhpE+zyeIPG9bkQEqRmJJO7/zZUr3Ux7hibl5JgglBR4pRkyFZh2Ef3g0PP7o9lRXwHNnz20OAV8LNy/Uokaj3+ao6JGzI/wVIP3L2oBK8VyXqUeL3nwsNIjScMUXy5zhrMJInaIXUF+gDKiUvXA+9PNpXwRQdAlSqW5yyQaPhIyW0xsHKKBHDlpEis6+lc/WUTpLJJLuvTrMpjq6JKWLYdkyhUZu5JOWU2LSmxMq4s2NrDDsjRseU1Gi/kWLHlXwL3rgSoWNKPl8ihGrYRVgxJUInd1sxJchIqYkpWikWMvU/atQaKY5m+ykl+L+T6LEc1lD3dZn/P8VdEAo3teumU3DTKbhzCGrYTftzZxIMoW7OadwMo242153Kklp2JxNJRCKRQCwmFoXAhVWxwErJvyaWE8uIpURprM7LpubB2QSKCGoeBQS1D/pI5BI5PM9mydkEqHXX6kkjsPodYqKFCcR4C+MsjCXGWHib+LuFtyyMHo7VozRcja5rhqBo+uvhatf2JtxsoV0Q1He9neO6S9aibdx0000K9rGz9K/zh9TLurfLPpBF7+bNm6ulZoEcSx6DrLbLuX0si+JSCuQegRzL88LlatGiBbp06YJBgwapPAdZbe/evTt69uyJrl27qr072USwr99zzz3o27cvnn76aVX3+OOPq/L+++9XL3XJG++8807069cPQ4cORbdu3fDYY4+phx588EH06tULPXr0UNvnUi/JEnLfk08+qbY/hHDw4MEqEUWEU00WcZs2bareIrsR8oC8VciFuHfv3kraJ554Qkkr0onkQiTPyL6AkKkmyx/ZeZBSdiNEIpFEmi7Nk1IyLh544AHVDQ8//LCqE4mlazp16qQ2ImwORXjXXXeph+Wi7JF06NBB5bHLNoccS5dIU6VOju+44w5vrrvUS3PlXkUoKhctyj7Jddddp5puwz6XMtCxfX7NNdcobQuXSw6kf6Q/pI+ks+2+cpYKzmPrXK7bfSlcLumHY0eO2BtNGr/hV3b6FHqxj13yhkpONcpZWUFcIKHb2gVvCKotyO7AkCFD4GpKMRe9+Qb252RhR2oyfkpPxc60lBqwbmdSApGoj53XiO0pydifnYmU0aPQXAx7QKeOuDj8ObiHDUXlC0NRJRgmeFYfj3ge7rdHwz3qdXWsrz9r3cNnhuln3Lw25K7OcD18+23Y9+IwVL/6MipeeQmV/mB91dujUDX6TXXsf12eucT6I38Zjkc73AHXDRwlf7jlFgykpP06cgh27OgH1tHu+vHmYNfl2Xvbt4dwuW6iMd7Ig+tla+13QDiEyyUbgTdz2FwOCJdLrPxywvX666/jcsKltngvI1z+GboBYW16NeTe+pedZX3afUmn6VdUNmDZOWDKqpXWT4IK2Yw+tBcVRw+h4pzOMq2oY0XeFSip2wtJOjl9AlU/bEXVj9tQcfKYrguwwh4wsTbgXoDsRUkyLZtdUUfadJ0S+itEEiO0Umr2W/zTpoMSyoaLvf1mb8wct7bf1JactZcn1y44Ui0b1GTJFICHqHbD4JeUm3ZWKVnPAdKm622yEGUWrUXMzBSkbz2ErG+OYV/6YhxcUYwKfkiW19dk32ZfVE49dm4mXnwjHDGb92LqlkP4eUoI9qYtVrnZTsIGpfHrUm9+yZ7VBckKolKEqMLv3x8alI9dkwGtDbmywjL0AP/+8CskrHu7KBDh/wPnd+0IyRhnoAAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;doja corp&quot; title=&quot;&quot; src=&quot;/static/doja_corp-9019f9d0498c2fd3cf28bd000c0879c8-17854.png&quot; srcset=&quot;/static/doja_corp-9019f9d0498c2fd3cf28bd000c0879c8-5aa40.png 270w,
/static/doja_corp-9019f9d0498c2fd3cf28bd000c0879c8-17854.png 414w&quot; sizes=&quot;(max-width: 414px) 100vw, 414px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;</content:encoded></item><item><title><![CDATA[WeedPornDaily Event Coverage 2017]]></title><description><![CDATA[Representing  WeedPornDaily , I attend events to produce media for the WPD platform. From website articles, to Instagram photos, to YouTube…]]></description><link>http://whoisryosuke.com//projects/weedporndaily-event-coverage-2017/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/weedporndaily-event-coverage-2017/</guid><pubDate>Tue, 10 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Representing &lt;a href=&quot;http://weedporndaily&quot;&gt;&lt;strong&gt;WeedPornDaily&lt;/strong&gt;&lt;/a&gt;, I attend events to produce media for the WPD platform. From website articles, to Instagram photos, to YouTube videos, to GIFs for Tumblr and Twitter -- I generate &lt;strong&gt;innovative&lt;/strong&gt; and &lt;strong&gt;engaging&lt;/strong&gt; media for each network.&lt;/p&gt;
&lt;p&gt;In 2017, I attended and documented &lt;strong&gt;over 30 cannabis events&lt;/strong&gt; in southern California. Beyond the digital marketing, the creative result was a myriad of marijuana-related media that was disseminated across the entire WPD network, from videos to GIFs to photos.&lt;/p&gt;
&lt;h2&gt;Videos&lt;/h2&gt;
&lt;iframe width=&quot;1357&quot; height=&quot;722&quot; src=&quot;https://www.youtube.com/embed/yKHUiaT-jKk?ecver=1&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; class=&quot;youtube&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;iframe width=&quot;1357&quot; height=&quot;722&quot; src=&quot;https://www.youtube.com/embed/IAYIBGrokAU?ecver=1&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; class=&quot;youtube&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;iframe width=&quot;1357&quot; height=&quot;722&quot; src=&quot;https://www.youtube.com/embed/aznNnA0xTQs?ecver=1&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; class=&quot;youtube&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;iframe width=&quot;1357&quot; height=&quot;722&quot; src=&quot;https://www.youtube.com/embed/oHIlttegKKg?ecver=1&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; encrypted-media&quot; class=&quot;youtube&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;h2&gt;GIFs&lt;/h2&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/ImperturbableDependableHapuku&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/SarcasticMammothDairycow&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/HonorableGrandKiskadee&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/LameIncompleteHippopotamus&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/WeeklyTenseAiredale&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/OpenWellinformedFunnelweaverspider&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/BlandGreenBonobo&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;h2&gt;Social Media Photos&lt;/h2&gt;
&lt;blockquote class=&quot;instagram-media&quot; data-instgrm-captioned data-instgrm-permalink=&quot;https://www.instagram.com/p/BcdHbhHBWZc/&quot; data-instgrm-version=&quot;8&quot; style=&quot; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&quot;&gt;&lt;div style=&quot;padding:8px;&quot;&gt; &lt;div style=&quot; background:#F8F8F8; line-height:0; margin-top:40px; padding:28.055555555555557% 0; text-align:center; width:100%;&quot;&gt; &lt;div style=&quot; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&quot; margin:8px 0 0 0; padding:0 4px;&quot;&gt; &lt;a href=&quot;https://www.instagram.com/p/BcdHbhHBWZc/&quot; style=&quot; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&quot; target=&quot;_blank&quot;&gt;#Dabs anyone? 🍯🔥🔩💨 @californiagold_concentrates #hightimes #harvestcup #errl #dabstagram #wax #weedporndaily #recycler #glassporn&lt;/a&gt;&lt;/p&gt; &lt;p style=&quot; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&quot;&gt;A post shared by &lt;a href=&quot;https://www.instagram.com/weedprndaily420/&quot; style=&quot; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&quot; target=&quot;_blank&quot;&gt; WeedPornDaily&lt;/a&gt; (@weedprndaily420) on &lt;time style=&quot; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&quot; datetime=&quot;2017-12-08T20:38:11+00:00&quot;&gt;Dec 8, 2017 at 12:38pm PST&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;blockquote class=&quot;instagram-media&quot; data-instgrm-captioned data-instgrm-permalink=&quot;https://www.instagram.com/p/Bb2T9sEhGFF/&quot; data-instgrm-version=&quot;8&quot; style=&quot; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&quot;&gt;&lt;div style=&quot;padding:8px;&quot;&gt; &lt;div style=&quot; background:#F8F8F8; line-height:0; margin-top:40px; padding:28.055555555555557% 0; text-align:center; width:100%;&quot;&gt; &lt;div style=&quot; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&quot; margin:8px 0 0 0; padding:0 4px;&quot;&gt; &lt;a href=&quot;https://www.instagram.com/p/Bb2T9sEhGFF/&quot; style=&quot; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&quot; target=&quot;_blank&quot;&gt;Another day to be thankful for all the #dank @eaglerock707 @hightimesmagazine #hightimes #HarvestCup #weedporndaily&lt;/a&gt;&lt;/p&gt; &lt;p style=&quot; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&quot;&gt;A post shared by &lt;a href=&quot;https://www.instagram.com/weedprndaily420/&quot; style=&quot; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&quot; target=&quot;_blank&quot;&gt; WeedPornDaily&lt;/a&gt; (@weedprndaily420) on &lt;time style=&quot; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&quot; datetime=&quot;2017-11-23T18:57:19+00:00&quot;&gt;Nov 23, 2017 at 10:57am PST&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;blockquote class=&quot;instagram-media&quot; data-instgrm-captioned data-instgrm-permalink=&quot;https://www.instagram.com/p/BbaR2KFh7Jc/&quot; data-instgrm-version=&quot;8&quot; style=&quot; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&quot;&gt;&lt;div style=&quot;padding:8px;&quot;&gt; &lt;div style=&quot; background:#F8F8F8; line-height:0; margin-top:40px; padding:28.055555555555557% 0; text-align:center; width:100%;&quot;&gt; &lt;div style=&quot; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&quot; margin:8px 0 0 0; padding:0 4px;&quot;&gt; &lt;a href=&quot;https://www.instagram.com/p/BbaR2KFh7Jc/&quot; style=&quot; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&quot; target=&quot;_blank&quot;&gt;Vape cartridges with pyrex tips and ceramic atomizers by @eelriverorganics @thestateofcannabis #eelriverorganics #vapelife #vapenation #vapestagram #weedporndaily&lt;/a&gt;&lt;/p&gt; &lt;p style=&quot; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&quot;&gt;A post shared by &lt;a href=&quot;https://www.instagram.com/weedprndaily420/&quot; style=&quot; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&quot; target=&quot;_blank&quot;&gt; WeedPornDaily&lt;/a&gt; (@weedprndaily420) on &lt;time style=&quot; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&quot; datetime=&quot;2017-11-12T21:40:05+00:00&quot;&gt;Nov 12, 2017 at 1:40pm PST&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[WallyDrops]]></title><description><![CDATA[WallyDrops, a medical cannabis edible manufacturer, approached me to product a new brochure to advertise their product catalog on a B2B…]]></description><link>http://whoisryosuke.com//projects/wallydrops-brochure/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/wallydrops-brochure/</guid><pubDate>Thu, 21 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;WallyDrops, a medical cannabis edible manufacturer, approached me to product a new brochure to advertise their product catalog on a B2B level. They requested a design for a trifold that included their entire product catalog, prices, and eye-catching images. Each product was photographed, as well as group shots for promotional use. And the brochure was designed in Illustrator, and the client was provided a working template to alter text to their preference. &lt;/p&gt;
&lt;h2&gt;Brochure&lt;/h2&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-d3b0d.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.27777777777777%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAF6WcwQoNf/xAAaEAEBAAIDAAAAAAAAAAAAAAABAAIDESEy/9oACAEBAAEFAlvMZ9JOsTi//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BAn//xAAWEQEBAQAAAAAAAAAAAAAAAAABAhD/2gAIAQIBAT8BIDP/xAAYEAEAAwEAAAAAAAAAAAAAAAABABARMf/aAAgBAQAGPwLkV1vGv//EABsQAQADAAMBAAAAAAAAAAAAAAEAESExQVGR/9oACAEBAAE/IUEBN/CYMJ11MuS2wyXMeOZUzyf/2gAMAwEAAgADAAAAEEQv/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EBGT/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EBlX/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERITGxUaH/2gAIAQEAAT8QdfWl6M22bJIxeCayqrG9UVQxUUQtOHj7PgD/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;wallydrops trifold 1 copy&quot; title=&quot;&quot; src=&quot;/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-918ac.jpg&quot; srcset=&quot;/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-2ceef.jpg 270w,
/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-b59aa.jpg 540w,
/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-918ac.jpg 1080w,
/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-419dc.jpg 1620w,
/static/wallydrops_trifold_1-copy-107922ad10a25e5173f6fe95ae4e9bb6-d3b0d.jpg 1800w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Photography&lt;/h2&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-37c54.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHUuuMGxYsf/8QAGRABAQADAQAAAAAAAAAAAAAAAQIAAxEh/9oACAEBAAEFAttUW7fJXlZwwAz/xAAWEQEBAQAAAAAAAAAAAAAAAAAAASH/2gAIAQMBAT8B1a//xAAXEQEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAECAQE/AdbB5F//xAAXEAEBAQEAAAAAAAAAAAAAAAAAMRAy/9oACAEBAAY/AulyIj//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMUFx/9oACAEBAAE/IZpQmR2Org8rbJuhkkCDCLw//9oADAMBAAIAAwAAABC4D//EABcRAQEBAQAAAAAAAAAAAAAAAAEAETH/2gAIAQMBAT8QNHC0b//EABYRAAMAAAAAAAAAAAAAAAAAAAABIf/aAAgBAgEBPxCwCRH/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhUTFBYZH/2gAIAQEAAT8QTJNg18hijuggMsZrmxl9FM8pCkCvyVkjQqf/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;wallydrops cbd&quot; title=&quot;&quot; src=&quot;/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-918ac.jpg&quot; srcset=&quot;/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-2ceef.jpg 270w,
/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-b59aa.jpg 540w,
/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-918ac.jpg 1080w,
/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-419dc.jpg 1620w,
/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-6e912.jpg 2160w,
/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-6194f.jpg 3240w,
/static/wallydrops-cbd-58079733498cd9f65ff6490941d63d73-37c54.jpg 5184w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-37c54.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAEDBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAbSeaSSjNX//xAAaEAADAQADAAAAAAAAAAAAAAABAhEDABMy/9oACAEBAAEFAqUPHEbT2+hvZR//xAAWEQEBAQAAAAAAAAAAAAAAAAABAhD/2gAIAQMBAT8BmVz/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAGxAAAgMAAwAAAAAAAAAAAAAAAAERITECQWH/2gAIAQEABj8C0ns1ofhVCnimf//EABoQAAMBAQEBAAAAAAAAAAAAAAABIRExQXH/2gAIAQEAAT8hbC22fTg3Vm8Q0LGw1vToqEZ1n//aAAwDAQACAAMAAAAQ08//xAAYEQADAQEAAAAAAAAAAAAAAAAAAREhQf/aAAgBAwEBPxBzVwrWQ//EABgRAAMBAQAAAAAAAAAAAAAAAAABESFB/9oACAECAQE/EHwshGf/xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAhMUGhYf/aAAgBAQABPxCgbFUPMfpou6+6DJpOIN1MDhFLUeMUjdhDVndcNR8myuf/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;wallydrops assorted&quot; title=&quot;&quot; src=&quot;/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-918ac.jpg&quot; srcset=&quot;/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-2ceef.jpg 270w,
/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-b59aa.jpg 540w,
/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-918ac.jpg 1080w,
/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-419dc.jpg 1620w,
/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-6e912.jpg 2160w,
/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-6194f.jpg 3240w,
/static/wallydrops-assorted-cef57cbefcc1e92ef6bbbab460511ad2-37c54.jpg 5184w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-37c54.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMBAv/aAAwDAQACEAMQAAABhreJIohc/wD/xAAZEAADAQEBAAAAAAAAAAAAAAAAAQIRIjP/2gAIAQEAAQUClnOJjnJr1P/EABgRAAMBAQAAAAAAAAAAAAAAAAABEgJh/9oACAEDAQE/AdKUXw//xAAYEQACAwAAAAAAAAAAAAAAAAAAARESE//aAAgBAgEBPwGLmbP/xAAdEAACAgEFAAAAAAAAAAAAAAAAAQIRIRMyQYGR/9oACAEBAAY/Ana6EtQ30PJGPDM14f/EAB0QAAICAgMBAAAAAAAAAAAAAAABETFRcSFBYZH/2gAIAQEAAT8hwXaxXhcZXwg7eJGM2TuBKSiUol5Nj//aAAwDAQACAAMAAAAQjz//xAAaEQEAAQUAAAAAAAAAAAAAAAABABEhQWHh/9oACAEDAQE/EFPN9yh6Z//EABgRAQADAQAAAAAAAAAAAAAAABEAASEx/9oACAECAQE/EKQ4bAxn/8QAHBAAAwEBAQADAAAAAAAAAAAAAREhADFhUaHB/9oACAEBAAE/EBAOUAQnq+r9yOB1RevmzDAq3gddUZdlZ9YL7EGISQycKod9x//Z&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;wallydrops grid&quot; title=&quot;&quot; src=&quot;/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-918ac.jpg&quot; srcset=&quot;/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-2ceef.jpg 270w,
/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-b59aa.jpg 540w,
/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-918ac.jpg 1080w,
/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-419dc.jpg 1620w,
/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-6e912.jpg 2160w,
/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-6194f.jpg 3240w,
/static/wallydrops-grid-0295edc9347ed06c74ffd4b038be8364-37c54.jpg 5184w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-37c54.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAABA//aAAwDAQACEAMQAAABn760ZqYyJ//EABkQAAMBAQEAAAAAAAAAAAAAAAECAwASBP/aAAgBAQABBQJqGhRe2bz8m6BdNBOO/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAIS/9oACAECAQE/AaZf/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAERAhASMSFRcf/aAAgBAQAGPwLnXQqYIUP0zQmtu3//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFh/9oACAEBAAE/IbM6ELUfvlE3ka6kYPw3Sa4aqxZ//9oADAMBAAIAAwAAABDzP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCNf//EABgRAAMBAQAAAAAAAAAAAAAAAAABIRFB/9oACAECAQE/EHydYorP/8QAHBABAAICAwEAAAAAAAAAAAAAAQAhEVExQWHR/9oACAEBAAE/EG5bwOh1t9hJR6cMtr7BMuHJGqqGDacNXsemDSgHMqvyKs//2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;goldenrule&quot; title=&quot;&quot; src=&quot;/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-918ac.jpg&quot; srcset=&quot;/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-2ceef.jpg 270w,
/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-b59aa.jpg 540w,
/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-918ac.jpg 1080w,
/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-419dc.jpg 1620w,
/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-6e912.jpg 2160w,
/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-6194f.jpg 3240w,
/static/goldenrule-388fe2a0c024b2c022185e4a3ec12a1b-37c54.jpg 5184w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Doja Photography]]></title><description><![CDATA[The client, Doja, requested photography for it's new iOS and Android application. The photos would act the background image for primary…]]></description><link>http://whoisryosuke.com//projects/doja-photography/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/doja-photography/</guid><pubDate>Mon, 05 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The client, Doja, requested photography for it&apos;s new iOS and Android application. The photos would act the background image for primary categories on a touch-based carousel navigation. The goal was to capture each category, from edibles to flowers to topicals.&lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/1-14b55f3e44f5d474c7405cfb5cc7136e-71f13.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCA//EABYBAQEBAAAAAAAAAAAAAAAAAAIAA//aAAwDAQACEAMQAAABu11CnUND/8QAGhAAAwEAAwAAAAAAAAAAAAAAABESAQIDE//aAAgBAQABBQJ6cnHTXnOEiR//xAAWEQEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQMBAT8BxH//xAAXEQEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAECAQE/AV32G//EABoQAAEFAQAAAAAAAAAAAAAAAAEAEBESMSH/2gAIAQEABj8C4JRrqF9bW//EABgQAAMBAQAAAAAAAAAAAAAAAAABESEx/9oACAEBAAE/IZx9Mao9iWMIq443bR8lhlQJeD//2gAMAwEAAgADAAAAEKcf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAhEf/aAAgBAwEBPxACbI7l/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEhETH/2gAIAQIBAT8QYjgzKqf/xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhMUFRcZH/2gAIAQEAAT8QS8SgAh27y5CIIhv28YqO3+g0ypA3pDBDsjanXjDE7Nz/2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;1&quot; title=&quot;&quot; src=&quot;/static/1-14b55f3e44f5d474c7405cfb5cc7136e-918ac.jpg&quot; srcset=&quot;/static/1-14b55f3e44f5d474c7405cfb5cc7136e-2ceef.jpg 270w,
/static/1-14b55f3e44f5d474c7405cfb5cc7136e-b59aa.jpg 540w,
/static/1-14b55f3e44f5d474c7405cfb5cc7136e-918ac.jpg 1080w,
/static/1-14b55f3e44f5d474c7405cfb5cc7136e-419dc.jpg 1620w,
/static/1-14b55f3e44f5d474c7405cfb5cc7136e-71f13.jpg 2000w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/2-9e723959214041f95b7024a192b6f210-71f13.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAA//aAAwDAQACEAMQAAAB0ZKmNIsMf//EABkQAAMBAQEAAAAAAAAAAAAAAAABAgMRIf/aAAgBAQABBQK22O54t1zSmj0VKD//xAAWEQEBAQAAAAAAAAAAAAAAAAAAAhP/2gAIAQMBAT8Bay//xAAWEQEBAQAAAAAAAAAAAAAAAAAAIQL/2gAIAQIBAT8BzUf/xAAYEAEBAQEBAAAAAAAAAAAAAAABABESMv/aAAgBAQAGPwLCdy8LDNnJf//EABoQAAIDAQEAAAAAAAAAAAAAAAABESExQWH/2gAIAQEAAT8hlIvGyR4cXWK29UjVG4WaN1lIojj/2gAMAwEAAgADAAAAEBcP/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAERIbH/2gAIAQMBAT8QcuohjfT/xAAWEQADAAAAAAAAAAAAAAAAAAAAASH/2gAIAQIBAT8QZ0Qf/8QAHBABAQACAgMAAAAAAAAAAAAAAREAMSFBUcHR/9oACAEBAAE/EIZsKhC3vGc0KCato7PGABXtL0YjIp2Kby0nwQAPeBpS2w+Z/9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;2&quot; title=&quot;&quot; src=&quot;/static/2-9e723959214041f95b7024a192b6f210-918ac.jpg&quot; srcset=&quot;/static/2-9e723959214041f95b7024a192b6f210-2ceef.jpg 270w,
/static/2-9e723959214041f95b7024a192b6f210-b59aa.jpg 540w,
/static/2-9e723959214041f95b7024a192b6f210-918ac.jpg 1080w,
/static/2-9e723959214041f95b7024a192b6f210-419dc.jpg 1620w,
/static/2-9e723959214041f95b7024a192b6f210-71f13.jpg 2000w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/doja-phone-mockup-99e96e7bb0508c22a79f781387a26a85-df88e.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 917px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 188.00436205016356%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAmABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAMEAQIFBv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAABhltXTeWSqOnc5G0NREoiwZyE/8QAHRAAAgIDAAMAAAAAAAAAAAAAAQMCBAASExARFP/aAAgBAQABBQJVTov4DjYcmVlxnXCYjLcdH126p6kiydnqI5xl6xkt5+f/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AV//xAAWEQEBAQAAAAAAAAAAAAAAAAABEAD/2gAIAQIBAT8Bji//xAAcEAEBAAICAwAAAAAAAAAAAAABAAIRE0EgM5H/2gAIAQEABj8CM+QN3sPk473Y7u5CxLqWDudpL4f/xAAfEAACAgEEAwAAAAAAAAAAAAABEQAxISBBYcFRcaH/2gAIAQEAAT8hJwTEQQzxBdxAwZaf0xorcwDcgBfqOrx3KhnzNuqEpwZZlIlnBnUuj//aAAwDAQACAAMAAAAQS92/e9//xAAVEQEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAwEBPxAr/8QAFxEBAQEBAAAAAAAAAAAAAAAAARAAMf/aAAgBAgEBPxBXEcF//8QAHhABAAMAAgMBAQAAAAAAAAAAAQARITFBUWFxkaH/2gAIAQEAAT8QpYCpcTU8+okz163+xkUrfHpEsUkDVYRO8BCumVkT5I2rWxDWlCDXy6O4E0a2EKkWBD4BCKa2qHllAAICCvxviOuBdFcMImzn8qHvuf/Z&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;doja phone mockup&quot; title=&quot;&quot; src=&quot;/static/doja-phone-mockup-99e96e7bb0508c22a79f781387a26a85-df88e.jpg&quot; srcset=&quot;/static/doja-phone-mockup-99e96e7bb0508c22a79f781387a26a85-66fcb.jpg 270w,
/static/doja-phone-mockup-99e96e7bb0508c22a79f781387a26a85-44ebe.jpg 540w,
/static/doja-phone-mockup-99e96e7bb0508c22a79f781387a26a85-df88e.jpg 917w&quot; sizes=&quot;(max-width: 917px) 100vw, 917px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/3-2893ebe336c5c7393cc29234526379b4-71f13.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgQA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgED/9oADAMBAAIQAxAAAAG0gYOzRaL/xAAbEAADAAIDAAAAAAAAAAAAAAABAgMAERIhIv/aAAgBAQABBQIvxxbBsDbFJDUO0Yev/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEREjH/2gAIAQMBAT8BhaVP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECIf/aAAgBAgEBPwF05wVH/8QAGBAAAwEBAAAAAAAAAAAAAAAAARARIQD/2gAIAQEABj8Cp45Isf8A/8QAHBABAAIBBQAAAAAAAAAAAAAAAQARMSFBUWGh/9oACAEBAAE/IQXgQzGweYVl1cM1J1BUO0oRbpP/2gAMAwEAAgADAAAAEGPv/8QAFREBAQAAAAAAAAAAAAAAAAAAEQD/2gAIAQMBAT8QQgv/xAAYEQACAwAAAAAAAAAAAAAAAAAAAREhMf/aAAgBAgEBPxBA4FGH/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFBYXH/2gAIAQEAAT8QYI0NbnMzwvCa969hh9FVcDC66g5aXPtKSuyFWGp//9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;3&quot; title=&quot;&quot; src=&quot;/static/3-2893ebe336c5c7393cc29234526379b4-918ac.jpg&quot; srcset=&quot;/static/3-2893ebe336c5c7393cc29234526379b4-2ceef.jpg 270w,
/static/3-2893ebe336c5c7393cc29234526379b4-b59aa.jpg 540w,
/static/3-2893ebe336c5c7393cc29234526379b4-918ac.jpg 1080w,
/static/3-2893ebe336c5c7393cc29234526379b4-419dc.jpg 1620w,
/static/3-2893ebe336c5c7393cc29234526379b4-71f13.jpg 2000w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/5-4229223f1e23b04e321b81c4cad2ab01-71f13.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/2gAMAwEAAhADEAAAAdMT3sPEpEf/xAAaEAACAgMAAAAAAAAAAAAAAAABAwACERIi/9oACAEBAAEFAl4XKaZ5B1ixwU0sf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPwFlf//EAB4QAAICAAcAAAAAAAAAAAAAAAABAhESITFhcZGh/9oACAEBAAY/AsUvC1fY856i4E96LaP/xAAbEAADAAMBAQAAAAAAAAAAAAAAARExQVEhYf/aAAgBAQABPyHKbpVRHRV8YqCPwzxN6JbgZZHmM//aAAwDAQACAAMAAAAQQz//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBX/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARQf/aAAgBAgEBPxAccnhf/8QAHRABAAMAAQUAAAAAAAAAAAAAAQARITFBYaGxwf/aAAgBAQABPxBsgejaejxK+Ai2AvPEML6wfsa77VNFa3DDXRdxL9kYI58Fs//Z&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;5&quot; title=&quot;&quot; src=&quot;/static/5-4229223f1e23b04e321b81c4cad2ab01-918ac.jpg&quot; srcset=&quot;/static/5-4229223f1e23b04e321b81c4cad2ab01-2ceef.jpg 270w,
/static/5-4229223f1e23b04e321b81c4cad2ab01-b59aa.jpg 540w,
/static/5-4229223f1e23b04e321b81c4cad2ab01-918ac.jpg 1080w,
/static/5-4229223f1e23b04e321b81c4cad2ab01-419dc.jpg 1620w,
/static/5-4229223f1e23b04e321b81c4cad2ab01-71f13.jpg 2000w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;
  &lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/7-36e54709a2e0003491ed6f77e1aba0ca-71f13.jpg&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
  
  &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 66.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAABA//aAAwDAQACEAMQAAABhqukbOc4D//EABwQAAMAAQUAAAAAAAAAAAAAAAECAwAQERITIf/aAAgBAQABBQKTcZzqu/mjgAdzZ//EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAwEBPwGLj//EABgRAAMBAQAAAAAAAAAAAAAAAAABAhJR/9oACAECAQE/AU1Riun/xAAcEAABBAMBAAAAAAAAAAAAAAABAAIREhAhMaH/2gAIAQEABj8CdaarvmS4ASFtf//EABwQAAMAAwADAAAAAAAAAAAAAAABETFRYUFxof/aAAgBAQABPyG0Skk2NxbfhBcfRJJc0IYMDhBvJ30f/9oADAMBAAIAAwAAABAID//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEWH/2gAIAQMBAT8QUZcb/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEh8P/aAAgBAgEBPxBpVTdH/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARIUFhMYHR/9oACAEBAAE/ECFjiinouDA85KX7gQqS29Y4AMMIsJpJ2fMCPUH4n//Z&amp;apos;); background-size: cover; display: block;&quot;&gt;
      &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot; alt=&quot;7&quot; title=&quot;&quot; src=&quot;/static/7-36e54709a2e0003491ed6f77e1aba0ca-918ac.jpg&quot; srcset=&quot;/static/7-36e54709a2e0003491ed6f77e1aba0ca-2ceef.jpg 270w,
/static/7-36e54709a2e0003491ed6f77e1aba0ca-b59aa.jpg 540w,
/static/7-36e54709a2e0003491ed6f77e1aba0ca-918ac.jpg 1080w,
/static/7-36e54709a2e0003491ed6f77e1aba0ca-419dc.jpg 1620w,
/static/7-36e54709a2e0003491ed6f77e1aba0ca-71f13.jpg 2000w&quot; sizes=&quot;(max-width: 1080px) 100vw, 1080px&quot;&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;</content:encoded></item><item><title><![CDATA[We Have Munchies Cooking Videos]]></title><link>http://whoisryosuke.com//projects/wehavemunchies-videos/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/wehavemunchies-videos/</guid><pubDate>Sun, 23 Apr 2017 00:00:00 GMT</pubDate><content:encoded>&lt;div style=&apos;position:relative;padding-bottom:57%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/SlipperyQuestionableBull&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0;&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[WeedPornDaily GIFs Vol. 2]]></title><link>http://whoisryosuke.com//projects/weedporndaily-gifs-vol-2/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/weedporndaily-gifs-vol-2/</guid><pubDate>Tue, 21 Jun 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/KeenCheerfulBoaconstrictor&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/SilverIncredibleBumblebee&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/CourageousRareBee&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[WeedPornDaily GIFs Vol. 1]]></title><link>http://whoisryosuke.com//projects/weedporndaily-gifs-vol-1/</link><guid isPermaLink="false">http://whoisryosuke.com//projects/weedporndaily-gifs-vol-1/</guid><pubDate>Sun, 21 Feb 2016 00:00:00 GMT</pubDate><content:encoded>&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/LeftFailingArmedcrab&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/DifficultAgreeableBlackrhino&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/RedIndelibleAlaskankleekai&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/MasculineHelpfulAnura&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;div style=&apos;margin-bottom:3em;position:relative;padding-bottom:54%&apos;&gt;&lt;iframe src=&apos;https://gfycat.com/ifr/RareVillainousBaleenwhale&apos; frameborder=&apos;0&apos; scrolling=&apos;no&apos; width=&apos;100%&apos; height=&apos;100%&apos; style=&apos;position:absolute;top:0;left:0&apos; allowfullscreen&gt;&lt;/iframe&gt;&lt;/div&gt;</content:encoded></item></channel></rss>