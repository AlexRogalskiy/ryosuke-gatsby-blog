{"version":3,"sources":["webpack:///path---blog-2018-automating-react-documentation-using-react-docgen-be60141be02e92dd0386.js","webpack:///./.cache/json/blog-2018-automating-react-documentation-using-react-docgen.json"],"names":["webpackJsonp","557","module","exports","data","blog","html","frontmatter","title","cover_image","publicURL","childImageSharp","sizes","tracedSVG","src","srcSet","date","tags","section","fields","slug","relatedPosts","pathContext","tag"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,KAAA;AAA+ngDC,aAAydC,MAAA,0DAAAC,aAAiFC,UAAA,uGAAAC,iBAAsIC,OAASC,UAAA,miBAAAC,IAAA,6GAAAC,OAAA,gkBAA0uCC,KAAA,qBAAAC,MAAA,uCAAAC,QAAA,QAA6FC,QAAWC,KAAA,kEAAwEC,aAAA,MAAqBC,aAAgBC,IAAA,OAAAH,KAAA","file":"path---blog-2018-automating-react-documentation-using-react-docgen-be60141be02e92dd0386.js","sourcesContent":["webpackJsonp([37511052136574],{\n\n/***/ 557:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"blog\":{\"html\":\"<p>In my neverending quest for making the documentation as painless and seamless as possible, I started experimenting with a library by the Facebook team called <a href=\\\"https://github.com/reactjs/react-docgen\\\"><strong>react-docgen</strong></a>. </p>\\n<p>It's a CLI and API that reads your React component files, grabs any documentation left in comments, and pumps out an object with all the docs and props:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token string\\\">\\\"props\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token string\\\">\\\"foo\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token string\\\">\\\"type\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"name\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"number\\\"</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"required\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"description\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Description of prop \\\\\\\"foo\\\\\\\".\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"defaultValue\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"value\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"42\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">\\\"computed\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token string\\\">\\\"bar\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token string\\\">\\\"type\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"name\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"custom\\\"</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"required\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"description\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Description of prop \\\\\\\"bar\\\\\\\" (a custom validation function).\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"defaultValue\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"value\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"21\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">\\\"computed\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">\\\"description\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"General component description.\\\"</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>A few design systems and frameworks use <em>react-docgen</em> as part of their process to generate documentation. Usually you take the object that's output by the CLI and save it to a JSON file to use in other scripts/tools. Great for generating content / Markdown files using SSGs (static site generators) like GatsbyJS, Jekyll, or Slate.</p>\\n<p>I tested out <strong>two ways to use react-docgen</strong> to document React code. My goal was to use GatsbyJS as my static site generator, and build a documentation site off the CLI's data.</p>\\n<blockquote>\\n<p>If you're interested in a more \\\"out-of-the-box\\\" solution, try <a href=\\\"https://github.com/styleguidist/react-styleguidist\\\">react-styleguidist</a>. It uses react-docgen to create one-page documentation of all components.</p>\\n</blockquote>\\n<p>Let's get started ‚ö°Ô∏è</p>\\n<hr>\\n<h2>The process</h2>\\n<p>I described the basic process above: we want to run a script that uses the react-docgen API and generate a JSON file of React docs that we can use during the site's build process.</p>\\n<p>Let's try that out first üëá</p>\\n<h2>Tooling Script + Gatsby Output</h2>\\n<p>The process is pretty simple:</p>\\n<ol>\\n<li>Make script that grabs all the components and uses react-docgen API to parse files into JSON (saved as file output -- <code class=\\\"language-text\\\">components.json</code>)</li>\\n<li>GatsbyJS <code class=\\\"language-text\\\">gatsby-node.js</code> script to parse through the JSON and create pages.</li>\\n</ol>\\n<p>First we make the build script:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> fs <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"fs\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"path\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> reactDocs <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"react-docgen\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// The React components to load</span>\\n<span class=\\\"token keyword\\\">const</span> componentFolder <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"./src/components/\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Where the JSON file ends up</span>\\n<span class=\\\"token keyword\\\">const</span> componentJsonPath <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"./docs/components.json\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> componentDataArray <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">pushComponent</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  componentDataArray<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">createComponentFile</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> componentJsonArray <span class=\\\"token operator\\\">=</span> JSON<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stringify</span><span class=\\\"token punctuation\\\">(</span>componentDataArray<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">writeFile</span><span class=\\\"token punctuation\\\">(</span>componentJsonPath<span class=\\\"token punctuation\\\">,</span> componentJsonArray<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"utf8\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">throw</span> err<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Created component file\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Use React-Docgen to parse the loaded component\\n * into JS object of props, comments\\n *\\n * @param {File} component\\n * @param {String} filename\\n */</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">parseComponent</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">,</span> filename<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> componentInfo <span class=\\\"token operator\\\">=</span> reactDocs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">parse</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> splitIndex <span class=\\\"token operator\\\">=</span> filename<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">indexOf</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/src/\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> shortname <span class=\\\"token operator\\\">=</span> filename<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">substring</span><span class=\\\"token punctuation\\\">(</span>splitIndex <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">4</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  componentInfo<span class=\\\"token punctuation\\\">.</span>filename <span class=\\\"token operator\\\">=</span> shortname<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token function\\\">pushComponent</span><span class=\\\"token punctuation\\\">(</span>componentInfo<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Loads a component file, then runs parsing callback\\n * @param {String} file\\n * @param {Promise} resolve\\n */</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">loadComponent</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> resolve<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">readFile</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">throw</span> err<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// Parse the component into JS object</span>\\n    <span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">parseComponent</span><span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">,</span> file<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Explores recursively a directory and returns all the filepaths and folderpaths in the callback.\\n *\\n * @see http://stackoverflow.com/a/5827895/4241030\\n * @param {String} dir\\n * @param {Function} done\\n */</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">filewalker</span><span class=\\\"token punctuation\\\">(</span>dir<span class=\\\"token punctuation\\\">,</span> done<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">let</span> results <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">readdir</span><span class=\\\"token punctuation\\\">(</span>dir<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">async</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> list<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">let</span> pending <span class=\\\"token operator\\\">=</span> list<span class=\\\"token punctuation\\\">.</span>length<span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span>pending<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    list<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span>file <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      file <span class=\\\"token operator\\\">=</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>dir<span class=\\\"token punctuation\\\">,</span> file<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stat</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">async</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> stat<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token comment\\\">// If directory, execute a recursive call</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>stat <span class=\\\"token operator\\\">&amp;&amp;</span> stat<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isDirectory</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token function\\\">filewalker</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> res<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n            results <span class=\\\"token operator\\\">=</span> results<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span>res<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span><span class=\\\"token operator\\\">--</span>pending<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token comment\\\">// Check if is a Javascript file</span>\\n          <span class=\\\"token comment\\\">// And not a story or test</span>\\n          <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>\\n            file<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">endsWith</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".js\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n            <span class=\\\"token operator\\\">!</span>file<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">endsWith</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".story.js\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n            <span class=\\\"token operator\\\">!</span>file<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">endsWith</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".test.js\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n          <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n            <span class=\\\"token keyword\\\">await</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Promise</span><span class=\\\"token punctuation\\\">(</span>resolve <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n              <span class=\\\"token function\\\">loadComponent</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> resolve<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token keyword\\\">await</span> results<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span><span class=\\\"token operator\\\">--</span>pending<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token function\\\">filewalker</span><span class=\\\"token punctuation\\\">(</span>componentFolder<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">throw</span> err<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">createComponentFile</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>We use a function I found on Github called <code class=\\\"language-text\\\">firewalker()</code> that loads a folder and \\\"walks\\\" through each file. When we walk through each file, we check if it's a JS file (and not a test or Storybook JS file), and then run the <code class=\\\"language-text\\\">loadComponent()</code> function, which is a wrapper for Node's API for loading files. </p>\\n<p>Once the component file is actually loaded, we run the <code class=\\\"language-text\\\">parseComponent()</code> function that actually runs <strong>react-docgen</strong> on our file. Finally, we \\\"push\\\" the generated docs data to an array. After all the files load, our <code class=\\\"language-text\\\">firewalker()</code> function has a callback that runs a <code class=\\\"language-text\\\">createComponentFile()</code> function, which outputs the actual JSON file.</p>\\n<h3>Using the script</h3>\\n<p>Now we can generate a JSON file of all our components inside <code class=\\\"language-text\\\">/src/components/</code> by running the script in Node's CLI:</p>\\n<p><code class=\\\"language-text\\\">node generate-documentation.js</code></p>\\n<p>GatsbyJS support using JSON files as a \\\"source\\\" to build sites from using the <a href=\\\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-json\\\">gatsby-transformer-json</a>. When we load the file we generated, it converts the JSON into a GraphQL node we can query.</p>\\n<h2>Pure Gatsby</h2>\\n<p>The last method works, but it seemed cumbersome and error-prone having to rely on a separate tooling script. After a bit of research, I discovered a second, more integrated way to handle it.</p>\\n<ol>\\n<li>Use <a href=\\\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-react-docgen\\\">the react-docgen plugin for Gatsby</a> that grabs all components from a certain folder, generates the JSON, and spins up a GraphQL endpoint for it.</li>\\n</ol>\\n<p>We install the plugin and add it to our Gatsby config (along with a filesystem source that imports our components):</p>\\n<p><strong>gatsby-config.js</strong>:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">module<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  plugins<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n    <span class=\\\"token punctuation\\\">{</span>\\n      resolve<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`gatsby-source-filesystem`</span></span><span class=\\\"token punctuation\\\">,</span>\\n      options<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        name<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`components`</span></span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token comment\\\">// Location of your React components</span>\\n        path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`../src/components/`</span></span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// \\\"Transforms\\\" our \\\"source\\\" of React/JS files with the react-docgen CLI</span>\\n    <span class=\\\"token comment\\\">// and creates a GraphQL node with the output</span>\\n    <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`gatsby-transformer-react-docgen`</span></span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>And then displaying our data is as simple as querying GraphQL:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">import</span> React<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> graphql <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'gatsby'</span>\\n<span class=\\\"token keyword\\\">import</span> Layout <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'../components/layout'</span>\\n\\n<span class=\\\"token keyword\\\">import</span> PropsTable <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'../components/propstable'</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">ComponentPage</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">Component</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> children<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">,</span> tableOfContents <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'mdx'</span><span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">.</span>mdx<span class=\\\"token punctuation\\\">)</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'component metadata'</span><span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>Layout<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>div className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"content\\\"</span><span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token punctuation\\\">{</span>children<span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">&lt;</span>h1<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">.</span>displayName<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h1<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">.</span>docblock<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>h2 style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> marginTop<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'2rem'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>Props<span class=\\\"token punctuation\\\">:</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h2<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>PropsTable\\n            propMetaData<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">.</span>childrenComponentProp<span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Layout<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> pageQuery <span class=\\\"token operator\\\">=</span> graphql<span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n  query($name: String!) {\\n    componentMetadata(displayName: { eq: $name }) {\\n      id\\n      displayName\\n      docblock\\n      doclets\\n      childrenComponentProp {\\n        name\\n        docblock\\n        required\\n        parentType {\\n          name\\n        }\\n        type {\\n          value\\n        }\\n        defaultValue {\\n          value\\n          computed\\n        }\\n      }\\n      composes\\n    }\\n  }\\n`</span></span>\\n</code></pre>\\n      </div>\\n<h3>Bonus: Props Table</h3>\\n<p>In order to display all the data from our props (the description, default value, is it required?, etc), we create a component that accepts our props from the react-docgen CLI and outputs a table. <a href=\\\"https://github.com/episodeyang/react-component-props-table/\\\">I found this on Github</a> and altered it work with the Gatsby version of react-docgen:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">import</span> React<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> PropTypes <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'prop-types'</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Table for React props generated by react-docgen\\n *\\n * @see https://github.com/episodeyang/react-component-props-table/\\n */</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">PropsTable</span> <span class=\\\"token operator\\\">=</span> props <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">let</span> <span class=\\\"token punctuation\\\">{</span> className <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">,</span> propMetaData <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token operator\\\">...</span>_props <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> props\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>className<span class=\\\"token punctuation\\\">)</span> className <span class=\\\"token operator\\\">+=</span> <span class=\\\"token string\\\">' component-props-table'</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span>table className<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>className<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token operator\\\">...</span>_props<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>thead<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>tr<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Prop Name<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Type<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Is Required<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Default Value<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Description<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>tr<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>thead<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>tbody<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token punctuation\\\">{</span>Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">keys</span><span class=\\\"token punctuation\\\">(</span>propMetaData<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span>key <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">const</span> prop <span class=\\\"token operator\\\">=</span> propMetaData<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span>\\n          <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n            <span class=\\\"token operator\\\">&lt;</span>tr key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>key<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgb(17, 147, 154)'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>name<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token operator\\\">&lt;</span>td<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>parentType <span class=\\\"token operator\\\">?</span> prop<span class=\\\"token punctuation\\\">.</span>parentType<span class=\\\"token punctuation\\\">.</span>name <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>required <span class=\\\"token operator\\\">?</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgb(255, 76, 34)'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>required<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'#c6c6c6'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>optional<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n              <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>defaultValue <span class=\\\"token operator\\\">?</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgb(236, 171, 32)'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n                  <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>defaultValue<span class=\\\"token punctuation\\\">.</span>value<span class=\\\"token punctuation\\\">}</span>\\n                <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'#c6c6c6'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>none<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n              <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>docblock <span class=\\\"token operator\\\">?</span> <span class=\\\"token operator\\\">&lt;</span>td<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>docblock<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token operator\\\">&lt;</span>td <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">}</span>\\n            <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>tr<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>tbody<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>table<span class=\\\"token operator\\\">></span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\nPropsTable<span class=\\\"token punctuation\\\">.</span>propTypes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">/** this is the `metadata.props` field of what metadata you get from the react-docgen-loader.  */</span>\\n  propMetaData<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span>object<span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nPropsTable<span class=\\\"token punctuation\\\">.</span>defaultProps <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  propMetaData<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> PropsTable\\n</code></pre>\\n      </div>\\n<p>Much more efficient as it runs react-docgen on build, rather than requiring us to run the script separately (or hook it into our build process). </p>\\n<p>Also imports the documentation as a GraphQL endpoint, allowing us to query the data -- instead of hard-importing a <em>(potentially giant)</em> JSON file -- or using the <code class=\\\"language-text\\\">gatsby-transformer-json</code> plugin (which doesn't format the data for GraphQL as well as the specific react-docgen plugin).</p>\\n\\n  <a class=\\\"gatsby-resp-image-link\\\" href=\\\"/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-d6e32.png\\\" style=\\\"display: block\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\n  \\n  <span class=\\\"gatsby-resp-image-wrapper\\\" style=\\\"position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;\\\">\\n    <span class=\\\"gatsby-resp-image-background-image\\\" style=\\\"padding-bottom: 75.03184713375795%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADXUlEQVQ4y2WSWWxUZRTHT+i8OBmCvvlkfHGF4MJQSY2EkLo9CMUwdlNrjaUopVSxGlcWTYwGNUqrCZAgQQyUCGkhICk0xKhERGijM5KZ6Uxnv3dm7mzFWIH255nbMtJwk3/Od7+b+zv/s8ibYtEtaV5TdUmKDZJgvURZJ2FellHaxM9LcpEXxUeL/EGTXKBZzuORX/Vc1hka5Sfq5bTeDSEbFdIlcTpdXtbPHWGda5iOeaqbz7N27lna552l5aafaa46TaNjCI/jpOoETzuOaTxGnWOAuqoBVsoJ1Q9Ih7p5xRGkd8MQ32wdYsdbg2zfeJSe14/yVfdxdr03yLb2ft737GdzwwE21R9g84zsc9N+3l7Rx1NVR6iVw0i7BNRdgL9+i1MsFbk8cRWf9yIXfh8mY2YxjQyZdBbLyt2gbMaiNJ4n+GeKFc5+lksf0qq9WePykUtOAFOUn0hkDK/XSyqVpFQqUSjkbeXzs5XL5bj0d5GgL8WTzj6WybdIkwzTqn0bz1yxYZOTUwpKEQgECYfDxGIxopGoJomSTCbJZi3yuWlY2eX4pQJBb5InnN+xVHYjz8k52lznKKYv28ApNZlOpwmFQowGRwkqOBAI2DGbzVacVYBlhzZwD4/IDqRBflGHZ/4HqsMybGRkhEQiYcPTZtqOZcg1YDleD3zUuZMa6UE8uj/Pu35U4L8zDqcIh8IVYLFYnNWz63UNGPAmWObsoVo+RVbJIE2uUxQqQOxeRaOxG4ZQKBRmwS3LmgHGWer8nAflI+QxGcDjOk7BnKgMJawllwdR/snQcg3TtMtOJlO6KlkMw5wuO1fQKZfwe2PUOD/mPtmCLJfvqXP1U8xMVEpOKCBlGCTUqTEWxozHMLWHht6ZpoHf79epR+ykVj5jA5c4P2SBvIM8LgdZ5TpEzvjHBl69MomhC5tRpc0Mlq6Qpe7K71Z2+i4eTRCLxomMRTVJEt9wiMXOTdwjbyC1so/aOXtZ6z5CW81h1iw5RFv1QV5YvI+W6r08W72HZvduGhftpEm1etEXrHR/wjPu7TS4e6mv/pK6hduYP6ebu+VV5GHZxUPyNW7pZaF8xv2qB3RaC7TB98oHmnUL82Urd8q73KW6TTq4RVZzq7Ryu3SpOlUd+r2TOzT+B4+XfGIpxFYRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\\\">\\n      <img class=\\\"gatsby-resp-image-image\\\" style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\" alt=\\\"Gatsby Documentation Starter using gatsby-transformer-react-docgen\\\" title=\\\"\\\" src=\\\"/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-e2462.png\\\" srcset=\\\"/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-f6591.png 270w,\\n/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-cce5f.png 540w,\\n/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-e2462.png 1080w,\\n/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-d6e32.png 1570w\\\" sizes=\\\"(max-width: 1080px) 100vw, 1080px\\\">\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n<p>You can download the final \\\"pure Gatsby\\\" version on Github here: <a href=\\\"https://github.com/whoisryosuke/gatsby-documentation-starter\\\">Gatsby Documentation Starter</a>.</p>\\n<h2>Getting documentation down</h2>\\n<p>I hope this helped you understand the process behind documentation, or specifically React component docs. Using the react-docgen CLI or API makes the process as simple as loading component files and feeding them through the library, pumping out structured data perfect for frontend interfaces.</p>\\n<p>There are plenty of out-of-the-box solutions out there, but it's always beneficial understanding how their work (demystifying the <em>magic</em> ‚ú®), particularly if you're looking to create something new and fresh <em>(frameworks only go so far)</em>.</p>\\n<p>Cheers,\\nRyo</p>\\n<hr>\\n<p><strong>References</strong>:</p>\\n<ul>\\n<li><a href=\\\"https://github.com/reactjs/react-docgen\\\">react-docgen</a></li>\\n<li><a href=\\\"https://github.com/reactjs/react-docgen/blob/master/example/buildDocs.sh\\\">react-docgen Official Example</a></li>\\n<li><a href=\\\"https://github.com/styleguidist/react-styleguidist/search?q=docgen&#x26;unscoped_q=docgen\\\">See how react-styleguidist uses react-docgen</a></li>\\n<li><a href=\\\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-react-docgen\\\">gatsby-transformer-react-docgen</a></li>\\n<li><a href=\\\"https://github.com/episodeyang/react-component-props-table/\\\">React Component Props Table</a></li>\\n<li><a href=\\\"https://github.com/whoisryosuke/gatsby-documentation-starter\\\">Gatsby Documentation Starter</a></li>\\n</ul>\",\"frontmatter\":{\"title\":\"Automating React Documentation using React-Docgen ‚öõ‚öôÔ∏èüìö\",\"cover_image\":{\"publicURL\":\"/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a.jpg\",\"childImageSharp\":{\"sizes\":{\"tracedSVG\":\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='267' viewBox='0 0 400 267' version='1'%3E%3Cpath d='M0 134v133h401V0H0v134m321-27c-3 1-4 3-4 9 0 5 0 6-4 7l-5 5c-2 3-2 3 1 6 2 2 4 4 6 4 1 0 2 2 2 7 1 6 2 9 5 9 2 0 7-2 9-4s2-2 5 0c7 7 13 4 13-5 0-6 0-6 5-8 8-4 8-10-1-14l-4-2v-6c0-9-4-11-11-6l-5 3-4-3c-5-3-5-3-8-2m-182 11v7h3c5 0 7-3 7-7 0-5-2-7-7-7h-3v7m188 7l-2 3-1 3c2 8 11 10 16 5 3-4 3-6 0-11-3-4-11-5-13 0m-186 17v11c0 2 6 1 8-1 5-5 1-13-6-13-2 0-2 1-2 3' fill='lightgray' fill-rule='evenodd'/%3E%3C/svg%3E\",\"src\":\"/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-4e8db.jpg\",\"srcSet\":\"/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-7cc04.jpg 310w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-69042.jpg 620w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-4e8db.jpg 1240w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-50ab1.jpg 1860w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-3a8b6.jpg 1900w\"}}},\"date\":\"24 September, 2018\",\"tags\":[\"react\",\"documentation\",\"node\",\"tips\"],\"section\":\"blog\"},\"fields\":{\"slug\":\"/blog/2018/automating-react-documentation-using-react-docgen/\"}},\"relatedPosts\":null},\"pathContext\":{\"tag\":\"node\",\"slug\":\"/blog/2018/automating-react-documentation-using-react-docgen/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---blog-2018-automating-react-documentation-using-react-docgen-be60141be02e92dd0386.js","module.exports = {\"data\":{\"blog\":{\"html\":\"<p>In my neverending quest for making the documentation as painless and seamless as possible, I started experimenting with a library by the Facebook team called <a href=\\\"https://github.com/reactjs/react-docgen\\\"><strong>react-docgen</strong></a>. </p>\\n<p>It's a CLI and API that reads your React component files, grabs any documentation left in comments, and pumps out an object with all the docs and props:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token string\\\">\\\"props\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token string\\\">\\\"foo\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token string\\\">\\\"type\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"name\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"number\\\"</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"required\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"description\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Description of prop \\\\\\\"foo\\\\\\\".\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"defaultValue\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"value\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"42\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">\\\"computed\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token string\\\">\\\"bar\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token string\\\">\\\"type\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"name\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"custom\\\"</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"required\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"description\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"Description of prop \\\\\\\"bar\\\\\\\" (a custom validation function).\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"defaultValue\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token string\\\">\\\"value\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"21\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token string\\\">\\\"computed\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token boolean\\\">false</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token string\\\">\\\"description\\\"</span><span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">\\\"General component description.\\\"</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>A few design systems and frameworks use <em>react-docgen</em> as part of their process to generate documentation. Usually you take the object that's output by the CLI and save it to a JSON file to use in other scripts/tools. Great for generating content / Markdown files using SSGs (static site generators) like GatsbyJS, Jekyll, or Slate.</p>\\n<p>I tested out <strong>two ways to use react-docgen</strong> to document React code. My goal was to use GatsbyJS as my static site generator, and build a documentation site off the CLI's data.</p>\\n<blockquote>\\n<p>If you're interested in a more \\\"out-of-the-box\\\" solution, try <a href=\\\"https://github.com/styleguidist/react-styleguidist\\\">react-styleguidist</a>. It uses react-docgen to create one-page documentation of all components.</p>\\n</blockquote>\\n<p>Let's get started ‚ö°Ô∏è</p>\\n<hr>\\n<h2>The process</h2>\\n<p>I described the basic process above: we want to run a script that uses the react-docgen API and generate a JSON file of React docs that we can use during the site's build process.</p>\\n<p>Let's try that out first üëá</p>\\n<h2>Tooling Script + Gatsby Output</h2>\\n<p>The process is pretty simple:</p>\\n<ol>\\n<li>Make script that grabs all the components and uses react-docgen API to parse files into JSON (saved as file output -- <code class=\\\"language-text\\\">components.json</code>)</li>\\n<li>GatsbyJS <code class=\\\"language-text\\\">gatsby-node.js</code> script to parse through the JSON and create pages.</li>\\n</ol>\\n<p>First we make the build script:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">const</span> fs <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"fs\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> path <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"path\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">const</span> reactDocs <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">require</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"react-docgen\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// The React components to load</span>\\n<span class=\\\"token keyword\\\">const</span> componentFolder <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"./src/components/\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\">// Where the JSON file ends up</span>\\n<span class=\\\"token keyword\\\">const</span> componentJsonPath <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"./docs/components.json\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">const</span> componentDataArray <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">pushComponent</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  componentDataArray<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">createComponentFile</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> componentJsonArray <span class=\\\"token operator\\\">=</span> JSON<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stringify</span><span class=\\\"token punctuation\\\">(</span>componentDataArray<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">writeFile</span><span class=\\\"token punctuation\\\">(</span>componentJsonPath<span class=\\\"token punctuation\\\">,</span> componentJsonArray<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"utf8\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">throw</span> err<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"Created component file\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Use React-Docgen to parse the loaded component\\n * into JS object of props, comments\\n *\\n * @param {File} component\\n * @param {String} filename\\n */</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">parseComponent</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">,</span> filename<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> componentInfo <span class=\\\"token operator\\\">=</span> reactDocs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">parse</span><span class=\\\"token punctuation\\\">(</span>component<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> splitIndex <span class=\\\"token operator\\\">=</span> filename<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">indexOf</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/src/\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> shortname <span class=\\\"token operator\\\">=</span> filename<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">substring</span><span class=\\\"token punctuation\\\">(</span>splitIndex <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">4</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  componentInfo<span class=\\\"token punctuation\\\">.</span>filename <span class=\\\"token operator\\\">=</span> shortname<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token function\\\">pushComponent</span><span class=\\\"token punctuation\\\">(</span>componentInfo<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Loads a component file, then runs parsing callback\\n * @param {String} file\\n * @param {Promise} resolve\\n */</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">loadComponent</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> resolve<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">readFile</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">throw</span> err<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// Parse the component into JS object</span>\\n    <span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token function\\\">parseComponent</span><span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token punctuation\\\">,</span> file<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Explores recursively a directory and returns all the filepaths and folderpaths in the callback.\\n *\\n * @see http://stackoverflow.com/a/5827895/4241030\\n * @param {String} dir\\n * @param {Function} done\\n */</span>\\n<span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">filewalker</span><span class=\\\"token punctuation\\\">(</span>dir<span class=\\\"token punctuation\\\">,</span> done<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">let</span> results <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">readdir</span><span class=\\\"token punctuation\\\">(</span>dir<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">async</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> list<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">let</span> pending <span class=\\\"token operator\\\">=</span> list<span class=\\\"token punctuation\\\">.</span>length<span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span>pending<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token keyword\\\">return</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    list<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span>file <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      file <span class=\\\"token operator\\\">=</span> path<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">resolve</span><span class=\\\"token punctuation\\\">(</span>dir<span class=\\\"token punctuation\\\">,</span> file<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      fs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stat</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">async</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> stat<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token comment\\\">// If directory, execute a recursive call</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>stat <span class=\\\"token operator\\\">&amp;&amp;</span> stat<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isDirectory</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token function\\\">filewalker</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> res<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n            results <span class=\\\"token operator\\\">=</span> results<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span>res<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span><span class=\\\"token operator\\\">--</span>pending<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token comment\\\">// Check if is a Javascript file</span>\\n          <span class=\\\"token comment\\\">// And not a story or test</span>\\n          <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>\\n            file<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">endsWith</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".js\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n            <span class=\\\"token operator\\\">!</span>file<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">endsWith</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".story.js\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span>\\n            <span class=\\\"token operator\\\">!</span>file<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">endsWith</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\".test.js\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n          <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n            <span class=\\\"token keyword\\\">await</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Promise</span><span class=\\\"token punctuation\\\">(</span>resolve <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n              <span class=\\\"token function\\\">loadComponent</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">,</span> resolve<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token keyword\\\">await</span> results<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token operator\\\">!</span><span class=\\\"token operator\\\">--</span>pending<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token function\\\">done</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">,</span> results<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token function\\\">filewalker</span><span class=\\\"token punctuation\\\">(</span>componentFolder<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>err<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">throw</span> err<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">createComponentFile</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n</code></pre>\\n      </div>\\n<p>We use a function I found on Github called <code class=\\\"language-text\\\">firewalker()</code> that loads a folder and \\\"walks\\\" through each file. When we walk through each file, we check if it's a JS file (and not a test or Storybook JS file), and then run the <code class=\\\"language-text\\\">loadComponent()</code> function, which is a wrapper for Node's API for loading files. </p>\\n<p>Once the component file is actually loaded, we run the <code class=\\\"language-text\\\">parseComponent()</code> function that actually runs <strong>react-docgen</strong> on our file. Finally, we \\\"push\\\" the generated docs data to an array. After all the files load, our <code class=\\\"language-text\\\">firewalker()</code> function has a callback that runs a <code class=\\\"language-text\\\">createComponentFile()</code> function, which outputs the actual JSON file.</p>\\n<h3>Using the script</h3>\\n<p>Now we can generate a JSON file of all our components inside <code class=\\\"language-text\\\">/src/components/</code> by running the script in Node's CLI:</p>\\n<p><code class=\\\"language-text\\\">node generate-documentation.js</code></p>\\n<p>GatsbyJS support using JSON files as a \\\"source\\\" to build sites from using the <a href=\\\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-json\\\">gatsby-transformer-json</a>. When we load the file we generated, it converts the JSON into a GraphQL node we can query.</p>\\n<h2>Pure Gatsby</h2>\\n<p>The last method works, but it seemed cumbersome and error-prone having to rely on a separate tooling script. After a bit of research, I discovered a second, more integrated way to handle it.</p>\\n<ol>\\n<li>Use <a href=\\\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-react-docgen\\\">the react-docgen plugin for Gatsby</a> that grabs all components from a certain folder, generates the JSON, and spins up a GraphQL endpoint for it.</li>\\n</ol>\\n<p>We install the plugin and add it to our Gatsby config (along with a filesystem source that imports our components):</p>\\n<p><strong>gatsby-config.js</strong>:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\">module<span class=\\\"token punctuation\\\">.</span>exports <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  plugins<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">[</span>\\n    <span class=\\\"token punctuation\\\">{</span>\\n      resolve<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`gatsby-source-filesystem`</span></span><span class=\\\"token punctuation\\\">,</span>\\n      options<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span>\\n        name<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`components`</span></span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token comment\\\">// Location of your React components</span>\\n        path<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`../src/components/`</span></span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token comment\\\">// \\\"Transforms\\\" our \\\"source\\\" of React/JS files with the react-docgen CLI</span>\\n    <span class=\\\"token comment\\\">// and creates a GraphQL node with the output</span>\\n    <span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`gatsby-transformer-react-docgen`</span></span><span class=\\\"token punctuation\\\">,</span>\\n  <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>And then displaying our data is as simple as querying GraphQL:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">import</span> React<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> graphql <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'gatsby'</span>\\n<span class=\\\"token keyword\\\">import</span> Layout <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'../components/layout'</span>\\n\\n<span class=\\\"token keyword\\\">import</span> PropsTable <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'../components/propstable'</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">ComponentPage</span> <span class=\\\"token keyword\\\">extends</span> <span class=\\\"token class-name\\\">Component</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token punctuation\\\">{</span> children<span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">,</span> tableOfContents <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>props\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'mdx'</span><span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">.</span>mdx<span class=\\\"token punctuation\\\">)</span>\\n    console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'component metadata'</span><span class=\\\"token punctuation\\\">,</span> data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token operator\\\">&lt;</span>Layout<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>div className<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"content\\\"</span><span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token punctuation\\\">{</span>children<span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">&lt;</span>h1<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">.</span>displayName<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h1<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>p<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">.</span>docblock<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>p<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>h2 style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> marginTop<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'2rem'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>Props<span class=\\\"token punctuation\\\">:</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>h2<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>PropsTable\\n            propMetaData<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>data<span class=\\\"token punctuation\\\">.</span>componentMetadata<span class=\\\"token punctuation\\\">.</span>childrenComponentProp<span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>div<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>Layout<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">const</span> pageQuery <span class=\\\"token operator\\\">=</span> graphql<span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`\\n  query($name: String!) {\\n    componentMetadata(displayName: { eq: $name }) {\\n      id\\n      displayName\\n      docblock\\n      doclets\\n      childrenComponentProp {\\n        name\\n        docblock\\n        required\\n        parentType {\\n          name\\n        }\\n        type {\\n          value\\n        }\\n        defaultValue {\\n          value\\n          computed\\n        }\\n      }\\n      composes\\n    }\\n  }\\n`</span></span>\\n</code></pre>\\n      </div>\\n<h3>Bonus: Props Table</h3>\\n<p>In order to display all the data from our props (the description, default value, is it required?, etc), we create a component that accepts our props from the react-docgen CLI and outputs a table. <a href=\\\"https://github.com/episodeyang/react-component-props-table/\\\">I found this on Github</a> and altered it work with the Gatsby version of react-docgen:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-js\\\"><code class=\\\"language-js\\\"><span class=\\\"token keyword\\\">import</span> React<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">{</span> Component <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> PropTypes <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'prop-types'</span>\\n\\n<span class=\\\"token comment\\\">/**\\n * Table for React props generated by react-docgen\\n *\\n * @see https://github.com/episodeyang/react-component-props-table/\\n */</span>\\n<span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">PropsTable</span> <span class=\\\"token operator\\\">=</span> props <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">let</span> <span class=\\\"token punctuation\\\">{</span> className <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">,</span> propMetaData <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token operator\\\">...</span>_props <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token operator\\\">=</span> props\\n  <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>className<span class=\\\"token punctuation\\\">)</span> className <span class=\\\"token operator\\\">+=</span> <span class=\\\"token string\\\">' component-props-table'</span>\\n  <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token operator\\\">&lt;</span>table className<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>className<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token operator\\\">...</span>_props<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>thead<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span>tr<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Prop Name<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Type<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Is Required<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Default Value<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token operator\\\">&lt;</span>th<span class=\\\"token operator\\\">></span>Description<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>th<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>tr<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>thead<span class=\\\"token operator\\\">></span>\\n      <span class=\\\"token operator\\\">&lt;</span>tbody<span class=\\\"token operator\\\">></span>\\n        <span class=\\\"token punctuation\\\">{</span>Object<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">keys</span><span class=\\\"token punctuation\\\">(</span>propMetaData<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span>key <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">const</span> prop <span class=\\\"token operator\\\">=</span> propMetaData<span class=\\\"token punctuation\\\">[</span>key<span class=\\\"token punctuation\\\">]</span>\\n          <span class=\\\"token keyword\\\">return</span> <span class=\\\"token punctuation\\\">(</span>\\n            <span class=\\\"token operator\\\">&lt;</span>tr key<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span>key<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgb(17, 147, 154)'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>name<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token operator\\\">&lt;</span>td<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>parentType <span class=\\\"token operator\\\">?</span> prop<span class=\\\"token punctuation\\\">.</span>parentType<span class=\\\"token punctuation\\\">.</span>name <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>required <span class=\\\"token operator\\\">?</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgb(255, 76, 34)'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>required<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'#c6c6c6'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>optional<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n              <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>defaultValue <span class=\\\"token operator\\\">?</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'rgb(236, 171, 32)'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>\\n                  <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>defaultValue<span class=\\\"token punctuation\\\">.</span>value<span class=\\\"token punctuation\\\">}</span>\\n                <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">(</span>\\n                <span class=\\\"token operator\\\">&lt;</span>td style<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">{</span> color<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'#c6c6c6'</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">></span>none<span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span>\\n              <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n              <span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>docblock <span class=\\\"token operator\\\">?</span> <span class=\\\"token operator\\\">&lt;</span>td<span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">{</span>prop<span class=\\\"token punctuation\\\">.</span>docblock<span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>td<span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token operator\\\">&lt;</span>td <span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span><span class=\\\"token punctuation\\\">}</span>\\n            <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>tr<span class=\\\"token operator\\\">></span>\\n          <span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>tbody<span class=\\\"token operator\\\">></span>\\n    <span class=\\\"token operator\\\">&lt;</span><span class=\\\"token operator\\\">/</span>table<span class=\\\"token operator\\\">></span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\nPropsTable<span class=\\\"token punctuation\\\">.</span>propTypes <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">/** this is the `metadata.props` field of what metadata you get from the react-docgen-loader.  */</span>\\n  propMetaData<span class=\\\"token punctuation\\\">:</span> PropTypes<span class=\\\"token punctuation\\\">.</span>object<span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nPropsTable<span class=\\\"token punctuation\\\">.</span>defaultProps <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n  propMetaData<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token punctuation\\\">{</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> PropsTable\\n</code></pre>\\n      </div>\\n<p>Much more efficient as it runs react-docgen on build, rather than requiring us to run the script separately (or hook it into our build process). </p>\\n<p>Also imports the documentation as a GraphQL endpoint, allowing us to query the data -- instead of hard-importing a <em>(potentially giant)</em> JSON file -- or using the <code class=\\\"language-text\\\">gatsby-transformer-json</code> plugin (which doesn't format the data for GraphQL as well as the specific react-docgen plugin).</p>\\n\\n  <a class=\\\"gatsby-resp-image-link\\\" href=\\\"/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-d6e32.png\\\" style=\\\"display: block\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\n  \\n  <span class=\\\"gatsby-resp-image-wrapper\\\" style=\\\"position: relative; display: block; ; max-width: 1080px; margin-left: auto; margin-right: auto;\\\">\\n    <span class=\\\"gatsby-resp-image-background-image\\\" style=\\\"padding-bottom: 75.03184713375795%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADXUlEQVQ4y2WSWWxUZRTHT+i8OBmCvvlkfHGF4MJQSY2EkLo9CMUwdlNrjaUopVSxGlcWTYwGNUqrCZAgQQyUCGkhICk0xKhERGijM5KZ6Uxnv3dm7mzFWIH255nbMtJwk3/Od7+b+zv/s8ibYtEtaV5TdUmKDZJgvURZJ2FellHaxM9LcpEXxUeL/EGTXKBZzuORX/Vc1hka5Sfq5bTeDSEbFdIlcTpdXtbPHWGda5iOeaqbz7N27lna552l5aafaa46TaNjCI/jpOoETzuOaTxGnWOAuqoBVsoJ1Q9Ih7p5xRGkd8MQ32wdYsdbg2zfeJSe14/yVfdxdr03yLb2ft737GdzwwE21R9g84zsc9N+3l7Rx1NVR6iVw0i7BNRdgL9+i1MsFbk8cRWf9yIXfh8mY2YxjQyZdBbLyt2gbMaiNJ4n+GeKFc5+lksf0qq9WePykUtOAFOUn0hkDK/XSyqVpFQqUSjkbeXzs5XL5bj0d5GgL8WTzj6WybdIkwzTqn0bz1yxYZOTUwpKEQgECYfDxGIxopGoJomSTCbJZi3yuWlY2eX4pQJBb5InnN+xVHYjz8k52lznKKYv28ApNZlOpwmFQowGRwkqOBAI2DGbzVacVYBlhzZwD4/IDqRBflGHZ/4HqsMybGRkhEQiYcPTZtqOZcg1YDleD3zUuZMa6UE8uj/Pu35U4L8zDqcIh8IVYLFYnNWz63UNGPAmWObsoVo+RVbJIE2uUxQqQOxeRaOxG4ZQKBRmwS3LmgHGWer8nAflI+QxGcDjOk7BnKgMJawllwdR/snQcg3TtMtOJlO6KlkMw5wuO1fQKZfwe2PUOD/mPtmCLJfvqXP1U8xMVEpOKCBlGCTUqTEWxozHMLWHht6ZpoHf79epR+ykVj5jA5c4P2SBvIM8LgdZ5TpEzvjHBl69MomhC5tRpc0Mlq6Qpe7K71Z2+i4eTRCLxomMRTVJEt9wiMXOTdwjbyC1so/aOXtZ6z5CW81h1iw5RFv1QV5YvI+W6r08W72HZvduGhftpEm1etEXrHR/wjPu7TS4e6mv/pK6hduYP6ebu+VV5GHZxUPyNW7pZaF8xv2qB3RaC7TB98oHmnUL82Urd8q73KW6TTq4RVZzq7Ryu3SpOlUd+r2TOzT+B4+XfGIpxFYRAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\\\">\\n      <img class=\\\"gatsby-resp-image-image\\\" style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\" alt=\\\"Gatsby Documentation Starter using gatsby-transformer-react-docgen\\\" title=\\\"\\\" src=\\\"/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-e2462.png\\\" srcset=\\\"/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-f6591.png 270w,\\n/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-cce5f.png 540w,\\n/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-e2462.png 1080w,\\n/static/screenshot-e991536017bd42e7c1e36696cc0ff3cc-d6e32.png 1570w\\\" sizes=\\\"(max-width: 1080px) 100vw, 1080px\\\">\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n<p>You can download the final \\\"pure Gatsby\\\" version on Github here: <a href=\\\"https://github.com/whoisryosuke/gatsby-documentation-starter\\\">Gatsby Documentation Starter</a>.</p>\\n<h2>Getting documentation down</h2>\\n<p>I hope this helped you understand the process behind documentation, or specifically React component docs. Using the react-docgen CLI or API makes the process as simple as loading component files and feeding them through the library, pumping out structured data perfect for frontend interfaces.</p>\\n<p>There are plenty of out-of-the-box solutions out there, but it's always beneficial understanding how their work (demystifying the <em>magic</em> ‚ú®), particularly if you're looking to create something new and fresh <em>(frameworks only go so far)</em>.</p>\\n<p>Cheers,\\nRyo</p>\\n<hr>\\n<p><strong>References</strong>:</p>\\n<ul>\\n<li><a href=\\\"https://github.com/reactjs/react-docgen\\\">react-docgen</a></li>\\n<li><a href=\\\"https://github.com/reactjs/react-docgen/blob/master/example/buildDocs.sh\\\">react-docgen Official Example</a></li>\\n<li><a href=\\\"https://github.com/styleguidist/react-styleguidist/search?q=docgen&#x26;unscoped_q=docgen\\\">See how react-styleguidist uses react-docgen</a></li>\\n<li><a href=\\\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-react-docgen\\\">gatsby-transformer-react-docgen</a></li>\\n<li><a href=\\\"https://github.com/episodeyang/react-component-props-table/\\\">React Component Props Table</a></li>\\n<li><a href=\\\"https://github.com/whoisryosuke/gatsby-documentation-starter\\\">Gatsby Documentation Starter</a></li>\\n</ul>\",\"frontmatter\":{\"title\":\"Automating React Documentation using React-Docgen ‚öõ‚öôÔ∏èüìö\",\"cover_image\":{\"publicURL\":\"/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a.jpg\",\"childImageSharp\":{\"sizes\":{\"tracedSVG\":\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='267' viewBox='0 0 400 267' version='1'%3E%3Cpath d='M0 134v133h401V0H0v134m321-27c-3 1-4 3-4 9 0 5 0 6-4 7l-5 5c-2 3-2 3 1 6 2 2 4 4 6 4 1 0 2 2 2 7 1 6 2 9 5 9 2 0 7-2 9-4s2-2 5 0c7 7 13 4 13-5 0-6 0-6 5-8 8-4 8-10-1-14l-4-2v-6c0-9-4-11-11-6l-5 3-4-3c-5-3-5-3-8-2m-182 11v7h3c5 0 7-3 7-7 0-5-2-7-7-7h-3v7m188 7l-2 3-1 3c2 8 11 10 16 5 3-4 3-6 0-11-3-4-11-5-13 0m-186 17v11c0 2 6 1 8-1 5-5 1-13-6-13-2 0-2 1-2 3' fill='lightgray' fill-rule='evenodd'/%3E%3C/svg%3E\",\"src\":\"/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-4e8db.jpg\",\"srcSet\":\"/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-7cc04.jpg 310w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-69042.jpg 620w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-4e8db.jpg 1240w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-50ab1.jpg 1860w,\\n/static/Automating-React-Documentation-using-React-Docgen-1900w-c32470a02dcdcdd6468d686bd7041e8a-3a8b6.jpg 1900w\"}}},\"date\":\"24 September, 2018\",\"tags\":[\"react\",\"documentation\",\"node\",\"tips\"],\"section\":\"blog\"},\"fields\":{\"slug\":\"/blog/2018/automating-react-documentation-using-react-docgen/\"}},\"relatedPosts\":null},\"pathContext\":{\"tag\":\"node\",\"slug\":\"/blog/2018/automating-react-documentation-using-react-docgen/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/blog-2018-automating-react-documentation-using-react-docgen.json\n// module id = 557\n// module chunks = 37511052136574"],"sourceRoot":""}